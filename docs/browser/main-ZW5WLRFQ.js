var Wj=Object.defineProperty,Gj=Object.defineProperties;var Kj=Object.getOwnPropertyDescriptors;var JS=Object.getOwnPropertySymbols,Qj=Object.getPrototypeOf,Yj=Object.prototype.hasOwnProperty,Zj=Object.prototype.propertyIsEnumerable,Jj=Reflect.get;var XS=(t,e,n)=>e in t?Wj(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,j=(t,e)=>{for(var n in e||={})Yj.call(e,n)&&XS(t,n,e[n]);if(JS)for(var n of JS(e))Zj.call(e,n)&&XS(t,n,e[n]);return t},pe=(t,e)=>Gj(t,Kj(e));var hi=(t,e,n)=>Jj(Qj(t),n,e);var E=(t,e,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(u){i(u)}},o=l=>{try{a(n.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(t,e)).next())});function tA(t,e){return Object.is(t,e)}var it=null,bd=!1,dy=1,sn=Symbol("SIGNAL");function Ie(t){let e=it;return it=t,e}function nA(){return it}var Pl={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Td(t){if(bd)throw new Error("");if(it===null)return;it.consumerOnSignalRead(t);let e=it.nextProducerIndex++;if(Ad(it),e<it.producerNode.length&&it.producerNode[e]!==t&&kl(it)){let n=it.producerNode[e];Sd(n,it.producerIndexOfThis[e])}it.producerNode[e]!==t&&(it.producerNode[e]=t,it.producerIndexOfThis[e]=kl(it)?oA(t,it,e):0),it.producerLastReadVersion[e]=t.version}function Xj(){dy++}function rA(t){if(!(kl(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===dy)){if(!t.producerMustRecompute(t)&&!hy(t)){eA(t);return}t.producerRecomputeValue(t),eA(t)}}function iA(t){if(t.liveConsumerNode===void 0)return;let e=bd;bd=!0;try{for(let n of t.liveConsumerNode)n.dirty||eU(n)}finally{bd=e}}function sA(){return it?.consumerAllowSignalWrites!==!1}function eU(t){t.dirty=!0,iA(t),t.consumerMarkedDirty?.(t)}function eA(t){t.dirty=!1,t.lastCleanEpoch=dy}function Cd(t){return t&&(t.nextProducerIndex=0),Ie(t)}function fy(t,e){if(Ie(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(kl(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Sd(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function hy(t){Ad(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(rA(n),r!==n.version))return!0}return!1}function py(t){if(Ad(t),kl(t))for(let e=0;e<t.producerNode.length;e++)Sd(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function oA(t,e,n){if(aA(t),t.liveConsumerNode.length===0&&lA(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=oA(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Sd(t,e){if(aA(t),t.liveConsumerNode.length===1&&lA(t))for(let r=0;r<t.producerNode.length;r++)Sd(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Ad(i),i.producerIndexOfThis[r]=e}}function kl(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Ad(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function aA(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function lA(t){return t.producerNode!==void 0}function cA(t){let e=Object.create(tU);e.computation=t;let n=()=>{if(rA(e),Td(e),e.value===Dd)throw e.error;return e.value};return n[sn]=e,n}var cy=Symbol("UNSET"),uy=Symbol("COMPUTING"),Dd=Symbol("ERRORED"),tU=pe(j({},Pl),{value:cy,dirty:!0,error:null,equal:tA,kind:"computed",producerMustRecompute(t){return t.value===cy||t.value===uy},producerRecomputeValue(t){if(t.value===uy)throw new Error("Detected cycle in computations.");let e=t.value;t.value=uy;let n=Cd(t),r,i=!1;try{r=t.computation(),Ie(null),i=e!==cy&&e!==Dd&&r!==Dd&&t.equal(e,r)}catch(s){r=Dd,t.error=s}finally{fy(t,n)}if(i){t.value=e;return}t.value=r,t.version++}});function nU(){throw new Error}var uA=nU;function dA(){uA()}function fA(t){uA=t}var rU=null;function hA(t){let e=Object.create(gy);e.value=t;let n=()=>(Td(e),e.value);return n[sn]=e,n}function Rd(t,e){sA()||dA(),t.equal(t.value,e)||(t.value=e,iU(t))}function pA(t,e){sA()||dA(),Rd(t,e(t.value))}var gy=pe(j({},Pl),{equal:tA,value:void 0,kind:"signal"});function iU(t){t.version++,Xj(),iA(t),rU?.()}function oe(t){return typeof t=="function"}function wo(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Md=wo(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function rs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ze=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(s){e=s instanceof Md?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{gA(s)}catch(o){e=e??[],o instanceof Md?e=[...e,...o.errors]:e.push(o)}}if(e)throw new Md(e)}}add(e){var n;if(e&&e!==this)if(this.closed)gA(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&rs(n,e)}remove(e){let{_finalizers:n}=this;n&&rs(n,e),e instanceof t&&e._removeParent(this)}};ze.EMPTY=(()=>{let t=new ze;return t.closed=!0,t})();var my=ze.EMPTY;function Nd(t){return t instanceof ze||t&&"closed"in t&&oe(t.remove)&&oe(t.add)&&oe(t.unsubscribe)}function gA(t){oe(t)?t():t.unsubscribe()}var Rn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Io={setTimeout(t,e,...n){let{delegate:r}=Io;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Io;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function xd(t){Io.setTimeout(()=>{let{onUnhandledError:e}=Rn;if(e)e(t);else throw t})}function Ol(){}var mA=yy("C",void 0,void 0);function yA(t){return yy("E",void 0,t)}function vA(t){return yy("N",t,void 0)}function yy(t,e,n){return{kind:t,value:e,error:n}}var is=null;function bo(t){if(Rn.useDeprecatedSynchronousErrorHandling){let e=!is;if(e&&(is={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=is;if(is=null,n)throw r}}else t()}function _A(t){Rn.useDeprecatedSynchronousErrorHandling&&is&&(is.errorThrown=!0,is.error=t)}var ss=class extends ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Nd(e)&&e.add(this)):this.destination=aU}static create(e,n,r){return new Do(e,n,r)}next(e){this.isStopped?_y(vA(e),this):this._next(e)}error(e){this.isStopped?_y(yA(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?_y(mA,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},sU=Function.prototype.bind;function vy(t,e){return sU.call(t,e)}var Ey=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){kd(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){kd(r)}else kd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){kd(n)}}},Do=class extends ss{constructor(e,n,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Rn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&vy(e.next,s),error:e.error&&vy(e.error,s),complete:e.complete&&vy(e.complete,s)}):i=e}this.destination=new Ey(i)}};function kd(t){Rn.useDeprecatedSynchronousErrorHandling?_A(t):xd(t)}function oU(t){throw t}function _y(t,e){let{onStoppedNotification:n}=Rn;n&&Io.setTimeout(()=>n(t,e))}var aU={closed:!0,next:Ol,error:oU,complete:Ol};var To=typeof Symbol=="function"&&Symbol.observable||"@@observable";function on(t){return t}function wy(...t){return Iy(t)}function Iy(t){return t.length===0?on:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var ue=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=cU(n)?n:new Do(n,r,i);return bo(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=EA(r),new r((i,s)=>{let o=new Do({next:a=>{try{n(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[To](){return this}pipe(...n){return Iy(n)(this)}toPromise(n){return n=EA(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function EA(t){var e;return(e=t??Rn.Promise)!==null&&e!==void 0?e:Promise}function lU(t){return t&&oe(t.next)&&oe(t.error)&&oe(t.complete)}function cU(t){return t&&t instanceof ss||lU(t)&&Nd(t)}function by(t){return oe(t?.lift)}function be(t){return e=>{if(by(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ve(t,e,n,r,i){return new Dy(t,e,n,r,i)}var Dy=class extends ss{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(l){e.error(l)}}:super._next,this._error=i?function(a){try{i(a)}catch(l){e.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Co(){return be((t,e)=>{let n=null;t._refCount++;let r=ve(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var So=class extends ue{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,by(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ze;let n=this.getSubject();e.add(this.source.subscribe(ve(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ze.EMPTY)}return e}refCount(){return Co()(this)}};var wA=wo(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ge=(()=>{class t extends ue{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Pd(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new wA}next(n){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){bo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?my:(this.currentObservers=null,s.push(n),new ze(()=>{this.currentObservers=null,rs(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new ue;return n.source=this,n}}return t.create=(e,n)=>new Pd(e,n),t})(),Pd=class extends Ge{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:my}};var vt=class extends Ge{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Ty={now(){return(Ty.delegate||Date).now()},delegate:void 0};var Od=class extends ze{constructor(e,n){super()}schedule(e,n=0){return this}};var Fl={setInterval(t,e,...n){let{delegate:r}=Fl;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Fl;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ao=class extends Od{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Fl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Fl.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,rs(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ro=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ro.now=Ty.now;var Mo=class extends Ro{constructor(e,n=Ro.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Cy=new Mo(Ao);var Fd=class extends Ao{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ld=class extends Mo{};var Sy=new Ld(Fd);var Gt=new ue(t=>t.complete());function IA(t){return t&&oe(t.schedule)}function bA(t){return t[t.length-1]}function Vd(t){return oe(bA(t))?t.pop():void 0}function pi(t){return IA(bA(t))?t.pop():void 0}function jd(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function TA(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(h){o(h)}}function l(d){try{u(r.throw(d))}catch(h){o(h)}}function u(d){d.done?s(d.value):i(d.value).then(a,l)}u((r=r.apply(t,e||[])).next())})}function DA(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function os(t){return this instanceof os?(this.v=t,this):new os(t)}function CA(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(p){return function(_){return Promise.resolve(_).then(p,h)}}function a(p,_){r[p]&&(i[p]=function(I){return new Promise(function(w,R){s.push([p,I,w,R])>1||l(p,I)})},_&&(i[p]=_(i[p])))}function l(p,_){try{u(r[p](_))}catch(I){m(s[0][3],I)}}function u(p){p.value instanceof os?Promise.resolve(p.value.v).then(d,h):m(s[0][2],p)}function d(p){l("next",p)}function h(p){l("throw",p)}function m(p,_){p(_),s.shift(),s.length&&l(s[0][0],s[0][1])}}function SA(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof DA=="function"?DA(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,l){o=t[s](o),i(a,l,o.done,o.value)})}}function i(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}}var Ud=t=>t&&typeof t.length=="number"&&typeof t!="function";function Bd(t){return oe(t?.then)}function Hd(t){return oe(t[To])}function $d(t){return Symbol.asyncIterator&&oe(t?.[Symbol.asyncIterator])}function zd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function uU(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var qd=uU();function Wd(t){return oe(t?.[qd])}function Gd(t){return CA(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield os(n.read());if(i)return yield os(void 0);yield yield os(r)}}finally{n.releaseLock()}})}function Kd(t){return oe(t?.getReader)}function Je(t){if(t instanceof ue)return t;if(t!=null){if(Hd(t))return dU(t);if(Ud(t))return fU(t);if(Bd(t))return hU(t);if($d(t))return AA(t);if(Wd(t))return pU(t);if(Kd(t))return gU(t)}throw zd(t)}function dU(t){return new ue(e=>{let n=t[To]();if(oe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function fU(t){return new ue(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function hU(t){return new ue(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,xd)})}function pU(t){return new ue(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function AA(t){return new ue(e=>{mU(t,e).catch(n=>e.error(n))})}function gU(t){return AA(Gd(t))}function mU(t,e){var n,r,i,s;return TA(this,void 0,void 0,function*(){try{for(n=SA(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Kt(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function gi(t,e=0){return be((n,r)=>{n.subscribe(ve(r,i=>Kt(r,t,()=>r.next(i),e),()=>Kt(r,t,()=>r.complete(),e),i=>Kt(r,t,()=>r.error(i),e)))})}function mi(t,e=0){return be((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function RA(t,e){return Je(t).pipe(mi(e),gi(e))}function MA(t,e){return Je(t).pipe(mi(e),gi(e))}function NA(t,e){return new ue(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function xA(t,e){return new ue(n=>{let r;return Kt(n,e,()=>{r=t[qd](),Kt(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function Qd(t,e){if(!t)throw new Error("Iterable cannot be null");return new ue(n=>{Kt(n,e,()=>{let r=t[Symbol.asyncIterator]();Kt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function kA(t,e){return Qd(Gd(t),e)}function PA(t,e){if(t!=null){if(Hd(t))return RA(t,e);if(Ud(t))return NA(t,e);if(Bd(t))return MA(t,e);if($d(t))return Qd(t,e);if(Wd(t))return xA(t,e);if(Kd(t))return kA(t,e)}throw zd(t)}function Ue(t,e){return e?PA(t,e):Je(t)}function ne(...t){let e=pi(t);return Ue(t,e)}function No(t,e){let n=oe(t)?t:()=>t,r=i=>i.error(n());return new ue(e?i=>e.schedule(r,0,i):r)}function Ay(t){return!!t&&(t instanceof ue||oe(t.lift)&&oe(t.subscribe))}var Tr=wo(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function le(t,e){return be((n,r)=>{let i=0;n.subscribe(ve(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:yU}=Array;function vU(t,e){return yU(e)?t(...e):t(e)}function Yd(t){return le(e=>vU(t,e))}var{isArray:_U}=Array,{getPrototypeOf:EU,prototype:wU,keys:IU}=Object;function Zd(t){if(t.length===1){let e=t[0];if(_U(e))return{args:e,keys:null};if(bU(e)){let n=IU(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function bU(t){return t&&typeof t=="object"&&EU(t)===wU}function Jd(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Xd(...t){let e=pi(t),n=Vd(t),{args:r,keys:i}=Zd(t);if(r.length===0)return Ue([],e);let s=new ue(DU(r,e,i?o=>Jd(i,o):on));return n?s.pipe(Yd(n)):s}function DU(t,e,n=on){return r=>{OA(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let l=0;l<i;l++)OA(e,()=>{let u=Ue(t[l],e),d=!1;u.subscribe(ve(r,h=>{s[l]=h,d||(d=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function OA(t,e,n){t?Kt(n,t,e):e()}function FA(t,e,n,r,i,s,o,a){let l=[],u=0,d=0,h=!1,m=()=>{h&&!l.length&&!u&&e.complete()},p=I=>u<r?_(I):l.push(I),_=I=>{s&&e.next(I),u++;let w=!1;Je(n(I,d++)).subscribe(ve(e,R=>{i?.(R),s?p(R):e.next(R)},()=>{w=!0},void 0,()=>{if(w)try{for(u--;l.length&&u<r;){let R=l.shift();o?Kt(e,o,()=>_(R)):_(R)}m()}catch(R){e.error(R)}}))};return t.subscribe(ve(e,p,()=>{h=!0,m()})),()=>{a?.()}}function st(t,e,n=1/0){return oe(e)?st((r,i)=>le((s,o)=>e(r,s,i,o))(Je(t(r,i))),n):(typeof e=="number"&&(n=e),be((r,i)=>FA(r,i,t,n)))}function Ry(t=1/0){return st(on,t)}function LA(){return Ry(1)}function xo(...t){return LA()(Ue(t,pi(t)))}function ef(t){return new ue(e=>{Je(t()).subscribe(e)})}function My(...t){let e=Vd(t),{args:n,keys:r}=Zd(t),i=new ue(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),l=o,u=o;for(let d=0;d<o;d++){let h=!1;Je(n[d]).subscribe(ve(s,m=>{h||(h=!0,u--),a[d]=m},()=>l--,void 0,()=>{(!l||!h)&&(u||s.next(r?Jd(r,a):a),s.complete())}))}});return e?i.pipe(Yd(e)):i}function an(t,e){return be((n,r)=>{let i=0;n.subscribe(ve(r,s=>t.call(e,s,i++)&&r.next(s)))})}function yi(t){return be((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ve(n,void 0,void 0,o=>{s=Je(t(o,yi(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function VA(t,e,n,r,i){return(s,o)=>{let a=n,l=e,u=0;s.subscribe(ve(o,d=>{let h=u++;l=a?t(l,d,h):(a=!0,d),r&&o.next(l)},i&&(()=>{a&&o.next(l),o.complete()})))}}function vi(t,e){return oe(e)?st(t,e,1):st(t,1)}function _i(t){return be((e,n)=>{let r=!1;e.subscribe(ve(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Cr(t){return t<=0?()=>Gt:be((e,n)=>{let r=0;e.subscribe(ve(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function tf(t=TU){return be((e,n)=>{let r=!1;e.subscribe(ve(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function TU(){return new Tr}function as(t){return be((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Sr(t,e){let n=arguments.length>=2;return r=>r.pipe(t?an((i,s)=>t(i,s,r)):on,Cr(1),n?_i(e):tf(()=>new Tr))}function ko(t){return t<=0?()=>Gt:be((e,n)=>{let r=[];e.subscribe(ve(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Ny(t,e){let n=arguments.length>=2;return r=>r.pipe(t?an((i,s)=>t(i,s,r)):on,ko(1),n?_i(e):tf(()=>new Tr))}function xy(t,e){return be(VA(t,e,arguments.length>=2,!0))}function ky(...t){let e=pi(t);return be((n,r)=>{(e?xo(t,n,e):xo(t,n)).subscribe(r)})}function ln(t,e){return be((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ve(r,l=>{i?.unsubscribe();let u=0,d=s++;Je(t(l,d)).subscribe(i=ve(r,h=>r.next(e?e(l,h,d,u++):h),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Py(t){return be((e,n)=>{Je(t).subscribe(ve(n,()=>n.complete(),Ol)),!n.closed&&e.subscribe(n)})}function ut(t,e,n){let r=oe(t)||e||n?{next:t,error:e,complete:n}:t;return r?be((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ve(s,l=>{var u;(u=r.next)===null||u===void 0||u.call(r,l),s.next(l)},()=>{var l;a=!1,(l=r.complete)===null||l===void 0||l.call(r),s.complete()},l=>{var u;a=!1,(u=r.error)===null||u===void 0||u.call(r,l),s.error(l)},()=>{var l,u;a&&((l=r.unsubscribe)===null||l===void 0||l.call(r)),(u=r.finalize)===null||u===void 0||u.call(r)}))}):on}var D0="https://g.co/ng/security#xss",z=class extends Error{code;constructor(e,n){super(Lf(e,n)),this.code=e}};function Lf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}var T0=Symbol("InputSignalNode#UNSET"),CU=pe(j({},gy),{transformFn:void 0,applyValueToInputSignal(t,e){Rd(t,e)}});function C0(t,e){let n=Object.create(CU);n.value=t,n.transformFn=e?.transform;function r(){if(Td(n),n.value===T0)throw new z(-950,!1);return n.value}return r[sn]=n,r}function Yl(t){return{toString:t}.toString()}var nf="__parameters__";function SU(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function S0(t,e,n){return Yl(()=>{let r=SU(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(l,u,d){let h=l.hasOwnProperty(nf)?l[nf]:Object.defineProperty(l,nf,{value:[]})[nf];for(;h.length<=d;)h.push(null);return(h[d]=h[d]||[]).push(o),l}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Gy=globalThis;function ke(t){for(let e in t)if(t[e]===ke)return e;throw Error("Could not find renamed property on target object.")}function AU(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Ut(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Ut).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function jA(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var RU=ke({__forward_ref__:ke});function Zl(t){return t.__forward_ref__=Zl,t.toString=function(){return Ut(this())},t}function jt(t){return A0(t)?t():t}function A0(t){return typeof t=="function"&&t.hasOwnProperty(RU)&&t.__forward_ref__===Zl}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Yn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Vf(t){return UA(t,M0)||UA(t,N0)}function R0(t){return Vf(t)!==null}function UA(t,e){return t.hasOwnProperty(e)?t[e]:null}function MU(t){let e=t&&(t[M0]||t[N0]);return e||null}function BA(t){return t&&(t.hasOwnProperty(HA)||t.hasOwnProperty(NU))?t[HA]:null}var M0=ke({\u0275prov:ke}),HA=ke({\u0275inj:ke}),N0=ke({ngInjectableDef:ke}),NU=ke({ngInjectorDef:ke}),$=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(e,n){this._desc=e,this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function x0(t){return t&&!!t.\u0275providers}var xU=ke({\u0275cmp:ke}),kU=ke({\u0275dir:ke}),PU=ke({\u0275pipe:ke}),OU=ke({\u0275mod:ke}),hf=ke({\u0275fac:ke}),Ul=ke({__NG_ELEMENT_ID__:ke}),$A=ke({__NG_ENV_ID__:ke});function jf(t){return typeof t=="string"?t:t==null?"":String(t)}function FU(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():jf(t)}function LU(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new z(-200,t)}function Wv(t,e){throw new z(-201,!1)}var fe=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(fe||{}),Ky;function k0(){return Ky}function Qt(t){let e=Ky;return Ky=t,e}function P0(t,e,n){let r=Vf(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&fe.Optional)return null;if(e!==void 0)return e;Wv(t,"Injector")}var VU={},Bl=VU,Qy="__NG_DI_FLAG__",pf="ngTempTokenPath",jU="ngTokenPath",UU=/\n/gm,BU="\u0275",zA="__source",Lo;function HU(){return Lo}function Ei(t){let e=Lo;return Lo=t,e}function $U(t,e=fe.Default){if(Lo===void 0)throw new z(-203,!1);return Lo===null?P0(t,void 0,e):Lo.get(t,e&fe.Optional?null:void 0,e)}function Q(t,e=fe.Default){return(k0()||$U)(jt(t),e)}function V(t,e=fe.Default){return Q(t,Uf(e))}function Uf(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Yy(t){let e=[];for(let n=0;n<t.length;n++){let r=jt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new z(900,!1);let i,s=fe.Default;for(let o=0;o<r.length;o++){let a=r[o],l=zU(a);typeof l=="number"?l===-1?i=a.token:s|=l:i=a}e.push(Q(i,s))}else e.push(Q(r))}return e}function O0(t,e){return t[Qy]=e,t.prototype[Qy]=e,t}function zU(t){return t[Qy]}function qU(t,e,n,r){let i=t[pf];throw e[zA]&&i.unshift(e[zA]),t.message=WU(`
`+t.message,i,n,r),t[jU]=i,t[pf]=null,t}function WU(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==BU?t.slice(2):t;let i=Ut(e);if(Array.isArray(e))i=e.map(Ut).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Ut(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(UU,`
  `)}`}var dt=O0(S0("Optional"),8);var F0=O0(S0("SkipSelf"),4);function cs(t,e){let n=t.hasOwnProperty(hf);return n?t[hf]:null}function GU(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}function KU(t){return t.flat(Number.POSITIVE_INFINITY)}function Gv(t,e){t.forEach(n=>Array.isArray(n)?Gv(n,e):e(n))}function L0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function gf(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function QU(t,e){let n=[];for(let r=0;r<t;r++)n.push(e);return n}function YU(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function ZU(t,e,n){let r=Jl(t,e);return r>=0?t[r|1]=n:(r=~r,YU(t,r,e,n)),r}function Oy(t,e){let n=Jl(t,e);if(n>=0)return t[n|1]}function Jl(t,e){return JU(t,e,1)}function JU(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var jo={},_n=[],Uo=new $(""),V0=new $("",-1),j0=new $(""),mf=class{get(e,n=Bl){if(n===Bl){let r=new Error(`NullInjectorError: No provider for ${Ut(e)}!`);throw r.name="NullInjectorError",r}return n}};function U0(t,e){let n=t[OU]||null;if(!n&&e===!0)throw new Error(`Type ${Ut(t)} does not have '\u0275mod' property.`);return n}function us(t){return t[xU]||null}function B0(t){return t[kU]||null}function H0(t){return t[PU]||null}function $0(t){let e=us(t)||B0(t)||H0(t);return e!==null&&e.standalone}function Zt(t){return{\u0275providers:t}}function XU(...t){return{\u0275providers:z0(!0,t),\u0275fromNgModule:!0}}function z0(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return Gv(e,o=>{let a=o;Zy(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&q0(i,s),n}function q0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Kv(i,s=>{e(s,r)})}}function Zy(t,e,n,r){if(t=jt(t),!t)return!1;let i=null,s=BA(t),o=!s&&us(t);if(!s&&!o){let l=t.ngModule;if(s=BA(l),s)i=l;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let l=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let u of l)Zy(u,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let u;try{Gv(s.imports,d=>{Zy(d,e,n,r)&&(u||=[],u.push(d))})}finally{}u!==void 0&&q0(u,e)}if(!a){let u=cs(i)||(()=>new i);e({provide:i,useFactory:u,deps:_n},i),e({provide:j0,useValue:i,multi:!0},i),e({provide:Uo,useValue:()=>Q(i),multi:!0},i)}let l=s.providers;if(l!=null&&!a){let u=t;Kv(l,d=>{e(d,u)})}}else return!1;return i!==t&&t.providers!==void 0}function Kv(t,e){for(let n of t)x0(n)&&(n=n.\u0275providers),Array.isArray(n)?Kv(n,e):e(n)}var eB=ke({provide:String,useValue:ke});function W0(t){return t!==null&&typeof t=="object"&&eB in t}function tB(t){return!!(t&&t.useExisting)}function nB(t){return!!(t&&t.useFactory)}function Bo(t){return typeof t=="function"}function rB(t){return!!t.useClass}var Bf=new $(""),af={},iB={},Fy;function Qv(){return Fy===void 0&&(Fy=new mf),Fy}var Mt=class{},Hl=class extends Mt{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,Xy(e,o=>this.processProvider(o)),this.records.set(V0,Po(void 0,this)),i.has("environment")&&this.records.set(Mt,Po(void 0,this));let s=this.records.get(Bf);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(j0,_n,fe.Self))}destroy(){Vl(this),this._destroyed=!0;let e=Ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(e)}}onDestroy(e){return Vl(this),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){Vl(this);let n=Ei(this),r=Qt(void 0),i;try{return e()}finally{Ei(n),Qt(r)}}get(e,n=Bl,r=fe.Default){if(Vl(this),e.hasOwnProperty($A))return e[$A](this);r=Uf(r);let i,s=Ei(this),o=Qt(void 0);try{if(!(r&fe.SkipSelf)){let l=this.records.get(e);if(l===void 0){let u=cB(e)&&Vf(e);u&&this.injectableDefInScope(u)?l=Po(Jy(e),af):l=null,this.records.set(e,l)}if(l!=null)return this.hydrate(e,l)}let a=r&fe.Self?Qv():this.parent;return n=r&fe.Optional&&n===Bl?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[pf]=a[pf]||[]).unshift(Ut(e)),s)throw a;return qU(a,e,"R3InjectorError",this.source)}else throw a}finally{Qt(o),Ei(s)}}resolveInjectorInitializers(){let e=Ie(null),n=Ei(this),r=Qt(void 0),i;try{let s=this.get(Uo,_n,fe.Self);for(let o of s)o()}finally{Ei(n),Qt(r),Ie(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Ut(r));return`R3Injector[${e.join(", ")}]`}processProvider(e){e=jt(e);let n=Bo(e)?e:jt(e&&e.provide),r=oB(e);if(!Bo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Po(void 0,af,!0),i.factory=()=>Yy(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ie(null);try{return n.value===af&&(n.value=iB,n.value=n.factory()),typeof n.value=="object"&&n.value&&lB(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ie(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=jt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Jy(t){let e=Vf(t),n=e!==null?e.factory:cs(t);if(n!==null)return n;if(t instanceof $)throw new z(204,!1);if(t instanceof Function)return sB(t);throw new z(204,!1)}function sB(t){if(t.length>0)throw new z(204,!1);let n=MU(t);return n!==null?()=>n.factory(t):()=>new t}function oB(t){if(W0(t))return Po(void 0,t.useValue);{let e=G0(t);return Po(e,af)}}function G0(t,e,n){let r;if(Bo(t)){let i=jt(t);return cs(i)||Jy(i)}else if(W0(t))r=()=>jt(t.useValue);else if(nB(t))r=()=>t.useFactory(...Yy(t.deps||[]));else if(tB(t))r=()=>Q(jt(t.useExisting));else{let i=jt(t&&(t.useClass||t.provide));if(aB(t))r=()=>new i(...Yy(t.deps));else return cs(i)||Jy(i)}return r}function Vl(t){if(t.destroyed)throw new z(205,!1)}function Po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function aB(t){return!!t.deps}function lB(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function cB(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function Xy(t,e){for(let n of t)Array.isArray(n)?Xy(n,e):n&&x0(n)?Xy(n.\u0275providers,e):e(n)}function Et(t,e){t instanceof Hl&&Vl(t);let n,r=Ei(t),i=Qt(void 0);try{return e()}finally{Ei(r),Qt(i)}}function K0(){return k0()!==void 0||HU()!=null}function Q0(t){if(!K0())throw new z(-203,!1)}function uB(t){return typeof t=="function"}var kr=0,ge=1,ie=2,Nt=3,Nn=4,Jt=5,$l=6,yf=7,wn=8,zl=9,Ar=10,Ke=11,ql=12,qA=13,Qo=14,In=15,ds=16,Oo=17,Rr=18,Hf=19,Y0=20,wi=21,Ly=22,vf=23,cn=24,Yt=25,Z0=1;var fs=7,_f=8,Ho=9,un=10;function Ii(t){return Array.isArray(t)&&typeof t[Z0]=="object"}function Pr(t){return Array.isArray(t)&&t[Z0]===!0}function Yv(t){return(t.flags&4)!==0}function _s(t){return t.componentOffset>-1}function $f(t){return(t.flags&1)===1}function Mr(t){return!!t.template}function Ef(t){return(t[ie]&512)!==0}function Xl(t){return(t[ie]&256)===256}var ev=class{previousValue;currentValue;firstChange;constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function J0(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}var Or=(()=>{let t=()=>X0;return t.ngInherit=!0,t})();function X0(t){return t.type.prototype.ngOnChanges&&(t.setInput=fB),dB}function dB(){let t=tR(this),e=t?.current;if(e){let n=t.previous;if(n===jo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function fB(t,e,n,r,i){let s=this.declaredInputs[r],o=tR(t)||hB(t,{previous:jo,current:null}),a=o.current||(o.current={}),l=o.previous,u=l[s];a[s]=new ev(u&&u.currentValue,n,l===jo),J0(t,e,i,n)}var eR="__ngSimpleChanges__";function tR(t){return t[eR]||null}function hB(t,e){return t[eR]=e}var WA=null;var En=function(t,e,n){WA?.(t,e,n)},nR="svg",pB="math";function Wn(t){for(;Array.isArray(t);)t=t[kr];return t}function rR(t,e){return Wn(e[t])}function xn(t,e){return Wn(e[t.index])}function iR(t,e){return t.data[e]}function gB(t,e){return t[e]}function Gn(t,e){let n=e[t];return Ii(n)?n:n[kr]}function mB(t){return(t[ie]&4)===4}function Zv(t){return(t[ie]&128)===128}function yB(t){return Pr(t[Nt])}function $o(t,e){return e==null?null:t[e]}function sR(t){t[Oo]=0}function Jv(t){t[ie]&1024||(t[ie]|=1024,Zv(t)&&qf(t))}function vB(t,e){for(;t>0;)e=e[Qo],t--;return e}function zf(t){return!!(t[ie]&9216||t[cn]?.dirty)}function tv(t){t[Ar].changeDetectionScheduler?.notify(9),t[ie]&64&&(t[ie]|=1024),zf(t)&&qf(t)}function qf(t){t[Ar].changeDetectionScheduler?.notify(0);let e=hs(t);for(;e!==null&&!(e[ie]&8192||(e[ie]|=8192,!Zv(e)));)e=hs(e)}function oR(t,e){if(Xl(t))throw new z(911,!1);t[wi]===null&&(t[wi]=[]),t[wi].push(e)}function _B(t,e){if(t[wi]===null)return;let n=t[wi].indexOf(e);n!==-1&&t[wi].splice(n,1)}function hs(t){let e=t[Nt];return Pr(e)?e[Nt]:e}function aR(t){return t[yf]??=[]}function lR(t){return t.cleanup??=[]}function EB(t,e,n,r){let i=aR(e);i.push(n),t.firstCreatePass&&lR(t).push(r,i.length-1)}var he={lFrame:gR(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var nv=!1;function wB(){return he.lFrame.elementDepthCount}function IB(){he.lFrame.elementDepthCount++}function bB(){he.lFrame.elementDepthCount--}function Wf(){return he.bindingsEnabled}function cR(){return he.skipHydrationRootTNode!==null}function DB(t){return he.skipHydrationRootTNode===t}function TB(){he.skipHydrationRootTNode=null}function Ee(){return he.lFrame.lView}function Xe(){return he.lFrame.tView}function Es(t){return he.lFrame.contextLView=t,t[wn]}function ws(t){return he.lFrame.contextLView=null,t}function Bt(){let t=uR();for(;t!==null&&t.type===64;)t=t.parent;return t}function uR(){return he.lFrame.currentTNode}function CB(){let t=he.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Is(t,e){let n=he.lFrame;n.currentTNode=t,n.isParent=e}function Xv(){return he.lFrame.isParent}function e_(){he.lFrame.isParent=!1}function dR(){return nv}function GA(t){let e=nv;return nv=t,e}function t_(){let t=he.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function SB(t){return he.lFrame.bindingIndex=t}function Gf(){return he.lFrame.bindingIndex++}function AB(t){let e=he.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function RB(){return he.lFrame.inI18n}function MB(t,e){let n=he.lFrame;n.bindingIndex=n.bindingRootIndex=t,rv(e)}function NB(){return he.lFrame.currentDirectiveIndex}function rv(t){he.lFrame.currentDirectiveIndex=t}function xB(t){let e=he.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function fR(){return he.lFrame.currentQueryIndex}function n_(t){he.lFrame.currentQueryIndex=t}function kB(t){let e=t[ge];return e.type===2?e.declTNode:e.type===1?t[Jt]:null}function hR(t,e,n){if(n&fe.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&fe.Host);)if(i=kB(s),i===null||(s=s[Qo],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=he.lFrame=pR();return r.currentTNode=e,r.lView=t,!0}function r_(t){let e=pR(),n=t[ge];he.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function pR(){let t=he.lFrame,e=t===null?null:t.child;return e===null?gR(t):e}function gR(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function mR(){let t=he.lFrame;return he.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var yR=mR;function i_(){let t=mR();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function PB(t){return(he.lFrame.contextLView=vB(t,he.lFrame.contextLView))[wn]}function Yo(){return he.lFrame.selectedIndex}function ps(t){he.lFrame.selectedIndex=t}function s_(){let t=he.lFrame;return iR(t.tView,t.selectedIndex)}function vR(){he.lFrame.currentNamespace=nR}function OB(){return he.lFrame.currentNamespace}var _R=!0;function Kf(){return _R}function Qf(t){_R=t}function FB(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=X0(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function o_(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),l&&(t.viewHooks??=[]).push(-n,l),u&&((t.viewHooks??=[]).push(n,u),(t.viewCheckHooks??=[]).push(n,u)),d!=null&&(t.destroyHooks??=[]).push(n,d)}}function lf(t,e,n){ER(t,e,3,n)}function cf(t,e,n,r){(t[ie]&3)===n&&ER(t,e,n,r)}function Vy(t,e){let n=t[ie];(n&3)===e&&(n&=16383,n+=1,t[ie]=n)}function ER(t,e,n,r){let i=r!==void 0?t[Oo]&65535:0,s=r??-1,o=e.length-1,a=0;for(let l=i;l<o;l++)if(typeof e[l+1]=="number"){if(a=e[l],r!=null&&a>=r)break}else e[l]<0&&(t[Oo]+=65536),(a<s||s==-1)&&(LB(t,n,e,l),t[Oo]=(t[Oo]&4294901760)+l+2),l++}function KA(t,e){En(4,t,e);let n=Ie(null);try{e.call(t)}finally{Ie(n),En(5,t,e)}}function LB(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[ie]>>14<t[Oo]>>16&&(t[ie]&3)===e&&(t[ie]+=16384,KA(a,s)):KA(a,s)}var Vo=-1,gs=class{factory;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(e,n,r){this.factory=e,this.canSeeViewProviders=n,this.injectImpl=r}};function VB(t){return t instanceof gs}function jB(t){return(t.flags&8)!==0}function UB(t){return(t.flags&16)!==0}function BB(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];HB(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function wR(t){return t===3||t===4||t===6}function HB(t){return t.charCodeAt(0)===64}function zo(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?QA(t,n,i,null,e[++r]):QA(t,n,i,null,null))}}return t}function QA(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var jy={},iv=class{injector;parentInjector;constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Uf(r);let i=this.injector.get(e,jy,r);return i!==jy||n===jy?i:this.parentInjector.get(e,n,r)}};function IR(t){return t!==Vo}function wf(t){return t&32767}function $B(t){return t>>16}function If(t,e){let n=$B(t),r=e;for(;n>0;)r=r[Qo],n--;return r}var sv=!0;function bf(t){let e=sv;return sv=t,e}var zB=256,bR=zB-1,DR=5,qB=0,qn={};function WB(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ul)&&(r=n[Ul]),r==null&&(r=n[Ul]=qB++);let i=r&bR,s=1<<i;e.data[t+(i>>DR)]|=s}function Df(t,e){let n=TR(t,e);if(n!==-1)return n;let r=e[ge];r.firstCreatePass&&(t.injectorIndex=e.length,Uy(r.data,t),Uy(e,null),Uy(r.blueprint,null));let i=a_(t,e),s=t.injectorIndex;if(IR(i)){let o=wf(i),a=If(i,e),l=a[ge].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|l[o+u]}return e[s+8]=i,s}function Uy(t,e){t.push(0,0,0,0,0,0,0,0,e)}function TR(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function a_(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=MR(i),r===null)return Vo;if(n++,i=i[Qo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Vo}function ov(t,e,n){WB(t,e,n)}function GB(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(wR(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function CR(t,e,n){if(n&fe.Optional||t!==void 0)return t;Wv(e,"NodeInjector")}function SR(t,e,n,r){if(n&fe.Optional&&r===void 0&&(r=null),!(n&(fe.Self|fe.Host))){let i=t[zl],s=Qt(void 0);try{return i?i.get(e,r,n&fe.Optional):P0(e,r,n&fe.Optional)}finally{Qt(s)}}return CR(r,e,n)}function AR(t,e,n,r=fe.Default,i){if(t!==null){if(e[ie]&2048&&!(r&fe.Self)){let o=ZB(t,e,n,r,qn);if(o!==qn)return o}let s=RR(t,e,n,r,qn);if(s!==qn)return s}return SR(e,n,r,i)}function RR(t,e,n,r,i){let s=QB(n);if(typeof s=="function"){if(!hR(e,t,r))return r&fe.Host?CR(i,n,r):SR(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&fe.Optional))Wv(n);else return o}finally{yR()}}else if(typeof s=="number"){let o=null,a=TR(t,e),l=Vo,u=r&fe.Host?e[In][Jt]:null;for((a===-1||r&fe.SkipSelf)&&(l=a===-1?a_(t,e):e[a+8],l===Vo||!ZA(r,!1)?a=-1:(o=e[ge],a=wf(l),e=If(l,e)));a!==-1;){let d=e[ge];if(YA(s,a,d.data)){let h=KB(a,e,n,o,r,u);if(h!==qn)return h}l=e[a+8],l!==Vo&&ZA(r,e[ge].data[a+8]===u)&&YA(s,a,e)?(o=d,a=wf(l),e=If(l,e)):a=-1}}return i}function KB(t,e,n,r,i,s){let o=e[ge],a=o.data[t+8],l=r==null?_s(a)&&sv:r!=o&&(a.type&3)!==0,u=i&fe.Host&&s===a,d=uf(a,o,n,l,u);return d!==null?Wl(e,o,d,a):qn}function uf(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,l=t.directiveStart,u=t.directiveEnd,d=s>>20,h=r?a:a+d,m=i?a+d:u;for(let p=h;p<m;p++){let _=o[p];if(p<l&&n===_||p>=l&&_.type===n)return p}if(i){let p=o[l];if(p&&Mr(p)&&p.type===n)return l}return null}function Wl(t,e,n,r){let i=t[n],s=e.data;if(VB(i)){let o=i;o.resolving&&LU(FU(s[n]));let a=bf(o.canSeeViewProviders);o.resolving=!0;let l,u=o.injectImpl?Qt(o.injectImpl):null,d=hR(t,r,fe.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&FB(n,s[n],e)}finally{u!==null&&Qt(u),bf(a),o.resolving=!1,yR()}}return i}function QB(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ul)?t[Ul]:void 0;return typeof e=="number"?e>=0?e&bR:YB:e}function YA(t,e,n){let r=1<<t;return!!(n[e+(t>>DR)]&r)}function ZA(t,e){return!(t&fe.Self)&&!(t&fe.Host&&e)}var ls=class{_tNode;_lView;constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return AR(this._tNode,this._lView,e,Uf(r),n)}};function YB(){return new ls(Bt(),Ee())}function ec(t){return Yl(()=>{let e=t.prototype.constructor,n=e[hf]||av(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[hf]||av(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function av(t){return A0(t)?()=>{let e=av(jt(t));return e&&e()}:cs(t)}function ZB(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[ie]&2048&&!Ef(o);){let a=RR(s,o,n,r|fe.Self,qn);if(a!==qn)return a;let l=s.parent;if(!l){let u=o[Y0];if(u){let d=u.get(n,qn,r);if(d!==qn)return d}l=MR(o),o=o[Qo]}s=l}return i}function MR(t){let e=t[ge],n=e.type;return n===2?e.declTNode:n===1?t[Jt]:null}function l_(t){return GB(Bt(),t)}function JA(t,e=null,n=null,r){let i=NR(t,e,n,r);return i.resolveInjectorInitializers(),i}function NR(t,e=null,n=null,r,i=new Set){let s=[n||_n,XU(t)];return r=r||(typeof t=="object"?void 0:Ut(t)),new Hl(s,e||Qv(),r||null,i)}var Qe=class t{static THROW_IF_NOT_FOUND=Bl;static NULL=new mf;static create(e,n){if(Array.isArray(e))return JA({name:""},n,e,"");{let r=e.name??"";return JA({name:r},e.parent,e.providers,r)}}static \u0275prov=q({token:t,providedIn:"any",factory:()=>Q(V0)});static __NG_ELEMENT_ID__=-1};var JB=new $("");JB.__NG_ELEMENT_ID__=t=>{let e=Bt();if(e===null)throw new z(204,!1);if(e.type&2)return e.value;if(t&fe.Optional)return null;throw new z(204,!1)};var xR=!1,tc=(()=>{class t{static __NG_ELEMENT_ID__=XB;static __NG_ENV_ID__=n=>n}return t})(),lv=class extends tc{_lView;constructor(e){super(),this._lView=e}onDestroy(e){return oR(this._lView,e),()=>_B(this._lView,e)}};function XB(){return new lv(Ee())}var qo=class{},Yf=new $("",{providedIn:"root",factory:()=>!1});var kR=new $(""),PR=new $(""),Fr=(()=>{class t{taskId=0;pendingTasks=new Set;get _hasPendingTasks(){return this.hasPendingTasks.value}hasPendingTasks=new vt(!1);add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}has(n){return this.pendingTasks.has(n)}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static \u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})(),Zf=(()=>{class t{internalPendingTasks=V(Fr);scheduler=V(qo);add(){let n=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(n)&&(this.scheduler.notify(12),this.internalPendingTasks.remove(n))}}run(n){return E(this,null,function*(){let r=this.add();try{return yield n()}finally{r()}})}static \u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})(),cv=class extends Ge{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(e=!1){super(),this.__isAsync=e,K0()&&(this.destroyRef=V(tc,{optional:!0})??void 0,this.pendingTasks=V(Fr,{optional:!0})??void 0)}emit(e){let n=Ie(null);try{super.next(e)}finally{Ie(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let l=e;i=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof ze&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},_t=cv;function Tf(...t){}function OR(t){let e,n;function r(){t=Tf;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function XA(t){return queueMicrotask(()=>t()),()=>{t=Tf}}var c_="isAngularZone",Cf=c_+"_ID",e2=0,Ae=class t{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new _t(!1);onMicrotaskEmpty=new _t(!1);onStable=new _t(!1);onError=new _t(!1);constructor(e){let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=xR}=e;if(typeof Zone>"u")throw new z(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,r2(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(c_)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new z(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new z(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,t2,Tf,Tf);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},t2={};function u_(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function n2(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){OR(()=>{t.callbackScheduled=!1,uv(t),t.isCheckStableRunning=!0,u_(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),uv(t)}function r2(t){let e=()=>{n2(t)},n=e2++;t._inner=t._inner.fork({name:"angular",properties:{[c_]:!0,[Cf]:n,[Cf+n]:!0},onInvokeTask:(r,i,s,o,a,l)=>{if(i2(l))return r.invokeTask(s,o,a,l);try{return e0(t),r.invokeTask(s,o,a,l)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),t0(t)}},onInvoke:(r,i,s,o,a,l,u)=>{try{return e0(t),r.invoke(s,o,a,l,u)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!s2(l)&&e(),t0(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,uv(t),u_(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function uv(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function e0(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function t0(t){t._nesting--,u_(t)}var dv=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new _t;onMicrotaskEmpty=new _t;onStable=new _t;onError=new _t;run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function i2(t){return FR(t,"__ignore_ng_zone__")}function s2(t){return FR(t,"__scheduler_tick__")}function FR(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var bi=class{_console=console;handleError(e){this._console.error("ERROR",e)}},o2=new $("",{providedIn:"root",factory:()=>{let t=V(Ae),e=V(bi);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function n0(t,e){return C0(t,e)}function a2(t){return C0(T0,t)}var LR=(n0.required=a2,n0);function l2(){return Zo(Bt(),Ee())}function Zo(t,e){return new xt(xn(t,e))}var xt=(()=>{class t{nativeElement;constructor(n){this.nativeElement=n}static __NG_ELEMENT_ID__=l2}return t})();function c2(t){return t instanceof xt?t.nativeElement:t}var r0=new Set;function Jo(t){r0.has(t)||(r0.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function u2(t){return typeof t=="function"&&t[sn]!==void 0}function nc(t,e){Jo("NgSignals");let n=hA(t),r=n[sn];return e?.equal&&(r.equal=e.equal),n.set=i=>Rd(r,i),n.update=i=>pA(r,i),n.asReadonly=d2.bind(n),n}function d2(){let t=this[sn];if(t.readonlyFn===void 0){let e=()=>this();e[sn]=t,t.readonlyFn=e}return t.readonlyFn}function VR(t){return u2(t)&&typeof t.set=="function"}function f2(){return this._results[Symbol.iterator]()}var fv=class{_emitDistinctChangesOnly;dirty=!0;_onDirty=void 0;_results=[];_changesDetected=!1;_changes=void 0;length=0;first=void 0;last=void 0;get changes(){return this._changes??=new Ge}constructor(e=!1){this._emitDistinctChangesOnly=e}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){this.dirty=!1;let r=KU(e);(this._changesDetected=!GU(this._results,r,n))&&(this._results=r,this.length=r.length,this.last=r[this.length-1],this.first=r[0])}notifyOnChanges(){this._changes!==void 0&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.next(this)}onDirty(e){this._onDirty=e}setDirty(){this.dirty=!0,this._onDirty?.()}destroy(){this._changes!==void 0&&(this._changes.complete(),this._changes.unsubscribe())}[Symbol.iterator]=f2};function jR(t){return(t.flags&128)===128}var UR=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(UR||{}),BR=new Map,h2=0;function p2(){return h2++}function g2(t){BR.set(t[Hf],t)}function hv(t){BR.delete(t[Hf])}var i0="__ngContext__";function bs(t,e){Ii(e)?(t[i0]=e[Hf],g2(e)):t[i0]=e}function HR(t){return zR(t[ql])}function $R(t){return zR(t[Nn])}function zR(t){for(;t!==null&&!Pr(t);)t=t[Nn];return t}var pv;function qR(t){pv=t}function m2(){if(pv!==void 0)return pv;if(typeof document<"u")return document;throw new z(210,!1)}var d_=new $("",{providedIn:"root",factory:()=>y2}),y2="ng",f_=new $(""),bn=new $("",{providedIn:"platform",factory:()=>"unknown"});var h_=new $("",{providedIn:"root",factory:()=>m2().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var v2="h",_2="b";var WR=!1,E2=new $("",{providedIn:"root",factory:()=>WR});var GR=function(t){return t[t.CHANGE_DETECTION=0]="CHANGE_DETECTION",t[t.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",t}(GR||{}),Jf=new $("");var w2=(()=>{class t{impl=null;execute(){this.impl?.execute()}static \u0275prov=q({token:t,providedIn:"root",factory:()=>new t})}return t})();var I2=()=>null;function KR(t,e,n=!1){return I2(t,e,n)}function QR(t,e){let n=t.contentQueries;if(n!==null){let r=Ie(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];n_(s),a.contentQueries(2,e[o],o)}}}finally{Ie(r)}}}function gv(t,e,n){n_(0);let r=Ie(null);try{e(t,n)}finally{Ie(r)}}function p_(t,e,n){if(Yv(e)){let r=Ie(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let l=n[o];a.contentQueries(1,l,o)}}}finally{Ie(r)}}}var Kn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Kn||{});var rf;function b2(){if(rf===void 0&&(rf=null,Gy.trustedTypes))try{rf=Gy.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return rf}function s0(t){return b2()?.createScriptURL(t)||t}var Sf=class{changingThisBreaksApplicationSecurity;constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${D0})`}};function rc(t){return t instanceof Sf?t.changingThisBreaksApplicationSecurity:t}function g_(t,e){let n=D2(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${D0})`)}return n===e}function D2(t){return t instanceof Sf&&t.getTypeName()||null}var T2=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function YR(t){return t=String(t),t.match(T2)?t:"unsafe:"+t}var Xf=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Xf||{});function ic(t){let e=JR();return e?e.sanitize(Xf.URL,t)||"":g_(t,"URL")?rc(t):YR(jf(t))}function C2(t){let e=JR();if(e)return s0(e.sanitize(Xf.RESOURCE_URL,t)||"");if(g_(t,"ResourceURL"))return s0(rc(t));throw new z(904,!1)}function S2(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?C2:ic}function ZR(t,e,n){return S2(e,n)(t)}function JR(){let t=Ee();return t&&t[Ar].sanitizer}var A2=/^>|^->|<!--|-->|--!>|<!-$/g,R2=/(<|>)/g,M2="\u200B$1\u200B";function N2(t){return t.replace(A2,e=>e.replace(R2,M2))}function XR(t){return t instanceof Function?t():t}function x2(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}var eM="ng-template";function k2(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&x2(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(m_(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function m_(t){return t.type===4&&t.value!==eM}function P2(t,e,n){let r=t.type===4&&!n?eM:t.value;return e===r}function O2(t,e,n){let r=4,i=t.attrs,s=i!==null?V2(i):0,o=!1;for(let a=0;a<e.length;a++){let l=e[a];if(typeof l=="number"){if(!o&&!Mn(r)&&!Mn(l))return!1;if(o&&Mn(l))continue;o=!1,r=l|r&1;continue}if(!o)if(r&4){if(r=2|r&1,l!==""&&!P2(t,l,n)||l===""&&e.length===1){if(Mn(r))return!1;o=!0}}else if(r&8){if(i===null||!k2(t,i,l,n)){if(Mn(r))return!1;o=!0}}else{let u=e[++a],d=F2(l,i,m_(t),n);if(d===-1){if(Mn(r))return!1;o=!0;continue}if(u!==""){let h;if(d>s?h="":h=i[d+1].toLowerCase(),r&2&&u!==h){if(Mn(r))return!1;o=!0}}}}return Mn(r)||o}function Mn(t){return(t&1)===0}function F2(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return j2(e,t)}function tM(t,e,n=!1){for(let r=0;r<e.length;r++)if(O2(t,e[r],n))return!0;return!1}function L2(t){let e=t.attrs;if(e!=null){let n=e.indexOf(5);if(!(n&1))return e[n+1]}return null}function V2(t){for(let e=0;e<t.length;e++){let n=t[e];if(wR(n))return e}return t.length}function j2(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function U2(t,e){e:for(let n=0;n<e.length;n++){let r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function o0(t,e){return t?":not("+e.trim()+")":e}function B2(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!Mn(o)&&(e+=o0(s,i),i=""),r=o,s=s||!Mn(r);n++}return i!==""&&(e+=o0(s,i)),e}function H2(t){return t.map(B2).join(",")}function $2(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!Mn(i))break;i=s}r++}return n.length&&e.push(1,...n),e}var Ci={};function z2(t,e){return t.createText(e)}function q2(t,e,n){t.setValue(e,n)}function W2(t,e){return t.createComment(N2(e))}function nM(t,e,n){return t.createElement(e,n)}function Af(t,e,n,r,i){t.insertBefore(e,n,r,i)}function rM(t,e,n){t.appendChild(e,n)}function a0(t,e,n,r,i){r!==null?Af(t,e,n,r,i):rM(t,e,n)}function G2(t,e,n){t.removeChild(null,e,n)}function K2(t,e,n){t.setAttribute(e,"style",n)}function Q2(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function iM(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&BB(t,e,r),i!==null&&Q2(t,e,i),s!==null&&K2(t,e,s)}function de(t=1){sM(Xe(),Ee(),Yo()+t,!1)}function sM(t,e,n,r){if(!r)if((e[ie]&3)===3){let s=t.preOrderCheckHooks;s!==null&&lf(e,s,n)}else{let s=t.preOrderHooks;s!==null&&cf(e,s,0,n)}ps(n)}var Di=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Di||{});function oM(t,e,n,r,i,s){let o=Ie(null);try{let a=null;i&Di.SignalBased&&(a=e[r][sn]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Di.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):J0(e,a,r,s)}finally{Ie(o)}}function y_(t,e,n,r,i,s,o,a,l,u,d){let h=e.blueprint.slice();return h[kr]=i,h[ie]=r|4|128|8|64|1024,(u!==null||t&&t[ie]&2048)&&(h[ie]|=2048),sR(h),h[Nt]=h[Qo]=t,h[wn]=n,h[Ar]=o||t&&t[Ar],h[Ke]=a||t&&t[Ke],h[zl]=l||t&&t[zl]||null,h[Jt]=s,h[Hf]=p2(),h[$l]=d,h[Y0]=u,h[In]=e.type==2?t[In]:h,h}function aM(t,e,n,r,i){let s=Yo(),o=r&2;try{ps(-1),o&&e.length>Yt&&sM(t,e,Yt,!1),En(o?2:0,i),n(r,i)}finally{ps(s),En(o?3:1,i)}}function v_(t,e,n){Wf()&&(bs(xn(n,e),e),lM(t,e,n))}function lM(t,e,n){rH(t,e,n),(n.flags&64)===64&&iH(t,e,n)}function __(t,e,n=xn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function Y2(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=E_(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function E_(t,e,n,r,i,s,o,a,l,u,d){let h=Yt+r,m=h+i,p=Z2(h,m),_=typeof u=="function"?u():u;return p[ge]={type:t,blueprint:p,template:n,queries:null,viewQuery:a,declTNode:e,data:p.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:l,consts:_,incompleteFirstPass:!1,ssrId:d}}function Z2(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ci);return n}function J2(t,e,n,r){let s=r.get(E2,WR)||n===Kn.ShadowDom,o=t.selectRootElement(e,s);return X2(o),o}function X2(t){eH(t)}var eH=()=>null;function tH(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function cM(t,e,n,r,i,s,o,a){let l=xn(e,n),u=e.inputs,d;!a&&u!=null&&(d=u[r])?(b_(t,n,d,r,i),_s(e)&&nH(n,e.index)):e.type&3?(r=tH(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(l,r,i)):e.type&12}function nH(t,e){let n=Gn(e,t);n[ie]&16||(n[ie]|=64)}function rH(t,e,n){let r=n.directiveStart,i=n.directiveEnd;_s(n)&&oH(e,n,t.data[r+n.componentOffset]),t.firstCreatePass||Df(n,e);let s=n.initialInputs;for(let o=r;o<i;o++){let a=t.data[o],l=Wl(e,t,o,n);if(bs(l,e),s!==null&&cH(e,o-r,l,a,n,s),Mr(a)){let u=Gn(n.index,e);u[wn]=Wl(e,t,o,n)}}}function iH(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=NB();try{ps(s);for(let a=r;a<i;a++){let l=t.data[a],u=e[a];rv(a),(l.hostBindings!==null||l.hostVars!==0||l.hostAttrs!==null)&&sH(l,u)}}finally{ps(-1),rv(o)}}function sH(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function w_(t,e){let n=t.directiveRegistry,r=null;if(n)for(let i=0;i<n.length;i++){let s=n[i];tM(e,s.selectors,!1)&&(r??=[],Mr(s)?r.unshift(s):r.push(s))}return r}function uM(t){let e=16;return t.signals?e=4096:t.onPush&&(e=64),e}function oH(t,e,n){let r=xn(e,t),i=Y2(n),s=t[Ar].rendererFactory,o=I_(t,y_(t,i,null,uM(n),r,e,null,s.createRenderer(r,n),null,null,null));return t[e.index]=o}function aH(t,e,n,r,i,s){let o=xn(t,e);lH(e[Ke],o,s,t.value,n,r,i)}function lH(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?jf(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function cH(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let l=o[a++],u=o[a++],d=o[a++],h=o[a++];oM(r,n,l,u,d,h)}}function dM(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function I_(t,e){return t[ql]?t[qA][Nn]=e:t[ql]=e,t[qA]=e,e}function fM(t,e){let n=t[zl],r=n?n.get(bi,null):null;r&&r.handleError(e)}function b_(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],l=n[s++],u=e[o],d=t.data[o];oM(d,u,r,a,l,i)}}function uH(t,e){let n=Gn(e,t),r=n[ge];dH(r,n);let i=n[kr];i!==null&&n[$l]===null&&(n[$l]=KR(i,n[zl])),D_(r,n,n[wn])}function dH(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function D_(t,e,n){r_(e);try{let r=t.viewQuery;r!==null&&gv(1,r,n);let i=t.template;i!==null&&aM(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Rr]?.finishViewCreation(t),t.staticContentQueries&&QR(t,e),t.staticViewQueries&&gv(2,t.viewQuery,n);let s=t.components;s!==null&&fH(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ie]&=-5,i_()}}function fH(t,e){for(let n=0;n<e.length;n++)uH(t,e[n])}var Qn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Qn||{}),hH;function T_(t,e){return hH(t,e)}function C_(t){return(t.flags&32)===32}function Fo(t,e,n,r,i){if(r!=null){let s,o=!1;Pr(r)?s=r:Ii(r)&&(o=!0,r=r[kr]);let a=Wn(r);t===0&&n!==null?i==null?rM(e,n,a):Af(e,n,a,i||null,!0):t===1&&n!==null?Af(e,n,a,i||null,!0):t===2?G2(e,a,o):t===3&&e.destroyNode(a),s!=null&&DH(e,t,s,n,i)}}function pH(t,e){hM(t,e),e[kr]=null,e[Jt]=null}function gH(t,e,n,r,i,s){r[kr]=i,r[Jt]=e,th(t,r,n,1,i,s)}function hM(t,e){e[Ar].changeDetectionScheduler?.notify(10),th(t,e,e[Ke],2,null,null)}function mH(t){let e=t[ql];if(!e)return By(t[ge],t);for(;e;){let n=null;if(Ii(e))n=e[ql];else{let r=e[un];r&&(n=r)}if(!n){for(;e&&!e[Nn]&&e!==t;)Ii(e)&&By(e[ge],e),e=e[Nt];e===null&&(e=t),Ii(e)&&By(e[ge],e),n=e&&e[Nn]}e=n}}function yH(t,e,n,r){let i=un+r,s=n.length;r>0&&(n[i-1][Nn]=e),r<s-un?(e[Nn]=n[i],L0(n,un+r,e)):(n.push(e),e[Nn]=null),e[Nt]=n;let o=e[ds];o!==null&&n!==o&&pM(o,e);let a=e[Rr];a!==null&&a.insertView(t),tv(e),e[ie]|=128}function pM(t,e){let n=t[Ho],r=e[Nt];if(Ii(r))t[ie]|=2;else{let i=r[Nt][In];e[In]!==i&&(t[ie]|=2)}n===null?t[Ho]=[e]:n.push(e)}function S_(t,e){let n=t[Ho],r=n.indexOf(e);n.splice(r,1)}function mv(t,e){if(t.length<=un)return;let n=un+e,r=t[n];if(r){let i=r[ds];i!==null&&i!==t&&S_(i,r),e>0&&(t[n-1][Nn]=r[Nn]);let s=gf(t,un+e);pH(r[ge],r);let o=s[Rr];o!==null&&o.detachView(s[ge]),r[Nt]=null,r[Nn]=null,r[ie]&=-129}return r}function gM(t,e){if(Xl(e))return;let n=e[Ke];n.destroyNode&&th(t,e,n,3,null,null),mH(e)}function By(t,e){if(Xl(e))return;let n=Ie(null);try{e[ie]&=-129,e[ie]|=256,e[cn]&&py(e[cn]),_H(t,e),vH(t,e),e[ge].type===1&&e[Ke].destroy();let r=e[ds];if(r!==null&&Pr(e[Nt])){r!==e[Nt]&&S_(r,e);let i=e[Rr];i!==null&&i.detachView(t)}hv(e)}finally{Ie(n)}}function vH(t,e){let n=t.cleanup,r=e[yf];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let a=n[o+3];a>=0?r[a]():r[-a].unsubscribe(),o+=2}else{let a=r[n[o+1]];n[o].call(a)}r!==null&&(e[yf]=null);let i=e[wi];if(i!==null){e[wi]=null;for(let o=0;o<i.length;o++){let a=i[o];a()}}let s=e[vf];if(s!==null){e[vf]=null;for(let o of s)o.destroy()}}function _H(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof gs)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],l=s[o+1];En(4,a,l);try{l.call(a)}finally{En(5,a,l)}}else{En(4,i,s);try{s.call(i)}finally{En(5,i,s)}}}}}function mM(t,e,n){return EH(t,e.parent,n)}function EH(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[kr];if(_s(r)){let{encapsulation:i}=t.data[r.directiveStart+r.componentOffset];if(i===Kn.None||i===Kn.Emulated)return null}return xn(r,n)}function yM(t,e,n){return IH(t,e,n)}function wH(t,e,n){return t.type&40?xn(t,n):null}var IH=wH,l0;function eh(t,e,n,r){let i=mM(t,r,e),s=e[Ke],o=r.parent||e[Jt],a=yM(o,r,e);if(i!=null)if(Array.isArray(n))for(let l=0;l<n.length;l++)a0(s,i,n[l],a,!1);else a0(s,i,n,a,!1);l0!==void 0&&l0(s,r,e,n,i)}function jl(t,e){if(e!==null){let n=e.type;if(n&3)return xn(e,t);if(n&4)return yv(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return jl(t,r);{let i=t[e.index];return Pr(i)?yv(-1,i):Wn(i)}}else{if(n&128)return jl(t,e.next);if(n&32)return T_(e,t)()||Wn(t[e.index]);{let r=vM(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=hs(t[In]);return jl(i,r)}else return jl(t,e.next)}}}return null}function vM(t,e){if(e!==null){let r=t[In][Jt],i=e.projection;return r.projection[i]}return null}function yv(t,e){let n=un+t+1;if(n<e.length){let r=e[n],i=r[ge].firstChild;if(i!==null)return jl(r,i)}return e[fs]}function A_(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],l=n.type;if(o&&e===0&&(a&&bs(Wn(a),r),n.flags|=2),!C_(n))if(l&8)A_(t,e,n.child,r,i,s,!1),Fo(e,t,i,a,s);else if(l&32){let u=T_(n,r),d;for(;d=u();)Fo(e,t,i,d,s);Fo(e,t,i,a,s)}else l&16?_M(t,e,r,n,i,s):Fo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function th(t,e,n,r,i,s){A_(n,r,t.firstChild,e,i,s,!1)}function bH(t,e,n){let r=e[Ke],i=mM(t,n,e),s=n.parent||e[Jt],o=yM(s,n,e);_M(r,0,e,n,i,o)}function _M(t,e,n,r,i,s){let o=n[In],l=o[Jt].projection[r.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++){let d=l[u];Fo(e,t,i,d,s)}else{let u=l,d=o[Nt];jR(r)&&(u.flags|=128),A_(t,e,u,d,i,s,!0)}}function DH(t,e,n,r,i){let s=n[fs],o=Wn(n);s!==o&&Fo(e,t,r,s,i);for(let a=un;a<n.length;a++){let l=n[a];th(l[ge],l,t,e,r,s)}}function TH(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Qn.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Qn.Important),t.setStyle(n,r,i,s))}}function EM(t,e,n,r){let i=Ie(null);try{let s=e.tView,a=t[ie]&4096?4096:16,l=y_(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),u=t[e.index];l[ds]=u;let d=t[Rr];return d!==null&&(l[Rr]=d.createEmbeddedView(s)),D_(s,l,n),l}finally{Ie(i)}}function vv(t,e){return!e||e.firstChild===null||jR(t)}function wM(t,e,n,r=!0){let i=e[ge];if(yH(i,e,t,n),r){let o=yv(n,t),a=e[Ke],l=a.parentNode(t[fs]);l!==null&&gH(i,t[Jt],a,e,l,o)}let s=e[$l];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function Rf(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Wn(s)),Pr(s)&&CH(s,r);let o=n.type;if(o&8)Rf(t,e,n.child,r);else if(o&32){let a=T_(n,e),l;for(;l=a();)r.push(l)}else if(o&16){let a=vM(e,n);if(Array.isArray(a))r.push(...a);else{let l=hs(e[In]);Rf(l[ge],l,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function CH(t,e){for(let n=un;n<t.length;n++){let r=t[n],i=r[ge].firstChild;i!==null&&Rf(r[ge],r,i,e)}t[fs]!==t[kr]&&e.push(t[fs])}var IM=[];function SH(t){return t[cn]??AH(t)}function AH(t){let e=IM.pop()??Object.create(MH);return e.lView=t,e}function RH(t){t.lView[cn]!==t&&(t.lView=null,IM.push(t))}var MH=pe(j({},Pl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{qf(t.lView)},consumerOnSignalRead(){this.lView[cn]=this}});function NH(t){let e=t[cn]??Object.create(xH);return e.lView=t,e}var xH=pe(j({},Pl),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:t=>{let e=hs(t.lView);for(;e&&!bM(e[ge]);)e=hs(e);e&&Jv(e)},consumerOnSignalRead(){this.lView[cn]=this}});function bM(t){return t.type!==2}function DM(t){if(t[vf]===null)return;let e=!0;for(;e;){let n=!1;for(let r of t[vf])r.dirty&&(n=!0,r.zone===null||Zone.current===r.zone?r.run():r.zone.run(()=>r.run()));e=n&&!!(t[ie]&8192)}}var kH=100;function TM(t,e=!0,n=0){let i=t[Ar].rendererFactory,s=!1;s||i.begin?.();try{PH(t,n)}catch(o){throw e&&fM(t,o),o}finally{s||i.end?.()}}function PH(t,e){let n=dR();try{GA(!0),_v(t,e);let r=0;for(;zf(t);){if(r===kH)throw new z(103,!1);r++,_v(t,1)}}finally{GA(n)}}function OH(t,e,n,r){if(Xl(e))return;let i=e[ie],s=!1,o=!1;r_(e);let a=!0,l=null,u=null;s||(bM(t)?(u=SH(e),l=Cd(u)):nA()===null?(a=!1,u=NH(e),l=Cd(u)):e[cn]&&(py(e[cn]),e[cn]=null));try{sR(e),SB(t.bindingStartIndex),n!==null&&aM(t,e,n,2,r);let d=(i&3)===3;if(!s)if(d){let p=t.preOrderCheckHooks;p!==null&&lf(e,p,null)}else{let p=t.preOrderHooks;p!==null&&cf(e,p,0,null),Vy(e,0)}if(o||FH(e),DM(e),CM(e,0),t.contentQueries!==null&&QR(t,e),!s)if(d){let p=t.contentCheckHooks;p!==null&&lf(e,p)}else{let p=t.contentHooks;p!==null&&cf(e,p,1),Vy(e,1)}VH(t,e);let h=t.components;h!==null&&AM(e,h,0);let m=t.viewQuery;if(m!==null&&gv(2,m,r),!s)if(d){let p=t.viewCheckHooks;p!==null&&lf(e,p)}else{let p=t.viewHooks;p!==null&&cf(e,p,2),Vy(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Ly]){for(let p of e[Ly])p();e[Ly]=null}s||(e[ie]&=-73)}catch(d){throw s||qf(e),d}finally{u!==null&&(fy(u,l),a&&RH(u)),i_()}}function CM(t,e){for(let n=HR(t);n!==null;n=$R(n))for(let r=un;r<n.length;r++){let i=n[r];SM(i,e)}}function FH(t){for(let e=HR(t);e!==null;e=$R(e)){if(!(e[ie]&2))continue;let n=e[Ho];for(let r=0;r<n.length;r++){let i=n[r];Jv(i)}}}function LH(t,e,n){let r=Gn(e,t);SM(r,n)}function SM(t,e){Zv(t)&&_v(t,e)}function _v(t,e){let r=t[ge],i=t[ie],s=t[cn],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&hy(s)),o||=!1,s&&(s.dirty=!1),t[ie]&=-9217,o)OH(r,t,r.template,t[wn]);else if(i&8192){DM(t),CM(t,1);let a=r.components;a!==null&&AM(t,a,1)}}function AM(t,e,n){for(let r=0;r<e.length;r++)LH(t,e[r],n)}function VH(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)ps(~i);else{let s=i,o=n[++r],a=n[++r];MB(o,s);let l=e[s];En(24,l),a(2,l),En(25,l)}}}finally{ps(-1)}}function R_(t,e){let n=dR()?64:1088;for(t[Ar].changeDetectionScheduler?.notify(e);t;){t[ie]|=n;let r=hs(t);if(Ef(t)&&!r)return t;t=r}return null}var ms=class{_lView;_cdRefInjectingView;notifyErrorHandler;_appRef=null;_attachedToViewContainer=!1;get rootNodes(){let e=this._lView,n=e[ge];return Rf(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r}get context(){return this._lView[wn]}get dirty(){return!!(this._lView[ie]&9280)||!!this._lView[cn]?.dirty}set context(e){this._lView[wn]=e}get destroyed(){return Xl(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Nt];if(Pr(e)){let n=e[_f],r=n?n.indexOf(this):-1;r>-1&&(mv(e,r),gf(n,r))}this._attachedToViewContainer=!1}gM(this._lView[ge],this._lView)}onDestroy(e){oR(this._lView,e)}markForCheck(){R_(this._cdRefInjectingView||this._lView,4)}markForRefresh(){Jv(this._cdRefInjectingView||this._lView)}detach(){this._lView[ie]&=-129}reattach(){tv(this._lView),this._lView[ie]|=128}detectChanges(){this._lView[ie]|=1024,TM(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=Ef(this._lView),n=this._lView[ds];n!==null&&!e&&S_(n,this._lView),hM(this._lView[ge],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new z(902,!1);this._appRef=e;let n=Ef(this._lView),r=this._lView[ds];r!==null&&!n&&pM(r,this._lView),tv(this._lView)}},ys=(()=>{class t{static __NG_ELEMENT_ID__=BH}return t})(),jH=ys,UH=class extends jH{_declarationLView;_declarationTContainer;elementRef;constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=EM(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new ms(i)}};function BH(){return M_(Bt(),Ee())}function M_(t,e){return t.type&4?new UH(e,t,Zo(t,e)):null}function sc(t,e,n,r,i){let s=t.data[e];if(s===null)s=HH(t,e,n,r,i),RB()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=CB();s.injectorIndex=o===null?-1:o.injectorIndex}return Is(s,!0),s}function HH(t,e,n,r,i){let s=uR(),o=Xv(),a=o?s:s&&s.parent,l=t.data[e]=zH(t,a,n,e,r,i);return $H(t,l,s,o),l}function $H(t,e,n,r){t.firstChild===null&&(t.firstChild=e),n!==null&&(r?n.child==null&&e.parent!==null&&(n.child=e):n.next===null&&(n.next=e,e.prev=n))}function zH(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return cR()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var Toe=new RegExp(`^(\\d+)*(${_2}|${v2})*(.*)`);var qH=()=>null;function Ev(t,e){return qH(t,e)}var wv=class{},Mf=class{},Iv=class{resolveComponentFactory(e){throw Error(`No component factory found for ${Ut(e)}.`)}},Wo=class{static NULL=new Iv},Go=class{},Lr=(()=>{class t{destroyNode=null;static __NG_ELEMENT_ID__=()=>WH()}return t})();function WH(){let t=Ee(),e=Bt(),n=Gn(e.index,t);return(Ii(n)?n:t)[Ke]}var GH=(()=>{class t{static \u0275prov=q({token:t,providedIn:"root",factory:()=>null})}return t})();function bv(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=jA(i,a);else if(s==2){let l=a,u=e[++o];r=jA(r,l+": "+u+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function J(t,e=fe.Default){let n=Ee();if(n===null)return Q(t,e);let r=Bt();return AR(r,n,jt(t),e)}function RM(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function N_(t,e,n,r,i){let s=r===null?null:{"":-1},o=i(t,n);if(o!==null){let[a,l]=QH(t,n,o);ZH(t,e,n,a,s,l)}s!==null&&r!==null&&KH(n,r,s)}function KH(t,e,n){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new z(-301,!1);r.push(e[i],s)}}function QH(t,e,n){let r=[],i=null;for(let s of n)s.findHostDirectiveDefs!==null&&(i??=new Map,s.findHostDirectiveDefs(s,r,i)),Mr(s)&&(r.push(s),YH(t,e,r.length-1));return _s(e)?r.push(...n.slice(1)):r.push(...n),[r,i]}function YH(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function ZH(t,e,n,r,i,s){for(let u=0;u<r.length;u++)ov(Df(n,e),t,r[u].type);i$(n,t.data.length,r.length);for(let u=0;u<r.length;u++){let d=r[u];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,l=RM(t,e,r.length,null);for(let u=0;u<r.length;u++){let d=r[u];n.mergedAttrs=zo(n.mergedAttrs,d.hostAttrs),e$(t,n,e,l,d),r$(l,d,i),d.contentQueries!==null&&(n.flags|=4),(d.hostBindings!==null||d.hostAttrs!==null||d.hostVars!==0)&&(n.flags|=64);let h=d.type.prototype;!o&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(h.ngOnChanges||h.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),l++}JH(t,n,s)}function JH(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],l=null,u=null;for(let d=r;d<i;d++){let h=s[d],m=n?n.get(h):null,p=m?m.inputs:null,_=m?m.outputs:null;l=c0(0,h.inputs,d,l,p),u=c0(1,h.outputs,d,u,_);let I=l!==null&&o!==null&&!m_(e)?XH(l,d,o):null;a.push(I)}l!==null&&(l.hasOwnProperty("class")&&(e.flags|=8),l.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=l,e.outputs=u}function c0(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,l=Di.None;Array.isArray(o)?(a=o[0],l=o[1]):a=o;let u=s;if(i!==null){if(!i.hasOwnProperty(s))continue;u=i[s]}t===0?u0(r,n,u,a,l):u0(r,n,u,a)}return r}function u0(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function XH(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function e$(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=cs(i.type,!0)),o=new gs(s,Mr(i),J);t.blueprint[r]=o,n[r]=o,t$(t,e,r,RM(t,n,i.hostVars,Ci),i)}function t$(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;n$(o)!=a&&o.push(a),o.push(n,r,s)}}function n$(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function r$(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Mr(e)&&(n[""]=t)}}function i$(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function MM(t,e,n,r,i,s,o,a){let l=e.consts,u=$o(l,o),d=sc(e,t,2,r,u);return s&&N_(e,n,d,$o(l,a),i),d.mergedAttrs=zo(d.mergedAttrs,d.attrs),d.attrs!==null&&bv(d,d.attrs,!1),d.mergedAttrs!==null&&bv(d,d.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,d),d}function NM(t,e){o_(t,e),Yv(e)&&t.queries.elementEnd(e)}var Nf=class extends Wo{ngModule;constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=us(e);return new Gl(n,this.ngModule)}};function d0(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Di.None;e?n.push({propName:o,templateName:r,isSignal:(a&Di.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function s$(t,e,n){let r=e instanceof Mt?e:e?.injector;return r&&t.getStandaloneInjector!==null&&(r=t.getStandaloneInjector(r)||r),r?new iv(n,r):n}function o$(t){let e=t.get(Go,null);if(e===null)throw new z(407,!1);let n=t.get(GH,null),r=t.get(qo,null);return{rendererFactory:e,sanitizer:n,changeDetectionScheduler:r}}function a$(t,e){let n=(t.selectors[0][0]||"div").toLowerCase();return nM(e,n,n==="svg"?nR:n==="math"?pB:null)}var Gl=class extends Mf{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;get inputs(){let e=this.componentDef,n=e.inputTransforms,r=d0(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return d0(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=H2(e.selectors),this.ngContentSelectors=e.ngContentSelectors??[],this.isBoundToModule=!!n}create(e,n,r,i){let s=Ie(null);try{let o=this.componentDef,a=r?["ng-version","19.1.6"]:$2(this.componentDef.selectors[0]),l=E_(0,null,null,1,0,null,null,null,null,[a],null),u=s$(o,i||this.ngModule,e),d=o$(u),h=d.rendererFactory.createRenderer(null,o),m=r?J2(h,r,o.encapsulation,u):a$(o,h),p=y_(null,l,null,512|uM(o),null,null,d,h,u,null,KR(m,u,!0));p[Yt]=m,r_(p);let _=null;try{let I=MM(Yt,l,p,"#host",()=>[this.componentDef],!0,0);m&&(iM(h,m,I),bs(m,p)),lM(l,p,I),p_(l,I,p),NM(l,I),n!==void 0&&l$(I,this.ngContentSelectors,n),_=Gn(I.index,p),p[wn]=_[wn],D_(l,p,null)}catch(I){throw _!==null&&hv(_),hv(p),I}finally{i_()}return new Dv(this.componentType,p)}finally{Ie(s)}}},Dv=class extends wv{_rootLView;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(e,n){super(),this._rootLView=n,this._tNode=iR(n[ge],Yt),this.location=Zo(this._tNode,n),this.instance=Gn(this._tNode.index,n)[wn],this.hostView=this.changeDetectorRef=new ms(n,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;b_(s[ge],s,i,e,n),this.previousInputValues.set(e,n);let o=Gn(this._tNode.index,s);R_(o,1)}}get injector(){return new ls(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function l$(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null&&s.length?Array.from(s):null)}}var Vr=(()=>{class t{static __NG_ELEMENT_ID__=c$}return t})();function c$(){let t=Bt();return kM(t,Ee())}var u$=Vr,xM=class extends u${_lContainer;_hostTNode;_hostLView;constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Zo(this._hostTNode,this._hostLView)}get injector(){return new ls(this._hostTNode,this._hostLView)}get parentInjector(){let e=a_(this._hostTNode,this._hostLView);if(IR(e)){let n=If(e,this._hostLView),r=wf(e),i=n[ge].data[r+8];return new ls(i,n)}else return new ls(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=f0(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-un}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Ev(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,vv(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!uB(e),a;if(o)a=n;else{let _=n||{};a=_.index,r=_.injector,i=_.projectableNodes,s=_.environmentInjector||_.ngModuleRef}let l=o?e:new Gl(us(e)),u=r||this.parentInjector;if(!s&&l.ngModule==null){let I=(o?u:this.parentInjector).get(Mt,null);I&&(s=I)}let d=us(l.componentType??{}),h=Ev(this._lContainer,d?.id??null),m=h?.firstChild??null,p=l.create(u,i,m,s);return this.insertImpl(p.hostView,a,vv(this._hostTNode,h)),p}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(yB(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let l=i[Nt],u=new xM(l,l[Jt],l[Nt]);u.detach(u.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return wM(o,i,s,r),e.attachToViewContainerRef(),L0(Hy(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=f0(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=mv(this._lContainer,n);r&&(gf(Hy(this._lContainer),n),gM(r[ge],r))}detach(e){let n=this._adjustIndex(e,-1),r=mv(this._lContainer,n);return r&&gf(Hy(this._lContainer),n)!=null?new ms(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function f0(t){return t[_f]}function Hy(t){return t[_f]||(t[_f]=[])}function kM(t,e){let n,r=e[t.index];return Pr(r)?n=r:(n=dM(r,e,null,t),e[t.index]=n,I_(e,n)),f$(n,e,t,r),new xM(n,t,e)}function d$(t,e){let n=t[Ke],r=n.createComment(""),i=xn(e,t),s=n.parentNode(i);return Af(n,s,r,n.nextSibling(i),!1),r}var f$=g$,h$=()=>!1;function p$(t,e,n){return h$(t,e,n)}function g$(t,e,n,r){if(t[fs])return;let i;n.type&8?i=Wn(r):i=d$(e,n),t[fs]=i}var Tv=class t{queryList;matches=null;constructor(e){this.queryList=e}clone(){return new t(this.queryList)}setDirty(){this.queryList.setDirty()}},Cv=class t{queries;constructor(e=[]){this.queries=e}createEmbeddedView(e){let n=e.queries;if(n!==null){let r=e.contentQueries!==null?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){let o=n.getByIndex(s),a=this.queries[o.indexInDeclarationView];i.push(a.clone())}return new t(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}finishViewCreation(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)x_(e,n).matches!==null&&this.queries[n].setDirty()}},xf=class{flags;read;predicate;constructor(e,n,r=null){this.flags=n,this.read=r,typeof e=="string"?this.predicate=b$(e):this.predicate=e}},Sv=class t{queries;constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){let i=n!==null?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,n!==null?n.push(s):n=[s])}return n!==null?new t(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}},Av=class t{metadata;matches=null;indexInDeclarationView=-1;crossesNgTemplate=!1;_declarationNodeIndex;_appliesToNextNode=!0;constructor(e,n=-1){this.metadata=e,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&(this.metadata.flags&1)!==1){let n=this._declarationNodeIndex,r=e.parent;for(;r!==null&&r.type&8&&r.index!==n;)r=r.parent;return n===(r!==null?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){let r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){let s=r[i];this.matchTNodeWithReadOption(e,n,m$(n,s)),this.matchTNodeWithReadOption(e,n,uf(n,e,s,!1,!1))}else r===ys?n.type&4&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,uf(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(r!==null){let i=this.metadata.read;if(i!==null)if(i===xt||i===Vr||i===ys&&n.type&4)this.addMatch(n.index,-2);else{let s=uf(n,e,i,!1,!1);s!==null&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){this.matches===null?this.matches=[e,n]:this.matches.push(e,n)}};function m$(t,e){let n=t.localNames;if(n!==null){for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1]}return null}function y$(t,e){return t.type&11?Zo(t,e):t.type&4?M_(t,e):null}function v$(t,e,n,r){return n===-1?y$(e,t):n===-2?_$(t,e,r):Wl(t,t[ge],n,e)}function _$(t,e,n){if(n===xt)return Zo(e,t);if(n===ys)return M_(e,t);if(n===Vr)return kM(e,t)}function PM(t,e,n,r){let i=e[Rr].queries[r];if(i.matches===null){let s=t.data,o=n.matches,a=[];for(let l=0;o!==null&&l<o.length;l+=2){let u=o[l];if(u<0)a.push(null);else{let d=s[u];a.push(v$(e,d,o[l+1],n.metadata.read))}}i.matches=a}return i.matches}function Rv(t,e,n,r){let i=t.queries.getByIndex(n),s=i.matches;if(s!==null){let o=PM(t,e,i,n);for(let a=0;a<s.length;a+=2){let l=s[a];if(l>0)r.push(o[a/2]);else{let u=s[a+1],d=e[-l];for(let h=un;h<d.length;h++){let m=d[h];m[ds]===m[Nt]&&Rv(m[ge],m,u,r)}if(d[Ho]!==null){let h=d[Ho];for(let m=0;m<h.length;m++){let p=h[m];Rv(p[ge],p,u,r)}}}}}return r}function E$(t,e){return t[Rr].queries[e].queryList}function OM(t,e,n){let r=new fv((n&4)===4);return EB(t,e,r,r.destroy),(e[Rr]??=new Cv).queries.push(new Tv(r))-1}function w$(t,e,n){let r=Xe();return r.firstCreatePass&&(FM(r,new xf(t,e,n),-1),(e&2)===2&&(r.staticViewQueries=!0)),OM(r,Ee(),e)}function I$(t,e,n,r){let i=Xe();if(i.firstCreatePass){let s=Bt();FM(i,new xf(e,n,r),s.index),D$(i,t),(n&2)===2&&(i.staticContentQueries=!0)}return OM(i,Ee(),n)}function b$(t){return t.split(",").map(e=>e.trim())}function FM(t,e,n){t.queries===null&&(t.queries=new Sv),t.queries.track(new Av(e,n))}function D$(t,e){let n=t.contentQueries||(t.contentQueries=[]),r=n.length?n[n.length-1]:-1;e!==r&&n.push(t.queries.length-1,e)}function x_(t,e){return t.queries.getByIndex(e)}function T$(t,e){let n=t[ge],r=x_(n,e);return r.crossesNgTemplate?Rv(n,t,e,[]):PM(n,t,r,e)}var Ti=class{},Kl=class{};var Mv=class extends Ti{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Nf(this);constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n;let s=U0(e);this._bootstrapComponents=XR(s.bootstrap),this._r3Injector=NR(e,n,[{provide:Ti,useValue:this},{provide:Wo,useValue:this.componentFactoryResolver},...r],Ut(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Nv=class extends Kl{moduleType;constructor(e){super(),this.moduleType=e}create(e){return new Mv(this.moduleType,e,[])}};var kf=class extends Ti{injector;componentFactoryResolver=new Nf(this);instance=null;constructor(e){super();let n=new Hl([...e.providers,{provide:Ti,useValue:this},{provide:Wo,useValue:this.componentFactoryResolver}],e.parent||Qv(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function k_(t,e,n=null){return new kf({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}var C$=(()=>{class t{_injector;cachedInjectors=new Map;constructor(n){this._injector=n}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=z0(!1,n.type),i=r.length>0?k_([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=q({token:t,providedIn:"environment",factory:()=>new t(Q(Mt))})}return t})();function kt(t){return Yl(()=>{let e=VM(t),n=pe(j({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===UR.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:e.standalone?i=>i.get(C$).getOrCreateStandaloneInjector(n):null,getExternalStyles:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Kn.Emulated,styles:t.styles||_n,_:null,schemas:t.schemas||null,tView:null,id:""});e.standalone&&Jo("NgStandalone"),jM(n);let r=t.dependencies;return n.directiveDefs=p0(r,!1),n.pipeDefs=p0(r,!0),n.id=R$(n),n})}function S$(t){return us(t)||B0(t)}function A$(t){return t!==null}function Zn(t){return Yl(()=>({type:t.type,bootstrap:t.bootstrap||_n,declarations:t.declarations||_n,imports:t.imports||_n,exports:t.exports||_n,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function h0(t,e){if(t==null)return jo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Di.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Di.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Ht(t){return Yl(()=>{let e=VM(t);return jM(e),e})}function LM(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone??!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function VM(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||jo,exportAs:t.exportAs||null,standalone:t.standalone??!0,signals:t.signals===!0,selectors:t.selectors||_n,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:h0(t.inputs,e),outputs:h0(t.outputs),debugInfo:null}}function jM(t){t.features?.forEach(e=>e(t))}function p0(t,e){if(!t)return null;let n=e?H0:S$;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(A$)}function R$(t){let e=0,n=typeof t.consts=="function"?"":t.consts,r=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,n,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery];for(let s of r.join("|"))e=Math.imul(31,e)+s.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function M$(t){return Object.getPrototypeOf(t.prototype).constructor}function Xo(t){let e=M$(t.type),n=!0,r=[t];for(;e;){let i;if(Mr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new z(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=sf(t.inputs),o.inputTransforms=sf(t.inputTransforms),o.declaredInputs=sf(t.declaredInputs),o.outputs=sf(t.outputs);let a=i.hostBindings;a&&O$(t,a);let l=i.viewQuery,u=i.contentQueries;if(l&&k$(t,l),u&&P$(t,u),N$(t,i),AU(t.outputs,i.outputs),Mr(i)&&i.data.animation){let d=t.data;d.animation=(d.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Xo&&(n=!1)}}e=Object.getPrototypeOf(e)}x$(r)}function N$(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function x$(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=zo(i.hostAttrs,n=zo(n,i.hostAttrs))}}function sf(t){return t===jo?{}:t===_n?[]:t}function k$(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function P$(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function O$(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function P_(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}function UM(t){return O_(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function F$(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function O_(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function BM(t,e,n){return t[e]=n}function L$(t,e){return t[e]}function ea(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function V$(t,e,n,r,i,s,o,a,l){let u=e.consts,d=sc(e,t,4,o||null,a||null);Wf()&&N_(e,n,d,$o(u,l),w_),d.mergedAttrs=zo(d.mergedAttrs,d.attrs),o_(e,d);let h=d.tView=E_(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return e.queries!==null&&(e.queries.template(e,d),h.queries=e.queries.embeddedTView(d)),d}function HM(t,e,n,r,i,s,o,a,l,u){let d=n+Yt,h=e.firstCreatePass?V$(d,e,t,r,i,s,o,a,l):e.data[d];Is(h,!1);let m=j$(e,t,h,n);Kf()&&eh(e,t,m,h),bs(m,t);let p=dM(m,t,m,h);return t[d]=p,I_(t,p),p$(p,h,t),$f(h)&&v_(e,t,h),l!=null&&__(t,h,u),h}function et(t,e,n,r,i,s,o,a){let l=Ee(),u=Xe(),d=$o(u.consts,s);return HM(l,u,t,e,n,r,i,d,o,a),et}var j$=U$;function U$(t,e,n,r){return Qf(!0),e[Ke].createComment("")}var F_=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();var $M=new $("");function Si(t){return!!t&&typeof t.then=="function"}function L_(t){return!!t&&typeof t.subscribe=="function"}var zM=new $("");var qM=(()=>{class t{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r});appInits=V(zM,{optional:!0})??[];injector=V(Qe);constructor(){}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=Et(this.injector,i);if(Si(s))n.push(s);else if(L_(s)){let o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),B$=(()=>{class t{static \u0275prov=q({token:t,providedIn:"root",factory:()=>new xv})}return t})(),xv=class{queuedEffectCount=0;queues=new Map;schedule(e){this.enqueue(e)}remove(e){let n=e.zone,r=this.queues.get(n);r.has(e)&&(r.delete(e),this.queuedEffectCount--)}enqueue(e){let n=e.zone;this.queues.has(n)||this.queues.set(n,new Set);let r=this.queues.get(n);r.has(e)||(this.queuedEffectCount++,r.add(e))}flush(){for(;this.queuedEffectCount>0;)for(let[e,n]of this.queues)e===null?this.flushQueue(n):e.run(()=>this.flushQueue(n))}flushQueue(e){for(let n of e)e.delete(n),this.queuedEffectCount--,n.run()}},nh=new $("");function H$(){fA(()=>{throw new z(600,!1)})}function $$(t){return t.isBoundToModule}var z$=10;var Nr=(()=>{class t{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=V(o2);afterRenderManager=V(w2);zonelessEnabled=V(Yf);rootEffectScheduler=V(B$);dirtyFlags=0;deferredDirtyFlags=0;tracingSnapshot=null;externalTestViews=new Set;afterTick=new Ge;get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];isStable=V(Fr).hasPendingTasks.pipe(le(n=>!n));constructor(){V(Jf,{optional:!0})}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}_injector=V(Mt);_rendererFactory=null;get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Mf;if(!this._injector.get(qM).done){let m=!i&&$0(n),p=!1;throw new z(405,p)}let o;i?o=n:o=this._injector.get(Wo).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=$$(o)?void 0:this._injector.get(Ti),l=r||o.selector,u=o.create(Qe.NULL,[],l,a),d=u.location.nativeElement,h=u.injector.get($M,null);return h?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),df(this.components,u),h?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick=()=>{if(this.tracingSnapshot!==null){let r=this.tracingSnapshot;this.tracingSnapshot=null,r.run(GR.CHANGE_DETECTION,this._tick),r.dispose();return}if(this._runningTick)throw new z(101,!1);let n=Ie(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ie(n),this.afterTick.next()}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(Go,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let n=0;for(;this.dirtyFlags!==0&&n++<z$;)this.synchronizeOnce()}synchronizeOnce(){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush()),this.dirtyFlags&7){let n=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r,notifyErrorHandler:i}of this.allViews)q$(r,i,n,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}else this._rendererFactory?.begin?.(),this._rendererFactory?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>zf(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;df(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n),this._injector.get(nh,[]).forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>df(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new z(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function df(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function q$(t,e,n,r){if(!n&&!zf(t))return;TM(t,e,n&&!r?0:1)}function rh(t,e,n,r){let i=Ee(),s=Gf();if(ea(i,s,e)){let o=Xe(),a=s_();aH(a,i,t,e,n,r)}return rh}function W$(t,e,n,r){return ea(t,Gf(),n)?e+jf(n)+r:Ci}function of(t,e){return t<<17|e<<2}function vs(t){return t>>17&32767}function G$(t){return(t&2)==2}function K$(t,e){return t&131071|e<<17}function kv(t){return t|2}function Ko(t){return(t&131068)>>2}function $y(t,e){return t&-131069|e<<2}function Q$(t){return(t&1)===1}function Pv(t){return t|1}function Y$(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=vs(o),l=Ko(o);t[r]=n;let u=!1,d;if(Array.isArray(n)){let h=n;d=h[1],(d===null||Jl(h,d)>0)&&(u=!0)}else d=n;if(i)if(l!==0){let m=vs(t[a+1]);t[r+1]=of(m,a),m!==0&&(t[m+1]=$y(t[m+1],r)),t[a+1]=K$(t[a+1],r)}else t[r+1]=of(a,0),a!==0&&(t[a+1]=$y(t[a+1],r)),a=r;else t[r+1]=of(l,0),a===0?a=r:t[l+1]=$y(t[l+1],r),l=r;u&&(t[r+1]=kv(t[r+1])),g0(t,d,r,!0),g0(t,d,r,!1),Z$(e,d,t,r,s),o=of(a,l),s?e.classBindings=o:e.styleBindings=o}function Z$(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Jl(s,e)>=0&&(n[r+1]=Pv(n[r+1]))}function g0(t,e,n,r){let i=t[n+1],s=e===null,o=r?vs(i):Ko(i),a=!1;for(;o!==0&&(a===!1||s);){let l=t[o],u=t[o+1];J$(l,e)&&(a=!0,t[o+1]=r?Pv(u):kv(u)),o=r?vs(u):Ko(u)}a&&(t[n+1]=r?kv(i):Pv(i))}function J$(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Jl(t,e)>=0:!1}function X(t,e,n){let r=Ee(),i=Gf();if(ea(r,i,e)){let s=Xe(),o=s_();cM(s,o,r,t,e,r[Ke],n,!1)}return X}function m0(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";b_(t,n,s[o],o,r)}function oc(t,e){return X$(t,e,null,!0),oc}function X$(t,e,n,r){let i=Ee(),s=Xe(),o=AB(2);if(s.firstUpdatePass&&tz(s,t,o,r),e!==Ci&&ea(i,o,e)){let a=s.data[Yo()];oz(s,a,i,i[Ke],t,i[o+1]=az(e,n),r,o)}}function ez(t,e){return e>=t.expandoStartIndex}function tz(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[Yo()],o=ez(t,n);lz(s,r)&&e===null&&!o&&(e=!1),e=nz(i,s,e,r),Y$(i,s,e,n,o,r)}}function nz(t,e,n,r){let i=xB(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=zy(null,t,e,n,r),n=Ql(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=zy(i,t,e,n,r),s===null){let l=rz(t,e,r);l!==void 0&&Array.isArray(l)&&(l=zy(null,t,e,l[1],r),l=Ql(l,e.attrs,r),iz(t,e,r,l))}else s=sz(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function rz(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ko(r)!==0)return t[vs(r)]}function iz(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[vs(i)]=r}function sz(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Ql(r,o,n)}return Ql(r,e.attrs,n)}function zy(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Ql(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Ql(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),ZU(t,o,n?!0:e[++s]))}return t===void 0?null:t}function oz(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let l=t.data,u=l[a+1],d=Q$(u)?y0(l,e,n,i,Ko(u),o):void 0;if(!Pf(d)){Pf(s)||G$(u)&&(s=y0(l,null,n,i,a,o));let h=rR(Yo(),n);TH(r,o,h,i,s)}}function y0(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let l=t[i],u=Array.isArray(l),d=u?l[1]:l,h=d===null,m=n[i+1];m===Ci&&(m=h?_n:void 0);let p=h?Oy(m,r):d===r?m:void 0;if(u&&!Pf(p)&&(p=Oy(l,r)),Pf(p)&&(a=p,o))return a;let _=t[i+1];i=o?vs(_):Ko(_)}if(e!==null){let l=s?e.residualClasses:e.residualStyles;l!=null&&(a=Oy(l,r))}return a}function Pf(t){return t!==void 0}function az(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Ut(rc(t)))),t}function lz(t,e){return(t.flags&(e?8:16))!==0}function te(t,e,n,r){let i=Ee(),s=Xe(),o=Yt+t,a=i[Ke],l=s.firstCreatePass?MM(o,s,i,e,w_,Wf(),n,r):s.data[o],u=cz(s,i,l,a,e,t);i[o]=u;let d=$f(l);return Is(l,!0),iM(a,u,l),!C_(l)&&Kf()&&eh(s,i,u,l),wB()===0&&bs(u,i),IB(),d&&(v_(s,i,l),p_(s,l,i)),r!==null&&__(i,l),te}function Y(){let t=Bt();Xv()?e_():(t=t.parent,Is(t,!1));let e=t;DB(e)&&TB(),bB();let n=Xe();return n.firstCreatePass&&NM(n,e),e.classesWithoutHost!=null&&jB(e)&&m0(n,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&UB(e)&&m0(n,e,Ee(),e.stylesWithoutHost,!1),Y}function Ve(t,e,n,r){return te(t,e,n,r),Y(),Ve}var cz=(t,e,n,r,i,s)=>(Qf(!0),nM(r,i,OB()));function uz(t,e,n,r,i){let s=e.consts,o=$o(s,r),a=sc(e,t,8,"ng-container",o);o!==null&&bv(a,o,!0);let l=$o(s,i);return Wf()&&N_(e,n,a,l,w_),a.mergedAttrs=zo(a.mergedAttrs,a.attrs),e.queries!==null&&e.queries.elementStart(e,a),a}function WM(t,e,n){let r=Ee(),i=Xe(),s=t+Yt,o=i.firstCreatePass?uz(s,i,r,e,n):i.data[s];Is(o,!0);let a=dz(i,r,o,t);return r[s]=a,Kf()&&eh(i,r,a,o),bs(a,r),$f(o)&&(v_(i,r,o),p_(i,o,r)),n!=null&&__(r,o),WM}function GM(){let t=Bt(),e=Xe();return Xv()?e_():(t=t.parent,Is(t,!1)),e.firstCreatePass&&(o_(e,t),Yv(t)&&e.queries.elementEnd(t)),GM}function Ai(t,e,n){return WM(t,e,n),GM(),Ai}var dz=(t,e,n,r)=>(Qf(!0),W2(e[Ke],""));function ih(){return Ee()}var Of="en-US";var fz=Of;function hz(t){typeof t=="string"&&(fz=t.toLowerCase().replace(/_/g,"-"))}var pz=(t,e,n)=>{};function Xt(t,e,n,r){let i=Ee(),s=Xe(),o=Bt();return KM(s,i,i[Ke],o,t,e,r),Xt}function gz(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[yf],l=i[s+2];return a.length>l?a[l]:null}typeof o=="string"&&(s+=2)}return null}function KM(t,e,n,r,i,s,o){let a=$f(r),u=t.firstCreatePass&&lR(t),d=e[wn],h=aR(e),m=!0;if(r.type&3||o){let I=xn(r,e),w=o?o(I):I,R=h.length,P=o?B=>o(Wn(B[r.index])):r.index,O=null;if(!o&&a&&(O=gz(t,e,i,r.index)),O!==null){let B=O.__ngLastListenerFn__||O;B.__ngNextListenerFn__=s,O.__ngLastListenerFn__=s,m=!1}else{s=_0(r,e,d,s),pz(I,i,s);let B=n.listen(w,i,s);h.push(s,B),u&&u.push(i,P,R,R+1)}}else s=_0(r,e,d,s);let p=r.outputs,_;if(m&&p!==null&&(_=p[i])){let I=_.length;if(I)for(let w=0;w<I;w+=2){let R=_[w],P=_[w+1],me=e[R][P].subscribe(s),W=h.length;h.push(s,me),u&&u.push(i,r.index,W,-(W+1))}}}function v0(t,e,n,r){let i=Ie(null);try{return En(6,e,n),n(r)!==!1}catch(s){return fM(t,s),!1}finally{En(7,e,n),Ie(i)}}function _0(t,e,n,r){return function i(s){if(s===Function)return r;let o=_s(t)?Gn(t.index,e):e;R_(o,5);let a=v0(e,n,r,s),l=i.__ngNextListenerFn__;for(;l;)a=v0(e,n,l,s)&&a,l=l.__ngNextListenerFn__;return a}}function qe(t=1){return PB(t)}function mz(t,e){let n=null,r=L2(t);for(let i=0;i<e.length;i++){let s=e[i];if(s==="*"){n=i;continue}if(r===null?tM(t,s,!0):U2(r,s))return i}return n}function QM(t){let e=Ee()[In][Jt];if(!e.projection){let n=t?t.length:1,r=e.projection=QU(n,null),i=r.slice(),s=e.child;for(;s!==null;){if(s.type!==128){let o=t?mz(s,t):0;o!==null&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s)}s=s.next}}}function YM(t,e=0,n,r,i,s){let o=Ee(),a=Xe(),l=r?t+1:null;l!==null&&HM(o,a,l,r,i,s,null,n);let u=sc(a,Yt+t,16,null,n||null);u.projection===null&&(u.projection=e),e_();let h=!o[$l]||cR();o[In][Jt].projection[u.projection]===null&&l!==null?yz(o,a,l):h&&!C_(u)&&bH(a,o,u)}function yz(t,e,n){let r=Yt+n,i=e.data[r],s=t[r],o=Ev(s,i.tView.ssrId),a=EM(t,i,void 0,{dehydratedView:o});wM(s,a,0,vv(i,o))}function wt(t,e,n,r){I$(t,e,n,r)}function ZM(t,e,n){w$(t,e,n)}function ft(t){let e=Ee(),n=Xe(),r=fR();n_(r+1);let i=x_(n,r);if(t.dirty&&mB(e)===((i.metadata.flags&2)===2)){if(i.matches===null)t.reset([]);else{let s=T$(e,r);t.reset(s,c2),t.notifyOnChanges()}return!0}return!1}function ht(){return E$(Ee(),fR())}function vz(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function He(t,e=""){let n=Ee(),r=Xe(),i=t+Yt,s=r.firstCreatePass?sc(r,i,1,e,null):r.data[i],o=_z(r,n,s,e,t);n[i]=o,Kf()&&eh(r,n,o,s),Is(s,!1)}var _z=(t,e,n,r,i)=>(Qf(!0),z2(e[Ke],r));function ac(t){return sh("",t,""),ac}function sh(t,e,n){let r=Ee(),i=W$(r,t,e,n);return i!==Ci&&Ez(r,Yo(),i),sh}function Ez(t,e,n){let r=rR(e,t);q2(t[Ke],r,n)}function oh(t,e,n){VR(e)&&(e=e());let r=Ee(),i=Gf();if(ea(r,i,e)){let s=Xe(),o=s_();cM(s,o,r,t,e,r[Ke],n,!1)}return oh}function V_(t,e){let n=VR(t);return n&&t.set(e),n}function ah(t,e){let n=Ee(),r=Xe(),i=Bt();return KM(r,n,n[Ke],i,t,e),ah}function wz(t,e,n){let r=Xe();if(r.firstCreatePass){let i=Mr(t);Ov(n,r.data,r.blueprint,i,!0),Ov(e,r.data,r.blueprint,i,!1)}}function Ov(t,e,n,r,i){if(t=jt(t),Array.isArray(t))for(let s=0;s<t.length;s++)Ov(t[s],e,n,r,i);else{let s=Xe(),o=Ee(),a=Bt(),l=Bo(t)?t:jt(t.provide),u=G0(t),d=a.providerIndexes&1048575,h=a.directiveStart,m=a.providerIndexes>>20;if(Bo(t)||!t.multi){let p=new gs(u,i,J),_=Wy(l,e,i?d:d+m,h);_===-1?(ov(Df(a,o),s,l),qy(s,t,e.length),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(p),o.push(p)):(n[_]=p,o[_]=p)}else{let p=Wy(l,e,d+m,h),_=Wy(l,e,d,d+m),I=p>=0&&n[p],w=_>=0&&n[_];if(i&&!w||!i&&!I){ov(Df(a,o),s,l);let R=Dz(i?bz:Iz,n.length,i,r,u);!i&&w&&(n[_].providerFactory=R),qy(s,t,e.length,0),e.push(l),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(R),o.push(R)}else{let R=JM(n[i?_:p],u,!i&&r);qy(s,t,p>-1?p:_,R)}!i&&r&&w&&n[_].componentProviders++}}}function qy(t,e,n,r){let i=Bo(e),s=rB(e);if(i||s){let l=(s?jt(e.useClass):e).prototype.ngOnDestroy;if(l){let u=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let d=u.indexOf(n);d===-1?u.push(n,[r,l]):u[d+1].push(r,l)}else u.push(n,l)}}}function JM(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Wy(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function Iz(t,e,n,r){return Fv(this.multi,[])}function bz(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Wl(n,n[ge],this.providerFactory.index,r);s=a.slice(0,o),Fv(i,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],Fv(i,s);return s}function Fv(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function Dz(t,e,n,r,i){let s=new gs(t,n,J);return s.multi=[],s.index=e,s.componentProviders=0,JM(s,i,r&&!n),s}function j_(t,e=[]){return n=>{n.providersResolver=(r,i)=>wz(r,i?i(t):t,e)}}function U_(t,e,n){let r=t_()+t,i=Ee();return i[r]===Ci?BM(i,r,n?e.call(n):e()):L$(i,r)}function jr(t,e,n,r){return XM(Ee(),t_(),t,e,n,r)}function Tz(t,e){let n=t[e];return n===Ci?void 0:n}function XM(t,e,n,r,i,s){let o=e+n;return ea(t,o,i)?BM(t,o+1,s?r.call(s,i):r(i)):Tz(t,o+1)}function B_(t,e){let n=Xe(),r,i=t+Yt;n.firstCreatePass?(r=Cz(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let s=r.factory||(r.factory=cs(r.type,!0)),o,a=Qt(J);try{let l=bf(!1),u=s();return bf(l),vz(n,Ee(),i,u),u}finally{Qt(a)}}function Cz(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function H_(t,e,n){let r=t+Yt,i=Ee(),s=gB(i,r);return Sz(i,r)?XM(i,t_(),e,s.transform,n,s):s.transform(n)}function Sz(t,e){return t[ge].data[e].pure}var xr=class{full;major;minor;patch;constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},eN=new xr("19.1.6"),Lv=class{ngModuleFactory;componentFactories;constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},$_=(()=>{class t{compileModuleSync(n){return new Nv(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=U0(n),s=XR(i.declarations).reduce((o,a)=>{let l=us(a);return l&&o.push(new Gl(l)),o},[]);return new Lv(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Az=(()=>{class t{zone=V(Ae);changeDetectionScheduler=V(qo);applicationRef=V(Nr);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Rz=new $("",{factory:()=>!1});function tN({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Ae(pe(j({},rN()),{scheduleInRootZone:n})),[{provide:Ae,useFactory:t},{provide:Uo,multi:!0,useFactory:()=>{let r=V(Az,{optional:!0});return()=>r.initialize()}},{provide:Uo,multi:!0,useFactory:()=>{let r=V(Mz);return()=>{r.initialize()}}},e===!0?{provide:kR,useValue:!0}:[],{provide:PR,useValue:n??xR}]}function nN(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=tN({ngZoneFactory:()=>{let i=rN(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Jo("NgZone_CoalesceEvent"),new Ae(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Zt([{provide:Rz,useValue:!0},{provide:Yf,useValue:!1},r])}function rN(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var Mz=(()=>{class t{subscription=new ze;initialized=!1;zone=V(Ae);pendingTasks=V(Fr);initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Ae.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Ae.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var Nz=(()=>{class t{appRef=V(Nr);taskService=V(Fr);ngZone=V(Ae);zonelessEnabled=V(Yf);tracing=V(Jf,{optional:!0});disableScheduling=V(kR,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new ze;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Cf):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(V(PR,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof dv||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;let r=!1;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 8:{this.appRef.deferredDirtyFlags|=8;break}case 6:{this.appRef.dirtyFlags|=2,r=!0;break}case 13:{this.appRef.dirtyFlags|=16,r=!0;break}case 14:{this.appRef.dirtyFlags|=2,r=!0;break}case 12:{r=!0;break}case 10:case 9:case 7:case 11:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(r))return;let i=this.useMicrotaskScheduler?XA:OR;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(n){return!(this.disableScheduling&&!n||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Cf+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,XA(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function xz(){return typeof $localize<"u"&&$localize.locale||Of}var z_=new $("",{providedIn:"root",factory:()=>V(z_,fe.Optional|fe.SkipSelf)||xz()});var Vv=new $(""),kz=new $("");function Ll(t){return!t.moduleRef}function Pz(t){let e=Ll(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Ae);return n.run(()=>{Ll(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(bi,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Ll(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Vv);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Vv);o.add(s),t.moduleRef.onDestroy(()=>{df(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return Fz(r,n,()=>{let s=e.get(qM);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(z_,Of);if(hz(o||Of),!e.get(kz,!0))return Ll(t)?e.get(Nr):(t.allPlatformModules.push(t.moduleRef),t.moduleRef);if(Ll(t)){let l=e.get(Nr);return t.rootComponent!==void 0&&l.bootstrap(t.rootComponent),l}else return Oz(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function Oz(t,e){let n=t.injector.get(Nr);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new z(-403,!1);e.push(t)}function Fz(t,e,n){try{let r=n();return Si(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ff=null;function Lz(t=[],e){return Qe.create({name:e,providers:[{provide:Bf,useValue:"platform"},{provide:Vv,useValue:new Set([()=>ff=null])},...t]})}function Vz(t=[]){if(ff)return ff;let e=Lz(t);return ff=e,H$(),jz(e),e}function jz(t){let e=t.get(f_,null);Et(t,()=>{e?.forEach(n=>n())})}function q_(){return!1}var Jn=(()=>{class t{static __NG_ELEMENT_ID__=Uz}return t})();function Uz(t){return Bz(Bt(),Ee(),(t&16)===16)}function Bz(t,e,n){if(_s(t)&&!n){let r=Gn(t.index,e);return new ms(r,r)}else if(t.type&175){let r=e[In];return new ms(r,e)}return null}var jv=class{constructor(){}supports(e){return UM(e)}create(e){return new Uv(e)}},Hz=(t,e)=>e,Uv=class{length=0;collection;_linkedRecords=null;_unlinkedRecords=null;_previousItHead=null;_itHead=null;_itTail=null;_additionsHead=null;_additionsTail=null;_movesHead=null;_movesTail=null;_removalsHead=null;_removalsTail=null;_identityChangesHead=null;_identityChangesTail=null;_trackByFn;constructor(e){this._trackByFn=e||Hz}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<E0(r,i,s)?n:r,a=E0(o,i,s),l=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let u=a-i,d=l-i;if(u!=d){for(let m=0;m<u;m++){let p=m<s.length?s[m]:s[m]=0,_=p+m;d<=_&&_<u&&(s[m]=p+1)}let h=o.previousIndex;s[h]=d-u}}a!==l&&e(o,a,l)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!UM(e))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,F$(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Bv(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Ff),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Ff),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Bv=class{item;trackById;currentIndex=null;previousIndex=null;_nextPrevious=null;_prev=null;_next=null;_prevDup=null;_nextDup=null;_prevRemoved=null;_nextRemoved=null;_nextAdded=null;_nextMoved=null;_nextIdentityChange=null;constructor(e,n){this.item=e,this.trackById=n}},Hv=class{_head=null;_tail=null;add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Ff=class{map=new Map;put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Hv,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function E0(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var $v=class{constructor(){}supports(e){return e instanceof Map||O_(e)}create(){return new zv}},zv=class{_records=new Map;_mapHead=null;_appendAfter=null;_previousMapHead=null;_changesHead=null;_changesTail=null;_additionsHead=null;_additionsTail=null;_removalsHead=null;_removalsTail=null;get isDirty(){return this._additionsHead!==null||this._changesHead!==null||this._removalsHead!==null}forEachItem(e){let n;for(n=this._mapHead;n!==null;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;n!==null;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;n!==null;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}diff(e){if(!e)e=new Map;else if(!(e instanceof Map||O_(e)))throw new z(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{let s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;r!==null;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){let r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){let i=this._records.get(e);this._maybeAddToChanges(i,n);let s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}let r=new qv(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;e!==null;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;e!=null;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){this._additionsHead===null?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){this._changesHead===null?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}},qv=class{key;previousValue=null;currentValue=null;_nextPrevious=null;_next=null;_prev=null;_nextAdded=null;_nextRemoved=null;_nextChanged=null;constructor(e){this.key=e}};function w0(){return new W_([new jv])}var W_=(()=>{class t{factories;static \u0275prov=q({token:t,providedIn:"root",factory:w0});constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||w0()),deps:[[t,new F0,new dt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new z(901,!1)}}return t})();function I0(){return new G_([new $v])}var G_=(()=>{class t{static \u0275prov=q({token:t,providedIn:"root",factory:I0});factories;constructor(n){this.factories=n}static create(n,r){if(r){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||I0()),deps:[[t,new F0,new dt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r)return r;throw new z(901,!1)}}return t})();function iN(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=Vz(r),s=[tN({}),{provide:qo,useExisting:Nz},...n||[]],o=new kf({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return Pz({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function Ds(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function lc(t,e){Jo("NgSignals");let n=cA(t);return e?.equal&&(n[sn].equal=e.equal),n}function kn(t){let e=Ie(null);try{return t()}finally{Ie(e)}}var b0=class{[sn];constructor(e){this[sn]=e}destroy(){this[sn].destroy()}};var uN=null;function Ur(){return uN}function dN(t){uN??=t}var lh=class{};var tn=new $(""),fN=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>V($z),providedIn:"platform"})}return t})();var $z=(()=>{class t extends fN{_location;_history;_doc=V(tn);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Ur().getBaseHref(this._doc)}onPopState(n){let r=Ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Ur().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function hN(t,e){return t?e?t.endsWith("/")?e.startsWith("/")?t+e.slice(1):t+e:e.startsWith("/")?t+e:`${t}/${e}`:t:e}function sN(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Ts(t){return t&&t[0]!=="?"?"?"+t:t}var na=(()=>{class t{historyGo(n){throw new Error("")}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>V(pN),providedIn:"root"})}return t})(),zz=new $(""),pN=(()=>{class t extends na{_platformLocation;_baseHref;_removeListenerFns=[];constructor(n,r){super(),this._platformLocation=n,this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??V(tn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return hN(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Ts(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Ts(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Ts(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static \u0275fac=function(r){return new(r||t)(Q(fN),Q(zz,8))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var cc=(()=>{class t{_subject=new Ge;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(n){this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=Gz(sN(oN(r))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Ts(r))}normalize(n){return t.stripTrailingSlash(Wz(this._basePath,oN(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ts(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Ts(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r??void 0,complete:i??void 0})}static normalizeQueryParams=Ts;static joinWithSlash=hN;static stripTrailingSlash=sN;static \u0275fac=function(r){return new(r||t)(Q(na))};static \u0275prov=q({token:t,factory:()=>qz(),providedIn:"root"})}return t})();function qz(){return new cc(Q(na))}function Wz(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function oN(t){return t.replace(/\/index.html$/,"")}function Gz(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function ch(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var K_=/\s+/,aN=[],uh=(()=>{class t{_ngEl;_renderer;initialClasses=aN;rawClass;stateMap=new Map;constructor(n,r){this._ngEl=n,this._renderer=r}set klass(n){this.initialClasses=n!=null?n.trim().split(K_):aN}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(K_):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(K_).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static \u0275fac=function(r){return new(r||t)(J(xt),J(Lr))};static \u0275dir=Ht({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return t})();var Q_=class{$implicit;ngForOf;index;count;constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},gN=(()=>{class t{_viewContainer;_template;_differs;set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}_ngForOf=null;_ngForOfDirty=!0;_differ=null;_trackByFn;constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;!this._differ&&n&&(this._differ=this._differs.find(n).create(this.ngForTrackBy))}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new Q_(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),lN(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);lN(s,i)})}static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(J(Vr),J(ys),J(W_))};static \u0275dir=Ht({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}})}return t})();function lN(t,e){t.context.$implicit=e.item}var Ri=(()=>{class t{_viewContainer;_context=new Y_;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(n,r){this._viewContainer=n,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){cN("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){cN("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(n,r){return!0}static \u0275fac=function(r){return new(r||t)(J(Vr),J(ys))};static \u0275dir=Ht({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return t})(),Y_=class{$implicit=null;ngIf=null};function cN(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Ut(e)}'.`)}var mN=(()=>{class t{_ngEl;_differs;_renderer;_ngStyle=null;_differ=null;constructor(n,r,i){this._ngEl=n,this._differs=r,this._renderer=i}set ngStyle(n){this._ngStyle=n,!this._differ&&n&&(this._differ=this._differs.find(n).create())}ngDoCheck(){if(this._differ){let n=this._differ.diff(this._ngStyle);n&&this._applyChanges(n)}}_setStyle(n,r){let[i,s]=n.split("."),o=i.indexOf("-")===-1?void 0:Qn.DashCase;r!=null?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(n){n.forEachRemovedItem(r=>this._setStyle(r.key,null)),n.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),n.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static \u0275fac=function(r){return new(r||t)(J(xt),J(G_),J(Lr))};static \u0275dir=Ht({type:t,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"}})}return t})(),yN=(()=>{class t{_viewContainerRef;_viewRef=null;ngTemplateOutletContext=null;ngTemplateOutlet=null;ngTemplateOutletInjector=null;constructor(n){this._viewContainerRef=n}ngOnChanges(n){if(this._shouldRecreateView(n)){let r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),!this.ngTemplateOutlet){this._viewRef=null;return}let i=this._createContextForwardProxy();this._viewRef=r.createEmbeddedView(this.ngTemplateOutlet,i,{injector:this.ngTemplateOutletInjector??void 0})}}_shouldRecreateView(n){return!!n.ngTemplateOutlet||!!n.ngTemplateOutletInjector}_createContextForwardProxy(){return new Proxy({},{set:(n,r,i)=>this.ngTemplateOutletContext?Reflect.set(this.ngTemplateOutletContext,r,i):!1,get:(n,r,i)=>{if(this.ngTemplateOutletContext)return Reflect.get(this.ngTemplateOutletContext,r,i)}})}static \u0275fac=function(r){return new(r||t)(J(Vr))};static \u0275dir=Ht({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},features:[Or]})}return t})();function Kz(t,e){return new z(2100,!1)}var Z_=class{createSubscription(e,n){return kn(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){kn(()=>e.unsubscribe())}},J_=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},Qz=new J_,Yz=new Z_,vN=(()=>{class t{_ref;_latestValue=null;markForCheckOnValueUpdate=!0;_subscription=null;_obj=null;_strategy=null;constructor(n){this._ref=n}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(n){if(!this._obj){if(n)try{this.markForCheckOnValueUpdate=!1,this._subscribe(n)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return n!==this._obj?(this._dispose(),this.transform(n)):this._latestValue}_subscribe(n){this._obj=n,this._strategy=this._selectStrategy(n),this._subscription=this._strategy.createSubscription(n,r=>this._updateLatestValue(n,r))}_selectStrategy(n){if(Si(n))return Qz;if(L_(n))return Yz;throw Kz(t,n)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(n,r){n===this._obj&&(this._latestValue=r,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}static \u0275fac=function(r){return new(r||t)(J(Jn,16))};static \u0275pipe=LM({name:"async",type:t,pure:!1})}return t})();var Pn=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Zn({type:t});static \u0275inj=Yn({})}return t})(),_N="browser",Zz="server";function ra(t){return t===Zz}var ta=class{};var dc=class{},fh=class{},Cs=class t{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(e){e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(n=>{let r=n.indexOf(":");if(r>0){let i=n.slice(0,r),s=n.slice(r+1).trim();this.addHeaderEntry(i,s)}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.addHeaderEntry(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){let n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){let n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,n);let i=(e.op==="a"?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":let s=e.value;if(!s)this.headers.delete(n),this.normalizedNames.delete(n);else{let o=this.headers.get(n);if(!o)return;o=o.filter(a=>s.indexOf(a)===-1),o.length===0?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}break}}addHeaderEntry(e,n){let r=e.toLowerCase();this.maybeSetNormalizedName(e,r),this.headers.has(r)?this.headers.get(r).push(n):this.headers.set(r,[n])}setHeaderEntries(e,n){let r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}};var eE=class{encodeKey(e){return EN(e)}encodeValue(e){return EN(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Jz(t,e){let n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,a]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],l=n.get(o)||[];l.push(a),n.set(o,l)}),n}var Xz=/%(\d[a-f0-9])/gi,eq={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function EN(t){return encodeURIComponent(t).replace(Xz,(e,n)=>eq[n]??e)}function dh(t){return`${t}`}var Mi=class t{map;encoder;updates=null;cloneFrom=null;constructor(e={}){if(this.encoder=e.encoder||new eE,e.fromString){if(e.fromObject)throw new z(2805,!1);this.map=Jz(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{let r=e.fromObject[n],i=Array.isArray(r)?r.map(dh):[dh(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){let n=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let n=(e.op==="a"?this.map.get(e.param):void 0)||[];n.push(dh(e.value)),this.map.set(e.param,n);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(dh(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var tE=class{map=new Map;set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function tq(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function wN(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function IN(t){return typeof Blob<"u"&&t instanceof Blob}function bN(t){return typeof FormData<"u"&&t instanceof FormData}function nq(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}var DN="Content-Type",TN="Accept",AN="X-Request-URL",RN="text/plain",MN="application/json",rq=`${MN}, ${RN}, */*`,uc=class t{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;responseType="json";method;params;urlWithParams;transferCache;constructor(e,n,r,i){this.url=n,this.method=e.toUpperCase();let s;if(tq(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new Cs,this.context??=new tE,!this.params)this.params=new Mi,this.urlWithParams=n;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=n;else{let a=n.indexOf("?"),l=a===-1?"?":a<n.length-1?"&":"";this.urlWithParams=n+l+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||wN(this.body)||IN(this.body)||bN(this.body)||nq(this.body)?this.body:this.body instanceof Mi?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||bN(this.body)?null:IN(this.body)?this.body.type||null:wN(this.body)?null:typeof this.body=="string"?RN:this.body instanceof Mi?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?MN:null}clone(e={}){let n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,a=e.withCredentials??this.withCredentials,l=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((m,p)=>m.set(p,e.setHeaders[p]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((m,p)=>m.set(p,e.setParams[p]),d)),new t(n,r,o,{params:d,headers:u,context:h,reportProgress:l,responseType:i,withCredentials:a,transferCache:s})}},sa=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(sa||{}),fc=class{headers;status;statusText;url;ok;type;constructor(e,n=200,r="OK"){this.headers=e.headers||new Cs,this.status=e.status!==void 0?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},nE=class t extends fc{constructor(e={}){super(e)}type=sa.ResponseHeader;clone(e={}){return new t({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},hh=class t extends fc{body;constructor(e={}){super(e),this.body=e.body!==void 0?e.body:null}type=sa.Response;clone(e={}){return new t({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},ph=class extends fc{name="HttpErrorResponse";message;error;ok=!1;constructor(e){super(e,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},iq=200,sq=204;function X_(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}var rE=(()=>{class t{handler;constructor(n){this.handler=n}request(n,r,i={}){let s;if(n instanceof uc)s=n;else{let l;i.headers instanceof Cs?l=i.headers:l=new Cs(i.headers);let u;i.params&&(i.params instanceof Mi?u=i.params:u=new Mi({fromObject:i.params})),s=new uc(n,r,i.body!==void 0?i.body:null,{headers:l,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=ne(s).pipe(vi(l=>this.handler.handle(l)));if(n instanceof uc||i.observe==="events")return o;let a=o.pipe(an(l=>l instanceof hh));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(le(l=>{if(l.body!==null&&!(l.body instanceof ArrayBuffer))throw new z(2806,!1);return l.body}));case"blob":return a.pipe(le(l=>{if(l.body!==null&&!(l.body instanceof Blob))throw new z(2807,!1);return l.body}));case"text":return a.pipe(le(l=>{if(l.body!==null&&typeof l.body!="string")throw new z(2808,!1);return l.body}));case"json":default:return a.pipe(le(l=>l.body))}case"response":return a;default:throw new z(2809,!1)}}delete(n,r={}){return this.request("DELETE",n,r)}get(n,r={}){return this.request("GET",n,r)}head(n,r={}){return this.request("HEAD",n,r)}jsonp(n,r){return this.request("JSONP",n,{params:new Mi().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(n,r={}){return this.request("OPTIONS",n,r)}patch(n,r,i={}){return this.request("PATCH",n,X_(i,r))}post(n,r,i={}){return this.request("POST",n,X_(i,r))}put(n,r,i={}){return this.request("PUT",n,X_(i,r))}static \u0275fac=function(r){return new(r||t)(Q(dc))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})();var oq=new $("");function aq(t,e){return e(t)}function lq(t,e,n){return(r,i)=>Et(n,()=>e(r,s=>t(s,i)))}var NN=new $(""),cq=new $(""),uq=new $("",{providedIn:"root",factory:()=>!0});var CN=(()=>{class t extends dc{backend;injector;chain=null;pendingTasks=V(Fr);contributeToStability=V(uq);constructor(n,r){super(),this.backend=n,this.injector=r}handle(n){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(NN),...this.injector.get(cq,[])]));this.chain=r.reduceRight((i,s)=>lq(i,s,this.injector),aq)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(n,i=>this.backend.handle(i)).pipe(as(()=>this.pendingTasks.remove(r)))}else return this.chain(n,r=>this.backend.handle(r))}static \u0275fac=function(r){return new(r||t)(Q(fh),Q(Mt))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})();var dq=/^\)\]\}',?\n/,fq=RegExp(`^${AN}:`,"m");function hq(t){return"responseURL"in t&&t.responseURL?t.responseURL:fq.test(t.getAllResponseHeaders())?t.getResponseHeader(AN):null}var SN=(()=>{class t{xhrFactory;constructor(n){this.xhrFactory=n}handle(n){if(n.method==="JSONP")throw new z(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?Ue(r.\u0275loadImpl()):ne(null)).pipe(ln(()=>new ue(s=>{let o=r.build();if(o.open(n.method,n.urlWithParams),n.withCredentials&&(o.withCredentials=!0),n.headers.forEach((I,w)=>o.setRequestHeader(I,w.join(","))),n.headers.has(TN)||o.setRequestHeader(TN,rq),!n.headers.has(DN)){let I=n.detectContentTypeHeader();I!==null&&o.setRequestHeader(DN,I)}if(n.responseType){let I=n.responseType.toLowerCase();o.responseType=I!=="json"?I:"text"}let a=n.serializeBody(),l=null,u=()=>{if(l!==null)return l;let I=o.statusText||"OK",w=new Cs(o.getAllResponseHeaders()),R=hq(o)||n.url;return l=new nE({headers:w,status:o.status,statusText:I,url:R}),l},d=()=>{let{headers:I,status:w,statusText:R,url:P}=u(),O=null;w!==sq&&(O=typeof o.response>"u"?o.responseText:o.response),w===0&&(w=O?iq:0);let B=w>=200&&w<300;if(n.responseType==="json"&&typeof O=="string"){let me=O;O=O.replace(dq,"");try{O=O!==""?JSON.parse(O):null}catch(W){O=me,B&&(B=!1,O={error:W,text:O})}}B?(s.next(new hh({body:O,headers:I,status:w,statusText:R,url:P||void 0})),s.complete()):s.error(new ph({error:O,headers:I,status:w,statusText:R,url:P||void 0}))},h=I=>{let{url:w}=u(),R=new ph({error:I,status:o.status||0,statusText:o.statusText||"Unknown Error",url:w||void 0});s.error(R)},m=!1,p=I=>{m||(s.next(u()),m=!0);let w={type:sa.DownloadProgress,loaded:I.loaded};I.lengthComputable&&(w.total=I.total),n.responseType==="text"&&o.responseText&&(w.partialText=o.responseText),s.next(w)},_=I=>{let w={type:sa.UploadProgress,loaded:I.loaded};I.lengthComputable&&(w.total=I.total),s.next(w)};return o.addEventListener("load",d),o.addEventListener("error",h),o.addEventListener("timeout",h),o.addEventListener("abort",h),n.reportProgress&&(o.addEventListener("progress",p),a!==null&&o.upload&&o.upload.addEventListener("progress",_)),o.send(a),s.next({type:sa.Sent}),()=>{o.removeEventListener("error",h),o.removeEventListener("abort",h),o.removeEventListener("load",d),o.removeEventListener("timeout",h),n.reportProgress&&(o.removeEventListener("progress",p),a!==null&&o.upload&&o.upload.removeEventListener("progress",_)),o.readyState!==o.DONE&&o.abort()}})))}static \u0275fac=function(r){return new(r||t)(Q(ta))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),xN=new $(""),pq="XSRF-TOKEN",gq=new $("",{providedIn:"root",factory:()=>pq}),mq="X-XSRF-TOKEN",yq=new $("",{providedIn:"root",factory:()=>mq}),gh=class{},vq=(()=>{class t{doc;platform;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(n,r,i){this.doc=n,this.platform=r,this.cookieName=i}getToken(){if(this.platform==="server")return null;let n=this.doc.cookie||"";return n!==this.lastCookieString&&(this.parseCount++,this.lastToken=ch(n,this.cookieName),this.lastCookieString=n),this.lastToken}static \u0275fac=function(r){return new(r||t)(Q(tn),Q(bn),Q(gq))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})();function _q(t,e){let n=t.url.toLowerCase();if(!V(xN)||t.method==="GET"||t.method==="HEAD"||n.startsWith("http://")||n.startsWith("https://"))return e(t);let r=V(gh).getToken(),i=V(yq);return r!=null&&!t.headers.has(i)&&(t=t.clone({headers:t.headers.set(i,r)})),e(t)}function kN(...t){let e=[rE,SN,CN,{provide:dc,useExisting:CN},{provide:fh,useFactory:()=>V(oq,{optional:!0})??V(SN)},{provide:NN,useValue:_q,multi:!0},{provide:xN,useValue:!0},{provide:gh,useClass:vq}];for(let n of t)e.push(...n.\u0275providers);return Zt(e)}var sE=class extends lh{supportsDOMEvents=!0},oE=class t extends sE{static makeCurrent(){dN(new t)}onAndCancel(e,n,r,i){return e.addEventListener(n,r,i),()=>{e.removeEventListener(n,r,i)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=wq();return n==null?null:Iq(n)}resetBaseElement(){hc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return ch(document.cookie,e)}},hc=null;function wq(){return hc=hc||document.querySelector("base"),hc?hc.getAttribute("href"):null}function Iq(t){return new URL(t,document.baseURI).pathname}var bq=(()=>{class t{build(){return new XMLHttpRequest}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),aE=new $(""),jN=(()=>{class t{_zone;_plugins;_eventNameToPlugin=new Map;constructor(n,r){this._zone=r,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i,s){return this._findPluginFor(r).addEventListener(n,r,i,s)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new z(5101,!1);return this._eventNameToPlugin.set(n,r),r}static \u0275fac=function(r){return new(r||t)(Q(aE),Q(Ae))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),yh=class{_doc;constructor(e){this._doc=e}manager},mh="ng-app-id";function PN(t){for(let e of t)e.remove()}function ON(t,e){let n=e.createElement("style");return n.textContent=t,n}function Dq(t,e,n,r){let i=t.head?.querySelectorAll(`style[${mh}="${e}"],link[${mh}="${e}"]`);if(i)for(let s of i)s.removeAttribute(mh),s instanceof HTMLLinkElement?r.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&n.set(s.textContent,{usage:0,elements:[s]})}function lE(t,e){let n=e.createElement("link");return n.setAttribute("rel","stylesheet"),n.setAttribute("href",t),n}var UN=(()=>{class t{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.isServer=ra(s),Dq(n,r,this.inline,this.external),this.hosts.add(n.head)}addStyles(n,r){for(let i of n)this.addUsage(i,this.inline,ON);r?.forEach(i=>this.addUsage(i,this.external,lE))}removeStyles(n,r){for(let i of n)this.removeUsage(i,this.inline);r?.forEach(i=>this.removeUsage(i,this.external))}addUsage(n,r,i){let s=r.get(n);s?s.usage++:r.set(n,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(n,this.doc)))})}removeUsage(n,r){let i=r.get(n);i&&(i.usage--,i.usage<=0&&(PN(i.elements),r.delete(n)))}ngOnDestroy(){for(let[,{elements:n}]of[...this.inline,...this.external])PN(n);this.hosts.clear()}addHost(n){this.hosts.add(n);for(let[r,{elements:i}]of this.inline)i.push(this.addElement(n,ON(r,this.doc)));for(let[r,{elements:i}]of this.external)i.push(this.addElement(n,lE(r,this.doc)))}removeHost(n){this.hosts.delete(n)}addElement(n,r){return this.nonce&&r.setAttribute("nonce",this.nonce),this.isServer&&r.setAttribute(mh,this.appId),n.appendChild(r)}static \u0275fac=function(r){return new(r||t)(Q(tn),Q(d_),Q(h_,8),Q(bn))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),iE={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},uE=/%COMP%/g;var BN="%COMP%",Tq=`_nghost-${BN}`,Cq=`_ngcontent-${BN}`,Sq=!0,Aq=new $("",{providedIn:"root",factory:()=>Sq});function Rq(t){return Cq.replace(uE,t)}function Mq(t){return Tq.replace(uE,t)}function HN(t,e){return e.map(n=>n.replace(uE,t))}var FN=(()=>{class t{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(n,r,i,s,o,a,l,u=null,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=u,this.tracingService=d,this.platformIsServer=ra(a),this.defaultRenderer=new pc(n,o,l,this.platformIsServer,this.tracingService)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Kn.ShadowDom&&(r=pe(j({},r),{encapsulation:Kn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof vh?i.applyToHost(n):i instanceof gc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer,m=this.tracingService;switch(r.encapsulation){case Kn.Emulated:s=new vh(l,u,r,this.appId,d,o,a,h,m);break;case Kn.ShadowDom:return new cE(l,u,n,r,o,a,this.nonce,h,m);default:s=new gc(l,u,r,d,o,a,h,m);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(n){this.rendererByCompId.delete(n)}static \u0275fac=function(r){return new(r||t)(Q(jN),Q(UN),Q(d_),Q(Aq),Q(tn),Q(bn),Q(Ae),Q(h_),Q(Jf,8))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),pc=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(e,n,r,i,s){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(e,n){return n?this.doc.createElementNS(iE[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(LN(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(LN(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new z(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=iE[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=iE[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Qn.DashCase|Qn.Important)?e.style.setProperty(n,r,i&Qn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Qn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r,i){if(typeof e=="string"&&(e=Ur().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);let s=this.decoratePreventDefault(r);return this.tracingService!==null&&this.tracingService.wrapEventListener&&(s=this.tracingService.wrapEventListener(e,n,s)),this.eventManager.addEventListener(e,n,s,i)}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function LN(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var cE=class extends pc{sharedStylesHost;hostEl;shadowRoot;constructor(e,n,r,i,s,o,a,l,u){super(e,s,o,l,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=i.styles;d=HN(i.id,d);for(let m of d){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=m,this.shadowRoot.appendChild(p)}let h=i.getExternalStyles?.();if(h)for(let m of h){let p=lE(m,s);a&&p.setAttribute("nonce",a),this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},gc=class extends pc{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(e,n,r,i,s,o,a,l,u){super(e,s,o,a,l),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i;let d=r.styles;this.styles=u?HN(u,d):d,this.styleUrls=r.getExternalStyles?.(u)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},vh=class extends gc{contentAttr;hostAttr;constructor(e,n,r,i,s,o,a,l,u){let d=i+"-"+r.id;super(e,n,r,s,o,a,l,u,d),this.contentAttr=Rq(d),this.hostAttr=Mq(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Nq=(()=>{class t extends yh{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i,s){return n.addEventListener(r,i,s),()=>this.removeEventListener(n,r,i,s)}removeEventListener(n,r,i,s){return n.removeEventListener(r,i,s)}static \u0275fac=function(r){return new(r||t)(Q(tn))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})(),VN=["alt","control","meta","shift"],xq={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kq={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},Pq=(()=>{class t extends yh{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i,s){let o=t.parseEventName(r),a=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Ur().onAndCancel(n,o.domEventName,a,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),VN.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let l={};return l.domEventName=i,l.fullKey=o,l}static matchEventFullKeyCode(n,r){let i=xq[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),VN.forEach(o=>{if(o!==i){let a=kq[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static \u0275fac=function(r){return new(r||t)(Q(tn))};static \u0275prov=q({token:t,factory:t.\u0275fac})}return t})();function $N(t,e){return iN(j({rootComponent:t},Oq(e)))}function Oq(t){return{appProviders:[...Uq,...t?.providers??[]],platformProviders:jq}}function Fq(){oE.makeCurrent()}function Lq(){return new bi}function Vq(){return qR(document),document}var jq=[{provide:bn,useValue:_N},{provide:f_,useValue:Fq,multi:!0},{provide:tn,useFactory:Vq,deps:[]}];var Uq=[{provide:Bf,useValue:"root"},{provide:bi,useFactory:Lq,deps:[]},{provide:aE,useClass:Nq,multi:!0,deps:[tn]},{provide:aE,useClass:Pq,multi:!0,deps:[tn]},FN,UN,jN,{provide:Go,useExisting:FN},{provide:ta,useClass:bq,deps:[]},[]];var zN=(()=>{class t{_doc;constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static \u0275fac=function(r){return new(r||t)(Q(tn))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var ce="primary",Mc=Symbol("RouteTitle"),gE=class{params;constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function da(t){return new gE(t)}function Hq(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function $q(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Xn(t[n],e[n]))return!1;return!0}function Xn(t,e){let n=t?mE(t):void 0,r=e?mE(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!JN(t[i],e[i]))return!1;return!0}function mE(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function JN(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function XN(t){return t.length>0?t[t.length-1]:null}function xi(t){return Ay(t)?t:Si(t)?Ue(Promise.resolve(t)):ne(t)}var zq={exact:tx,subset:nx},ex={exact:qq,subset:Wq,ignored:()=>!0};function qN(t,e,n){return zq[n.paths](t.root,e.root,n.matrixParams)&&ex[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function qq(t,e){return Xn(t,e)}function tx(t,e,n){if(!As(t.segments,e.segments)||!wh(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!tx(t.children[r],e.children[r],n))return!1;return!0}function Wq(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>JN(t[n],e[n]))}function nx(t,e,n){return rx(t,e,e.segments,n)}function rx(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!As(i,n)||e.hasChildren()||!wh(i,n,r))}else if(t.segments.length===n.length){if(!As(t.segments,n)||!wh(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!nx(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!As(t.segments,i)||!wh(t.segments,i,r)||!t.children[ce]?!1:rx(t.children[ce],e,s,r)}}function wh(t,e,n){return e.every((r,i)=>ex[n](t[i].parameters,r.parameters))}var Hr=class{root;queryParams;fragment;_queryParamMap;constructor(e=new Re([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=da(this.queryParams),this._queryParamMap}toString(){return Qq.serialize(this)}},Re=class{segments;children;parent=null;constructor(e,n){this.segments=e,this.children=n,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Ih(this)}},Ss=class{path;parameters;_parameterMap;constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=da(this.parameters),this._parameterMap}toString(){return sx(this)}};function Gq(t,e){return As(t,e)&&t.every((n,r)=>Xn(n.parameters,e[r].parameters))}function As(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function Kq(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}var HE=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>new wc,providedIn:"root"})}return t})(),wc=class{parse(e){let n=new vE(e);return new Hr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${mc(e.root,!0)}`,r=Jq(e.queryParams),i=typeof e.fragment=="string"?`#${Yq(e.fragment)}`:"";return`${n}${r}${i}`}},Qq=new wc;function Ih(t){return t.segments.map(e=>sx(e)).join("/")}function mc(t,e){if(!t.hasChildren())return Ih(t);if(e){let n=t.children[ce]?mc(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ce&&r.push(`${i}:${mc(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=Kq(t,(r,i)=>i===ce?[mc(t.children[ce],!1)]:[`${i}:${mc(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ce]!=null?`${Ih(t)}/${n[0]}`:`${Ih(t)}/(${n.join("//")})`}}function ix(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function _h(t){return ix(t).replace(/%3B/gi,";")}function Yq(t){return encodeURI(t)}function yE(t){return ix(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function bh(t){return decodeURIComponent(t)}function WN(t){return bh(t.replace(/\+/g,"%20"))}function sx(t){return`${yE(t.path)}${Zq(t.parameters)}`}function Zq(t){return Object.entries(t).map(([e,n])=>`;${yE(e)}=${yE(n)}`).join("")}function Jq(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${_h(n)}=${_h(i)}`).join("&"):`${_h(n)}=${_h(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var Xq=/^[^\/()?;#]+/;function dE(t){let e=t.match(Xq);return e?e[0]:""}var eW=/^[^\/()?;=#]+/;function tW(t){let e=t.match(eW);return e?e[0]:""}var nW=/^[^=?&#]+/;function rW(t){let e=t.match(nW);return e?e[0]:""}var iW=/^[^&#]+/;function sW(t){let e=t.match(iW);return e?e[0]:""}var vE=class{url;remaining;constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Re([],{}):new Re([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new Re(e,n)),r}parseSegment(){let e=dE(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new z(4009,!1);return this.capture(e),new Ss(bh(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=tW(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=dE(this.remaining);i&&(r=i,this.capture(r))}e[bh(n)]=bh(r)}parseQueryParam(e){let n=rW(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=sW(this.remaining);o&&(r=o,this.capture(r))}let i=WN(n),s=WN(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=dE(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new z(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ce);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ce]:new Re([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new z(4011,!1)}};function ox(t){return t.segments.length>0?new Re([],{[ce]:t}):t}function ax(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=ax(i);if(r===ce&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new Re(t.segments,e);return oW(n)}function oW(t){if(t.numberOfChildren===1&&t.children[ce]){let e=t.children[ce];return new Re(t.segments.concat(e.segments),e.children)}return t}function Rs(t){return t instanceof Hr}function aW(t,e,n=null,r=null){let i=lx(t);return cx(i,e,n,r)}function lx(t){let e;function n(s){let o={};for(let l of s.children){let u=n(l);o[l.outlet]=u}let a=new Re(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=ox(r);return e??i}function cx(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return fE(i,i,i,n,r);let s=lW(e);if(s.toRoot())return fE(i,i,new Re([],{}),n,r);let o=cW(s,i,t),a=o.processChildren?vc(o.segmentGroup,o.index,s.commands):dx(o.segmentGroup,o.index,s.commands);return fE(i,o.segmentGroup,a,n,r)}function Dh(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Ic(t){return typeof t=="object"&&t!=null&&t.outlets}function fE(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;t===e?o=n:o=ux(t,e,n);let a=ox(ax(o));return new Hr(a,s,i)}function ux(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=ux(s,e,n)}),new Re(t.segments,r)}var Th=class{isAbsolute;numberOfDoubleDots;commands;constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Dh(r[0]))throw new z(4003,!1);let i=r.find(Ic);if(i&&i!==XN(r))throw new z(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function lW(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Th(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([l,u])=>{a[l]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,l)=>{l==0&&a==="."||(l==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Th(n,e,r)}var la=class{segmentGroup;processChildren;index;constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function cW(t,e,n){if(t.isAbsolute)return new la(e,!0,0);if(!n)return new la(e,!1,NaN);if(n.parent===null)return new la(n,!0,0);let r=Dh(t.commands[0])?0:1,i=n.segments.length-1+r;return uW(n,i,t.numberOfDoubleDots)}function uW(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new z(4005,!1);i=r.segments.length}return new la(r,!1,i-s)}function dW(t){return Ic(t[0])?t[0].outlets:{[ce]:t}}function dx(t,e,n){if(t??=new Re([],{}),t.segments.length===0&&t.hasChildren())return vc(t,e,n);let r=fW(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new Re(t.segments.slice(0,r.pathIndex),{});return s.children[ce]=new Re(t.segments.slice(r.pathIndex),t.children),vc(s,0,i)}else return r.match&&i.length===0?new Re(t.segments,{}):r.match&&!t.hasChildren()?_E(t,e,n):r.match?vc(t,0,i):_E(t,e,n)}function vc(t,e,n){if(n.length===0)return new Re(t.segments,{});{let r=dW(n),i={};if(Object.keys(r).some(s=>s!==ce)&&t.children[ce]&&t.numberOfChildren===1&&t.children[ce].segments.length===0){let s=vc(t.children[ce],e,n);return new Re(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=dx(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new Re(t.segments,i)}}function fW(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(Ic(a))break;let l=`${a}`,u=r<n.length-1?n[r+1]:null;if(i>0&&l===void 0)break;if(l&&u&&typeof u=="object"&&u.outlets===void 0){if(!KN(l,u,o))return s;r+=2}else{if(!KN(l,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function _E(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(Ic(s)){let l=hW(s.outlets);return new Re(r,l)}if(i===0&&Dh(n[0])){let l=t.segments[e];r.push(new Ss(l.path,GN(n[0]))),i++;continue}let o=Ic(s)?s.outlets[ce]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&Dh(a)?(r.push(new Ss(o,GN(a))),i+=2):(r.push(new Ss(o,{})),i++)}return new Re(r,{})}function hW(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=_E(new Re([],{}),0,r))}),e}function GN(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function KN(t,e,n){return t==n.path&&Xn(e,n.parameters)}var _c="imperative",It=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(It||{}),Dn=class{id;url;constructor(e,n){this.id=e,this.url=n}},bc=class extends Dn{type=It.NavigationStart;navigationTrigger;restoredState;constructor(e,n,r="imperative",i=null){super(e,n),this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ni=class extends Dn{urlAfterRedirects;type=It.NavigationEnd;constructor(e,n,r){super(e,n),this.urlAfterRedirects=r}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},fn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(fn||{}),EE=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(EE||{}),Br=class extends Dn{reason;code;type=It.NavigationCancel;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ms=class extends Dn{reason;code;type=It.NavigationSkipped;constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i}},Dc=class extends Dn{error;target;type=It.NavigationError;constructor(e,n,r,i){super(e,n),this.error=r,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ch=class extends Dn{urlAfterRedirects;state;type=It.RoutesRecognized;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wE=class extends Dn{urlAfterRedirects;state;type=It.GuardsCheckStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},IE=class extends Dn{urlAfterRedirects;state;shouldActivate;type=It.GuardsCheckEnd;constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},bE=class extends Dn{urlAfterRedirects;state;type=It.ResolveStart;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},DE=class extends Dn{urlAfterRedirects;state;type=It.ResolveEnd;constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},TE=class{route;type=It.RouteConfigLoadStart;constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},CE=class{route;type=It.RouteConfigLoadEnd;constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},SE=class{snapshot;type=It.ChildActivationStart;constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},AE=class{snapshot;type=It.ChildActivationEnd;constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},RE=class{snapshot;type=It.ActivationStart;constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ME=class{snapshot;type=It.ActivationEnd;constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Tc=class{},fa=class{url;navigationBehaviorOptions;constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function pW(t,e){return t.providers&&!t._injector&&(t._injector=k_(t.providers,e,`Route: ${t.path}`)),t._injector??e}function On(t){return t.outlet||ce}function gW(t,e){let n=t.filter(r=>On(r)===e);return n.push(...t.filter(r=>On(r)!==e)),n}function Nc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var NE=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Nc(this.route?.snapshot)??this.rootInjector}constructor(e){this.rootInjector=e,this.children=new kh(this.rootInjector)}},kh=(()=>{class t{rootInjector;contexts=new Map;constructor(n){this.rootInjector=n}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new NE(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static \u0275fac=function(r){return new(r||t)(Q(Mt))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Sh=class{_root;constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=xE(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=xE(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=kE(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return kE(e,this._root).map(n=>n.value)}};function xE(t,e){if(t===e.value)return e;for(let n of e.children){let r=xE(t,n);if(r)return r}return null}function kE(t,e){if(t===e.value)return[e];for(let n of e.children){let r=kE(t,n);if(r.length)return r.unshift(e),r}return[]}var dn=class{value;children;constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function aa(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ah=class extends Sh{snapshot;constructor(e,n){super(e),this.snapshot=n,$E(this,e)}toString(){return this.snapshot.toString()}};function fx(t){let e=mW(t),n=new vt([new Ss("",{})]),r=new vt({}),i=new vt({}),s=new vt({}),o=new vt(""),a=new Ns(n,r,s,o,i,ce,t,e.root);return a.snapshot=e.root,new Ah(new dn(a,[]),e)}function mW(t){let e={},n={},r={},i="",s=new ca([],e,r,i,n,ce,t,null,{});return new Mh("",new dn(s,[]))}var Ns=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(e,n,r,i,s,o,a,l){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(le(u=>u[Mc]))??ne(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>da(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>da(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Rh(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:j(j({},e.params),t.params),data:j(j({},e.data),t.data),resolve:j(j(j(j({},t.data),e.data),i?.data),t._resolvedData)}:r={params:j({},t.params),data:j({},t.data),resolve:j(j({},t.data),t._resolvedData??{})},i&&px(i)&&(r.resolve[Mc]=i.title),r}var ca=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Mc]}constructor(e,n,r,i,s,o,a,l,u){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=da(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=da(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Mh=class extends Sh{url;constructor(e,n){super(n),this.url=e,$E(this,n)}toString(){return hx(this._root)}};function $E(t,e){e.value._routerState=t,e.children.forEach(n=>$E(t,n))}function hx(t){let e=t.children.length>0?` { ${t.children.map(hx).join(", ")} } `:"";return`${t.value}${e}`}function hE(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Xn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Xn(e.params,n.params)||t.paramsSubject.next(n.params),$q(e.url,n.url)||t.urlSubject.next(n.url),Xn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function PE(t,e){let n=Xn(t.params,e.params)&&Gq(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||PE(t.parent,e.parent))}function px(t){return typeof t.title=="string"||t.title===null}var yW=new $(""),zE=(()=>{class t{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=ce;activateEvents=new _t;deactivateEvents=new _t;attachEvents=new _t;detachEvents=new _t;routerOutletData=LR(void 0);parentContexts=V(kh);location=V(Vr);changeDetector=V(Jn);inputBinder=V(qE,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new z(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new z(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new z(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new z(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new OE(n,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:l,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(r){return new(r||t)};static \u0275dir=Ht({type:t,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Or]})}return t})(),OE=class t{route;childContexts;parent;outletData;__ngOutletInjector(e){return new t(this.route,this.childContexts,e,this.outletData)}constructor(e,n,r,i){this.route=e,this.childContexts=n,this.parent=r,this.outletData=i}get(e,n){return e===Ns?this.route:e===kh?this.childContexts:e===yW?this.outletData:this.parent.get(e,n)}},qE=new $("");function vW(t,e,n){let r=Cc(t,e._root,n?n._root:void 0);return new Ah(r,e)}function Cc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=_W(t,e,n);return new dn(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Cc(t,a)),o}}let r=EW(e.value),i=e.children.map(s=>Cc(t,s));return new dn(r,i)}}function _W(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Cc(t,r,i);return Cc(t,r)})}function EW(t){return new Ns(new vt(t.url),new vt(t.params),new vt(t.queryParams),new vt(t.fragment),new vt(t.data),t.outlet,t.component,t)}var Sc=class{redirectTo;navigationBehaviorOptions;constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},gx="ngNavigationCancelingError";function Nh(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Rs(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=mx(!1,fn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function mx(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[gx]=!0,n.cancellationCode=e,n}function wW(t){return yx(t)&&Rs(t.url)}function yx(t){return!!t&&t[gx]}var IW=(t,e,n,r)=>le(i=>(new FE(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),FE=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),hE(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=aa(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=aa(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=aa(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=aa(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new ME(s.value.snapshot))}),e.children.length&&this.forwardEvent(new AE(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(hE(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),hE(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},xh=class{path;route;constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ua=class{component;route;constructor(e,n){this.component=e,this.route=n}};function bW(t,e,n){let r=t._root,i=e?e._root:null;return yc(r,i,n,[r.value])}function DW(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function pa(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!R0(t)?t:e.get(t):r}function yc(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=aa(e);return t.children.forEach(o=>{TW(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Ec(a,n.getContext(o),i)),i}function TW(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let l=CW(o,s,s.routeConfig.runGuardsAndResolvers);l?i.canActivateChecks.push(new xh(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?yc(t,e,a?a.children:null,r,i):yc(t,e,n,r,i),l&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ua(a.outlet.component,o))}else o&&Ec(e,a,i),i.canActivateChecks.push(new xh(r)),s.component?yc(t,null,a?a.children:null,r,i):yc(t,null,n,r,i);return i}function CW(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!As(t.url,e.url);case"pathParamsOrQueryParamsChange":return!As(t.url,e.url)||!Xn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!PE(t,e)||!Xn(t.queryParams,e.queryParams);case"paramsChange":default:return!PE(t,e)}}function Ec(t,e,n){let r=aa(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?Ec(o,e.children.getContext(s),n):Ec(o,null,n):Ec(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ua(e.outlet.component,i)):n.canDeactivateChecks.push(new ua(null,i)):n.canDeactivateChecks.push(new ua(null,i))}function xc(t){return typeof t=="function"}function SW(t){return typeof t=="boolean"}function AW(t){return t&&xc(t.canLoad)}function RW(t){return t&&xc(t.canActivate)}function MW(t){return t&&xc(t.canActivateChild)}function NW(t){return t&&xc(t.canDeactivate)}function xW(t){return t&&xc(t.canMatch)}function vx(t){return t instanceof Tr||t?.name==="EmptyError"}var Eh=Symbol("INITIAL_VALUE");function ha(){return ln(t=>Xd(t.map(e=>e.pipe(Cr(1),ky(Eh)))).pipe(le(e=>{for(let n of e)if(n!==!0){if(n===Eh)return Eh;if(n===!1||kW(n))return n}return!0}),an(e=>e!==Eh),Cr(1)))}function kW(t){return Rs(t)||t instanceof Sc}function PW(t,e){return st(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?ne(pe(j({},n),{guardsResult:!0})):OW(o,r,i,t).pipe(st(a=>a&&SW(a)?FW(r,s,t,e):ne(a)),le(a=>pe(j({},n),{guardsResult:a})))})}function OW(t,e,n,r){return Ue(t).pipe(st(i=>BW(i.component,i.route,n,e,r)),Sr(i=>i!==!0,!0))}function FW(t,e,n,r){return Ue(e).pipe(vi(i=>xo(VW(i.route.parent,r),LW(i.route,r),UW(t,i.path,n),jW(t,i.route,n))),Sr(i=>i!==!0,!0))}function LW(t,e){return t!==null&&e&&e(new RE(t)),ne(!0)}function VW(t,e){return t!==null&&e&&e(new SE(t)),ne(!0)}function jW(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(s=>ef(()=>{let o=Nc(e)??n,a=pa(s,o),l=RW(a)?a.canActivate(e,t):Et(o,()=>a(e,t));return xi(l).pipe(Sr())}));return ne(i).pipe(ha())}function UW(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>DW(o)).filter(o=>o!==null).map(o=>ef(()=>{let a=o.guards.map(l=>{let u=Nc(o.node)??n,d=pa(l,u),h=MW(d)?d.canActivateChild(r,t):Et(u,()=>d(r,t));return xi(h).pipe(Sr())});return ne(a).pipe(ha())}));return ne(s).pipe(ha())}function BW(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ne(!0);let o=s.map(a=>{let l=Nc(e)??i,u=pa(a,l),d=NW(u)?u.canDeactivate(t,e,n,r):Et(l,()=>u(t,e,n,r));return xi(d).pipe(Sr())});return ne(o).pipe(ha())}function HW(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ne(!0);let s=i.map(o=>{let a=pa(o,t),l=AW(a)?a.canLoad(e,n):Et(t,()=>a(e,n));return xi(l)});return ne(s).pipe(ha(),_x(r))}function _x(t){return wy(ut(e=>{if(typeof e!="boolean")throw Nh(t,e)}),le(e=>e===!0))}function $W(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ne(!0);let s=i.map(o=>{let a=pa(o,t),l=xW(a)?a.canMatch(e,n):Et(t,()=>a(e,n));return xi(l)});return ne(s).pipe(ha(),_x(r))}var Ac=class{segmentGroup;constructor(e){this.segmentGroup=e||null}},Rc=class extends Error{urlTree;constructor(e){super(),this.urlTree=e}};function oa(t){return No(new Ac(t))}function zW(t){return No(new z(4e3,!1))}function qW(t){return No(mx(!1,fn.GuardRejected))}var LE=class{urlSerializer;urlTree;constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[ce])return zW(`${e.redirectTo}`);i=i.children[ce]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:l,fragment:u,routeConfig:d,url:h,outlet:m,params:p,data:_,title:I}=i,w=Et(s,()=>a({params:p,data:_,queryParams:l,fragment:u,routeConfig:d,url:h,outlet:m,title:I}));if(w instanceof Hr)throw new Rc(w);n=w}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Rc(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Hr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(e,l,r,i)}),new Re(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new z(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},VE={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function WW(t,e,n,r,i){let s=Ex(t,e,n);return s.matched?(r=pW(e,r),$W(r,e,n,i).pipe(le(o=>o===!0?s:j({},VE)))):ne(s)}function Ex(t,e,n){if(e.path==="**")return GW(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?j({},VE):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Hq)(n,t,e);if(!i)return j({},VE);let s={};Object.entries(i.posParams??{}).forEach(([a,l])=>{s[a]=l.path});let o=i.consumed.length>0?j(j({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function GW(t){return{matched:!0,parameters:t.length>0?XN(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function QN(t,e,n,r){return n.length>0&&YW(t,n,r)?{segmentGroup:new Re(e,QW(r,new Re(n,t.children))),slicedSegments:[]}:n.length===0&&ZW(t,n,r)?{segmentGroup:new Re(t.segments,KW(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Re(t.segments,t.children),slicedSegments:n}}function KW(t,e,n,r){let i={};for(let s of n)if(Ph(t,e,s)&&!r[On(s)]){let o=new Re([],{});i[On(s)]=o}return j(j({},r),i)}function QW(t,e){let n={};n[ce]=e;for(let r of t)if(r.path===""&&On(r)!==ce){let i=new Re([],{});n[On(r)]=i}return n}function YW(t,e,n){return n.some(r=>Ph(t,e,r)&&On(r)!==ce)}function ZW(t,e,n){return n.some(r=>Ph(t,e,r))}function Ph(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function JW(t,e,n){return e.length===0&&!t.children[n]}var jE=class{};function XW(t,e,n,r,i,s,o="emptyOnly"){return new UE(t,e,n,r,i,o,s).recognize()}var eG=31,UE=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new LE(this.urlSerializer,this.urlTree)}noMatchError(e){return new z(4002,`'${e.segmentGroup}'`)}recognize(){let e=QN(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(({children:n,rootSnapshot:r})=>{let i=new dn(r,n),s=new Mh("",i),o=aW(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new ca([],Object.freeze({}),Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,n).pipe(le(r=>({children:r,rootSnapshot:n})),yi(r=>{if(r instanceof Rc)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ac?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(le(o=>o instanceof dn?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ue(s).pipe(vi(o=>{let a=r.children[o],l=gW(n,o);return this.processSegmentGroup(e,l,a,o,i)}),xy((o,a)=>(o.push(...a),o)),_i(null),Ny(),st(o=>{if(o===null)return oa(r);let a=wx(o);return tG(a),ne(a)}))}processSegment(e,n,r,i,s,o,a){return Ue(n).pipe(vi(l=>this.processSegmentAgainstRoute(l._injector??e,n,l,r,i,s,o,a).pipe(yi(u=>{if(u instanceof Ac)return ne(null);throw u}))),Sr(l=>!!l),yi(l=>{if(vx(l))return JW(r,i,s)?ne(new jE):oa(r);throw l}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,l){return On(r)!==o&&(o===ce||!Ph(i,s,r))?oa(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,l):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,l):oa(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:l,parameters:u,consumedSegments:d,positionalParamSegments:h,remainingSegments:m}=Ex(n,i,s);if(!l)return oa(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>eG&&(this.allowRedirects=!1));let p=new ca(s,u,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,YN(i),On(i),i.component??i._loadedComponent??null,i,ZN(i)),_=Rh(p,a,this.paramsInheritanceStrategy);p.params=Object.freeze(_.params),p.data=Object.freeze(_.data);let I=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,p,e);return this.applyRedirects.lineralizeSegments(i,I).pipe(st(w=>this.processSegment(e,r,n,w.concat(m),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=WW(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(ln(l=>l.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(ln(({routes:u})=>{let d=r._loadedInjector??e,{parameters:h,consumedSegments:m,remainingSegments:p}=l,_=new ca(m,h,Object.freeze(j({},this.urlTree.queryParams)),this.urlTree.fragment,YN(r),On(r),r.component??r._loadedComponent??null,r,ZN(r)),I=Rh(_,o,this.paramsInheritanceStrategy);_.params=Object.freeze(I.params),_.data=Object.freeze(I.data);let{segmentGroup:w,slicedSegments:R}=QN(n,m,p,u);if(R.length===0&&w.hasChildren())return this.processChildren(d,u,w,_).pipe(le(O=>new dn(_,O)));if(u.length===0&&R.length===0)return ne(new dn(_,[]));let P=On(r)===s;return this.processSegment(d,u,w,R,P?ce:s,!0,_).pipe(le(O=>new dn(_,O instanceof dn?[O]:[])))}))):oa(n)))}getChildConfig(e,n,r){return n.children?ne({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ne({routes:n._loadedRoutes,injector:n._loadedInjector}):HW(e,n,r,this.urlSerializer).pipe(st(i=>i?this.configLoader.loadChildren(e,n).pipe(ut(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):qW(n))):ne({routes:[],injector:e})}};function tG(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}function nG(t){let e=t.value.routeConfig;return e&&e.path===""}function wx(t){let e=[],n=new Set;for(let r of t){if(!nG(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=wx(r.children);e.push(new dn(r.value,i))}return e.filter(r=>!n.has(r))}function YN(t){return t.data||{}}function ZN(t){return t.resolve||{}}function rG(t,e,n,r,i,s){return st(o=>XW(t,e,n,r,o.extractedUrl,i,s).pipe(le(({state:a,tree:l})=>pe(j({},o),{targetSnapshot:a,urlAfterRedirects:l}))))}function iG(t,e){return st(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ne(n);let s=new Set(i.map(l=>l.route)),o=new Set;for(let l of s)if(!o.has(l))for(let u of Ix(l))o.add(u);let a=0;return Ue(o).pipe(vi(l=>s.has(l)?sG(l,r,t,e):(l.data=Rh(l,l.parent,t).resolve,ne(void 0))),ut(()=>a++),ko(1),st(l=>a===o.size?ne(n):Gt))})}function Ix(t){let e=t.children.map(n=>Ix(n)).flat();return[t,...e]}function sG(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!px(i)&&(s[Mc]=i.title),oG(s,t,e,r).pipe(le(o=>(t._resolvedData=o,t.data=Rh(t,t.parent,n).resolve,null)))}function oG(t,e,n,r){let i=mE(t);if(i.length===0)return ne({});let s={};return Ue(i).pipe(st(o=>aG(t[o],e,n,r).pipe(Sr(),ut(a=>{if(a instanceof Sc)throw Nh(new wc,a);s[o]=a}))),ko(1),le(()=>s),yi(o=>vx(o)?Gt:No(o)))}function aG(t,e,n,r){let i=Nc(e)??r,s=pa(t,i),o=s.resolve?s.resolve(e,n):Et(i,()=>s(e,n));return xi(o)}function pE(t){return ln(e=>{let n=t(e);return n?Ue(n).pipe(le(()=>e)):ne(e)})}var bx=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ce);return r}getResolvedTitleForRoute(n){return n.data[Mc]}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>V(lG),providedIn:"root"})}return t})(),lG=(()=>{class t extends bx{title;constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static \u0275fac=function(r){return new(r||t)(Q(zN))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WE=new $("",{providedIn:"root",factory:()=>({})}),cG=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275cmp=kt({type:t,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(r,i){r&1&&Ve(0,"router-outlet")},dependencies:[zE],encapsulation:2})}return t})();function GE(t){let e=t.children&&t.children.map(GE),n=e?pe(j({},t),{children:e}):j({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=cG),n}var KE=new $(""),uG=(()=>{class t{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=V($_);loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ne(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=xi(n.loadComponent()).pipe(le(Dx),ut(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),as(()=>{this.componentLoaders.delete(n)})),i=new So(r,()=>new Ge).pipe(Co());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=dG(r,this.compiler,n,this.onLoadEndListener).pipe(as(()=>{this.childrenLoaders.delete(r)})),o=new So(s,()=>new Ge).pipe(Co());return this.childrenLoaders.set(r,o),o}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function dG(t,e,n,r){return xi(t.loadChildren()).pipe(le(Dx),st(i=>i instanceof Kl||Array.isArray(i)?ne(i):Ue(e.compileModuleAsync(i))),le(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(KE,[],{optional:!0,self:!0}).flat()),{routes:o.map(GE),injector:s}}))}function fG(t){return t&&typeof t=="object"&&"default"in t}function Dx(t){return fG(t)?t.default:t}var QE=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>V(hG),providedIn:"root"})}return t})(),hG=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),pG=new $("");var gG=new $(""),mG=(()=>{class t{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new Ge;transitionAbortSubject=new Ge;configLoader=V(uG);environmentInjector=V(Mt);destroyRef=V(tc);urlSerializer=V(HE);rootContexts=V(kh);location=V(cc);inputBindingEnabled=V(qE,{optional:!0})!==null;titleStrategy=V(bx);options=V(WE,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=V(QE);createViewTransition=V(pG,{optional:!0});navigationErrorHandler=V(gG,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>ne(void 0);rootComponentType=null;destroyed=!1;constructor(){let n=i=>this.events.next(new TE(i)),r=i=>this.events.next(new CE(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(pe(j(j({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new vt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:_c,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(an(s=>s.id!==0),le(s=>pe(j({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),ln(s=>{let o=!1,a=!1;return ne(s).pipe(ln(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",fn.SupersededByNewNavigation),Gt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?pe(j({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=l.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new Ms(l.id,this.urlSerializer.serialize(l.rawUrl),h,EE.IgnoredSameUrlNavigation)),l.resolve(!1),Gt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ne(l).pipe(ln(h=>{let m=this.transitions?.getValue();return this.events.next(new bc(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),m!==this.transitions?.getValue()?Gt:Promise.resolve(h)}),rG(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ut(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=pe(j({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let m=new Ch(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(m)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:h,extractedUrl:m,source:p,restoredState:_,extras:I}=l,w=new bc(h,this.urlSerializer.serialize(m),p,_);this.events.next(w);let R=fx(this.rootComponentType).snapshot;return this.currentTransition=s=pe(j({},l),{targetSnapshot:R,urlAfterRedirects:m,extras:pe(j({},I),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=m,ne(s)}else{let h="";return this.events.next(new Ms(l.id,this.urlSerializer.serialize(l.extractedUrl),h,EE.IgnoredByUrlHandlingStrategy)),l.resolve(!1),Gt}}),ut(l=>{let u=new wE(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),le(l=>(this.currentTransition=s=pe(j({},l),{guards:bW(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),PW(this.environmentInjector,l=>this.events.next(l)),ut(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Nh(this.urlSerializer,l.guardsResult);let u=new IE(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),an(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",fn.GuardRejected),!1)),pE(l=>{if(l.guards.canActivateChecks.length)return ne(l).pipe(ut(u=>{let d=new bE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),ln(u=>{let d=!1;return ne(u).pipe(iG(this.paramsInheritanceStrategy,this.environmentInjector),ut({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",fn.NoDataFromResolver)}}))}),ut(u=>{let d=new DE(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),pE(l=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(ut(m=>{d.component=m}),le(()=>{})));for(let m of d.children)h.push(...u(m));return h};return Xd(u(l.targetSnapshot.root)).pipe(_i(null),Cr(1))}),pE(()=>this.afterPreactivation()),ln(()=>{let{currentSnapshot:l,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return d?Ue(d).pipe(le(()=>s)):ne(s)}),le(l=>{let u=vW(n.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=pe(j({},l),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),ut(()=>{this.events.next(new Tc)}),IW(this.rootContexts,n.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Cr(1),ut({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ni(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Py(this.transitionAbortSubject.pipe(ut(l=>{throw l}))),as(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",fn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),yi(l=>{if(this.destroyed)return s.resolve(!1),Gt;if(a=!0,yx(l))this.events.next(new Br(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),wW(l)?this.events.next(new fa(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let u=new Dc(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let d=Et(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Sc){let{message:h,cancellationCode:m}=Nh(this.urlSerializer,d);this.events.next(new Br(s.id,this.urlSerializer.serialize(s.extractedUrl),h,m)),this.events.next(new fa(d.redirectTo,d.navigationBehaviorOptions))}else throw this.events.next(u),l}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Gt}))}))}cancelNavigationTransition(n,r,i){let s=new Br(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function yG(t){return t!==_c}var vG=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>V(_G),providedIn:"root"})}return t})(),BE=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},_G=(()=>{class t extends BE{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ec(t)))(i||t)}})();static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Tx=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:()=>V(EG),providedIn:"root"})}return t})(),EG=(()=>{class t extends Tx{location=V(cc);urlSerializer=V(HE);options=V(WE,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=V(QE);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Hr;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=fx(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof bc)this.stateMemento=this.createStateMemento();else if(n instanceof Ms)this.rawUrlTree=r.initialUrl;else if(n instanceof Ch){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Tc?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Br&&(n.code===fn.GuardRejected||n.code===fn.NoDataFromResolver)?this.restoreHistory(r):n instanceof Dc?this.restoreHistory(r,!0):n instanceof Ni&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Hr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=j(j({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=j(j({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static \u0275fac=(()=>{let n;return function(i){return(n||(n=ec(t)))(i||t)}})();static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function wG(t,e){t.events.pipe(an(n=>n instanceof Ni||n instanceof Br||n instanceof Dc||n instanceof Ms),le(n=>n instanceof Ni||n instanceof Ms?0:(n instanceof Br?n.code===fn.Redirect||n.code===fn.SupersededByNewNavigation:!1)?2:1),an(n=>n!==2),Cr(1)).subscribe(()=>{e()})}var IG={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},bG={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},kc=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=V(F_);stateManager=V(Tx);options=V(WE,{optional:!0})||{};pendingTasks=V(Fr);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=V(mG);urlSerializer=V(HE);location=V(cc);urlHandlingStrategy=V(QE);_events=new Ge;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=V(vG);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=V(KE,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!V(qE,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}eventsSubscription=new ze;subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Br&&r.code!==fn.Redirect&&r.code!==fn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof Ni)this.navigated=!0;else if(r instanceof fa){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),l=j({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||yG(i.source)},o);this.scheduleNavigation(a,_c,null,l,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}TG(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),_c,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let l=j({},i);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(GE),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=r,u=l?this.currentUrlTree.fragment:o,d=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":d=j(j({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let m=i?i.snapshot:this.routerState.snapshot.root;h=lx(m)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),h=this.currentUrlTree.root}return cx(h,n,d,u??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Rs(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,_c,null,r)}navigate(n,r={skipLocationChange:!1}){return DG(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=j({},IG):r===!1?i=j({},bG):i=r,Rs(n))return qN(this.currentUrlTree,n,i);let s=this.parseUrl(n);return qN(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u;o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((h,m)=>{a=h,l=m});let d=this.pendingTasks.add();return wG(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function DG(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new z(4008,!1)}function TG(t){return!(t instanceof Tc)&&!(t instanceof fa)}var Cx=(()=>{class t{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ge;constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a;let l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=n.events.subscribe(u=>{u instanceof Ni&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Rs(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:ZR(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:Rs(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(r){return new(r||t)(J(kc),J(Ns),l_("tabindex"),J(Lr),J(xt),J(na))};static \u0275dir=Ht({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Xt("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&rh("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Ds],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Ds],replaceUrl:[2,"replaceUrl","replaceUrl",Ds],routerLink:"routerLink"},features:[P_,Or]})}return t})();var CG=new $("");function Sx(t,...e){return Zt([{provide:KE,multi:!0,useValue:t},[],{provide:Ns,useFactory:SG,deps:[kc]},{provide:nh,multi:!0,useFactory:AG},e.map(n=>n.\u0275providers)])}function SG(t){return t.routerState.root}function AG(){let t=V(Qe);return e=>{let n=t.get(Nr);if(e!==n.components[0])return;let r=t.get(kc),i=t.get(RG);t.get(MG)===1&&r.initialNavigation(),t.get(NG,null,fe.Optional)?.setUpPreloading(),t.get(CG,null,fe.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var RG=new $("",{factory:()=>new Ge}),MG=new $("",{providedIn:"root",factory:()=>1});var NG=new $("");var jh,G,xx,ZE,ga,xs,Ax,kx,Px,Fh={},Ox=[],kG=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function ki(t,e){for(var n in e)t[n]=e[n];return t}function Fx(t){var e=t.parentNode;e&&e.removeChild(t)}function x(t,e,n){var r,i,s,o={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:o[s]=e[s];if(arguments.length>2&&(o.children=arguments.length>3?jh.call(arguments,2):n),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)o[s]===void 0&&(o[s]=t.defaultProps[s]);return Oh(t,o,r,i,null)}function Oh(t,e,n,r,i){var s={type:t,props:e,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:i??++xx};return i==null&&G.vnode!=null&&G.vnode(s),s}function hn(){return{current:null}}function Fe(t){return t.children}function PG(t,e,n,r,i){var s;for(s in n)s==="children"||s==="key"||s in e||Lh(t,s,null,n[s],r);for(s in e)i&&typeof e[s]!="function"||s==="children"||s==="key"||s==="value"||s==="checked"||n[s]===e[s]||Lh(t,s,e[s],n[s],r)}function Rx(t,e,n){e[0]==="-"?t.setProperty(e,n??""):t[e]=n==null?"":typeof n!="number"||kG.test(e)?n:n+"px"}function Lh(t,e,n,r,i){var s;e:if(e==="style")if(typeof n=="string")t.style.cssText=n;else{if(typeof r=="string"&&(t.style.cssText=r=""),r)for(e in r)n&&e in n||Rx(t.style,e,"");if(n)for(e in n)r&&n[e]===r[e]||Rx(t.style,e,n[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in t?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=n,n?r||t.addEventListener(e,s?Nx:Mx,s):t.removeEventListener(e,s?Nx:Mx,s);else if(e!=="dangerouslySetInnerHTML"){if(i)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in t)try{t[e]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&e.indexOf("-")==-1?t.removeAttribute(e):t.setAttribute(e,n))}}function Mx(t){ga=!0;try{return this.l[t.type+!1](G.event?G.event(t):t)}finally{ga=!1}}function Nx(t){ga=!0;try{return this.l[t.type+!0](G.event?G.event(t):t)}finally{ga=!1}}function bt(t,e){this.props=t,this.context=e}function Pc(t,e){if(e==null)return t.__?Pc(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null)return n.__e;return typeof t.type=="function"?Pc(t):null}function Lx(t){var e,n;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((n=t.__k[e])!=null&&n.__e!=null){t.__e=t.__c.base=n.__e;break}return Lx(t)}}function OG(t){ga?setTimeout(t):kx(t)}function YE(t){(!t.__d&&(t.__d=!0)&&xs.push(t)&&!Vh.__r++||Ax!==G.debounceRendering)&&((Ax=G.debounceRendering)||OG)(Vh)}function Vh(){var t,e,n,r,i,s,o,a;for(xs.sort(function(l,u){return l.__v.__b-u.__v.__b});t=xs.shift();)t.__d&&(e=xs.length,r=void 0,i=void 0,o=(s=(n=t).__v).__e,(a=n.__P)&&(r=[],(i=ki({},s)).__v=s.__v+1,JE(a,s,i,n.__n,a.ownerSVGElement!==void 0,s.__h!=null?[o]:null,r,o??Pc(s),s.__h),Hx(r,s),s.__e!=o&&Lx(s)),xs.length>e&&xs.sort(function(l,u){return l.__v.__b-u.__v.__b}));Vh.__r=0}function Vx(t,e,n,r,i,s,o,a,l,u){var d,h,m,p,_,I,w,R=r&&r.__k||Ox,P=R.length;for(n.__k=[],d=0;d<e.length;d++)if((p=n.__k[d]=(p=e[d])==null||typeof p=="boolean"?null:typeof p=="string"||typeof p=="number"||typeof p=="bigint"?Oh(null,p,null,null,p):Array.isArray(p)?Oh(Fe,{children:p},null,null,null):p.__b>0?Oh(p.type,p.props,p.key,p.ref?p.ref:null,p.__v):p)!=null){if(p.__=n,p.__b=n.__b+1,(m=R[d])===null||m&&p.key==m.key&&p.type===m.type)R[d]=void 0;else for(h=0;h<P;h++){if((m=R[h])&&p.key==m.key&&p.type===m.type){R[h]=void 0;break}m=null}JE(t,p,m=m||Fh,i,s,o,a,l,u),_=p.__e,(h=p.ref)&&m.ref!=h&&(w||(w=[]),m.ref&&w.push(m.ref,null,p),w.push(h,p.__c||_,p)),_!=null?(I==null&&(I=_),typeof p.type=="function"&&p.__k===m.__k?p.__d=l=jx(p,l,t):l=Ux(t,p,m,R,_,l),typeof n.type=="function"&&(n.__d=l)):l&&m.__e==l&&l.parentNode!=t&&(l=Pc(m))}for(n.__e=I,d=P;d--;)R[d]!=null&&(typeof n.type=="function"&&R[d].__e!=null&&R[d].__e==n.__d&&(n.__d=Bx(r).nextSibling),zx(R[d],R[d]));if(w)for(d=0;d<w.length;d++)$x(w[d],w[++d],w[++d])}function jx(t,e,n){for(var r,i=t.__k,s=0;i&&s<i.length;s++)(r=i[s])&&(r.__=t,e=typeof r.type=="function"?jx(r,e,n):Ux(n,r,r,i,r.__e,e));return e}function Oc(t,e){return e=e||[],t==null||typeof t=="boolean"||(Array.isArray(t)?t.some(function(n){Oc(n,e)}):e.push(t)),e}function Ux(t,e,n,r,i,s){var o,a,l;if(e.__d!==void 0)o=e.__d,e.__d=void 0;else if(n==null||i!=s||i.parentNode==null)e:if(s==null||s.parentNode!==t)t.appendChild(i),o=null;else{for(a=s,l=0;(a=a.nextSibling)&&l<r.length;l+=1)if(a==i)break e;t.insertBefore(i,s),o=s}return o!==void 0?o:i.nextSibling}function Bx(t){var e,n,r;if(t.type==null||typeof t.type=="string")return t.__e;if(t.__k){for(e=t.__k.length-1;e>=0;e--)if((n=t.__k[e])&&(r=Bx(n)))return r}return null}function JE(t,e,n,r,i,s,o,a,l){var u,d,h,m,p,_,I,w,R,P,O,B,me,W,T,v=e.type;if(e.constructor!==void 0)return null;n.__h!=null&&(l=n.__h,a=e.__e=n.__e,e.__h=null,s=[a]),(u=G.__b)&&u(e);try{e:if(typeof v=="function"){if(w=e.props,R=(u=v.contextType)&&r[u.__c],P=u?R?R.props.value:u.__:r,n.__c?I=(d=e.__c=n.__c).__=d.__E:("prototype"in v&&v.prototype.render?e.__c=d=new v(w,P):(e.__c=d=new bt(w,P),d.constructor=v,d.render=LG),R&&R.sub(d),d.props=w,d.state||(d.state={}),d.context=P,d.__n=r,h=d.__d=!0,d.__h=[],d._sb=[]),d.__s==null&&(d.__s=d.state),v.getDerivedStateFromProps!=null&&(d.__s==d.state&&(d.__s=ki({},d.__s)),ki(d.__s,v.getDerivedStateFromProps(w,d.__s))),m=d.props,p=d.state,d.__v=e,h)v.getDerivedStateFromProps==null&&d.componentWillMount!=null&&d.componentWillMount(),d.componentDidMount!=null&&d.__h.push(d.componentDidMount);else{if(v.getDerivedStateFromProps==null&&w!==m&&d.componentWillReceiveProps!=null&&d.componentWillReceiveProps(w,P),!d.__e&&d.shouldComponentUpdate!=null&&d.shouldComponentUpdate(w,d.__s,P)===!1||e.__v===n.__v){for(e.__v!==n.__v&&(d.props=w,d.state=d.__s,d.__d=!1),e.__e=n.__e,e.__k=n.__k,e.__k.forEach(function(b){b&&(b.__=e)}),O=0;O<d._sb.length;O++)d.__h.push(d._sb[O]);d._sb=[],d.__h.length&&o.push(d);break e}d.componentWillUpdate!=null&&d.componentWillUpdate(w,d.__s,P),d.componentDidUpdate!=null&&d.__h.push(function(){d.componentDidUpdate(m,p,_)})}if(d.context=P,d.props=w,d.__P=t,B=G.__r,me=0,"prototype"in v&&v.prototype.render){for(d.state=d.__s,d.__d=!1,B&&B(e),u=d.render(d.props,d.state,d.context),W=0;W<d._sb.length;W++)d.__h.push(d._sb[W]);d._sb=[]}else do d.__d=!1,B&&B(e),u=d.render(d.props,d.state,d.context),d.state=d.__s;while(d.__d&&++me<25);d.state=d.__s,d.getChildContext!=null&&(r=ki(ki({},r),d.getChildContext())),h||d.getSnapshotBeforeUpdate==null||(_=d.getSnapshotBeforeUpdate(m,p)),T=u!=null&&u.type===Fe&&u.key==null?u.props.children:u,Vx(t,Array.isArray(T)?T:[T],e,n,r,i,s,o,a,l),d.base=e.__e,e.__h=null,d.__h.length&&o.push(d),I&&(d.__E=d.__=null),d.__e=!1}else s==null&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=FG(n.__e,e,n,r,i,s,o,l);(u=G.diffed)&&u(e)}catch(b){e.__v=null,(l||s!=null)&&(e.__e=a,e.__h=!!l,s[s.indexOf(a)]=null),G.__e(b,e,n)}}function Hx(t,e){G.__c&&G.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(r){r.call(n)})}catch(r){G.__e(r,n.__v)}})}function FG(t,e,n,r,i,s,o,a){var l,u,d,h=n.props,m=e.props,p=e.type,_=0;if(p==="svg"&&(i=!0),s!=null){for(;_<s.length;_++)if((l=s[_])&&"setAttribute"in l==!!p&&(p?l.localName===p:l.nodeType===3)){t=l,s[_]=null;break}}if(t==null){if(p===null)return document.createTextNode(m);t=i?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,m.is&&m),s=null,a=!1}if(p===null)h===m||a&&t.data===m||(t.data=m);else{if(s=s&&jh.call(t.childNodes),u=(h=n.props||Fh).dangerouslySetInnerHTML,d=m.dangerouslySetInnerHTML,!a){if(s!=null)for(h={},_=0;_<t.attributes.length;_++)h[t.attributes[_].name]=t.attributes[_].value;(d||u)&&(d&&(u&&d.__html==u.__html||d.__html===t.innerHTML)||(t.innerHTML=d&&d.__html||""))}if(PG(t,m,h,i,a),d)e.__k=[];else if(_=e.props.children,Vx(t,Array.isArray(_)?_:[_],e,n,r,i&&p!=="foreignObject",s,o,s?s[0]:n.__k&&Pc(n,0),a),s!=null)for(_=s.length;_--;)s[_]!=null&&Fx(s[_]);a||("value"in m&&(_=m.value)!==void 0&&(_!==t.value||p==="progress"&&!_||p==="option"&&_!==h.value)&&Lh(t,"value",_,h.value,!1),"checked"in m&&(_=m.checked)!==void 0&&_!==t.checked&&Lh(t,"checked",_,h.checked,!1))}return t}function $x(t,e,n){try{typeof t=="function"?t(e):t.current=e}catch(r){G.__e(r,n)}}function zx(t,e,n){var r,i;if(G.unmount&&G.unmount(t),(r=t.ref)&&(r.current&&r.current!==t.__e||$x(r,null,e)),(r=t.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){G.__e(s,e)}r.base=r.__P=null,t.__c=void 0}if(r=t.__k)for(i=0;i<r.length;i++)r[i]&&zx(r[i],e,n||typeof t.type!="function");n||t.__e==null||Fx(t.__e),t.__=t.__e=t.__d=void 0}function LG(t,e,n){return this.constructor(t,n)}function Pi(t,e,n){var r,i,s;G.__&&G.__(t,e),i=(r=typeof n=="function")?null:n&&n.__k||e.__k,s=[],JE(e,t=(!r&&n||e).__k=x(Fe,null,[t]),i||Fh,Fh,e.ownerSVGElement!==void 0,!r&&n?[n]:i?null:e.firstChild?jh.call(e.childNodes):null,s,!r&&n?n:i?i.__e:e.firstChild,r),Hx(s,t)}function Uh(t,e){var n={__c:e="__cC"+Px++,__:t,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=[],(s={})[e]=this,this.getChildContext=function(){return s},this.shouldComponentUpdate=function(o){this.props.value!==o.value&&i.some(function(a){a.__e=!0,YE(a)})},this.sub=function(o){i.push(o);var a=o.componentWillUnmount;o.componentWillUnmount=function(){i.splice(i.indexOf(o),1),a&&a.call(o)}}),r.children}};return n.Provider.__=n.Consumer.contextType=n}jh=Ox.slice,G={__e:function(t,e,n,r){for(var i,s,o;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),o=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,r||{}),o=i.__d),o)return i.__E=i}catch(a){t=a}throw t}},xx=0,ZE=function(t){return t!=null&&t.constructor===void 0},ga=!1,bt.prototype.setState=function(t,e){var n;n=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=ki({},this.state),typeof t=="function"&&(t=t(ki({},n),this.props)),t&&ki(n,t),t!=null&&this.__v&&(e&&this._sb.push(e),YE(this))},bt.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),YE(this))},bt.prototype.render=Fe,xs=[],kx=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Vh.__r=0,Px=0;var jG,er,XE,qx;var Jx=[],ew=[],Wx=G.__b,Gx=G.__r,Kx=G.diffed,Qx=G.__c,Yx=G.unmount;function UG(){for(var t;t=Jx.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(Bh),t.__H.__h.forEach(tw),t.__H.__h=[]}catch(e){t.__H.__h=[],G.__e(e,t.__v)}}G.__b=function(t){er=null,Wx&&Wx(t)},G.__r=function(t){Gx&&Gx(t),jG=0;var e=(er=t.__c).__H;e&&(XE===er?(e.__h=[],er.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.__V=ew,n.__N=n.i=void 0})):(e.__h.forEach(Bh),e.__h.forEach(tw),e.__h=[])),XE=er},G.diffed=function(t){Kx&&Kx(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Jx.push(e)!==1&&qx===G.requestAnimationFrame||((qx=G.requestAnimationFrame)||BG)(UG)),e.__H.__.forEach(function(n){n.i&&(n.__H=n.i),n.__V!==ew&&(n.__=n.__V),n.i=void 0,n.__V=ew})),XE=er=null},G.__c=function(t,e){e.some(function(n){try{n.__h.forEach(Bh),n.__h=n.__h.filter(function(r){return!r.__||tw(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],G.__e(r,n.__v)}}),Qx&&Qx(t,e)},G.unmount=function(t){Yx&&Yx(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Bh(r)}catch(i){e=i}}),n.__H=void 0,e&&G.__e(e,n.__v))};var Zx=typeof requestAnimationFrame=="function";function BG(t){var e,n=function(){clearTimeout(r),Zx&&cancelAnimationFrame(e),setTimeout(t)},r=setTimeout(n,100);Zx&&(e=requestAnimationFrame(n))}function Bh(t){var e=er,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),er=e}function tw(t){var e=er;t.__c=t.__(),er=e}function HG(t,e){for(var n in e)t[n]=e[n];return t}function Xx(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var r in e)if(r!=="__source"&&t[r]!==e[r])return!0;return!1}function ek(t){this.props=t}(ek.prototype=new bt).isPureReactComponent=!0,ek.prototype.shouldComponentUpdate=function(t,e){return Xx(this.props,t)||Xx(this.state,e)};var tk=G.__b;G.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),tk&&tk(t)};var Cle=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;var $G=G.__e;G.__e=function(t,e,n,r){if(t.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e)}$G(t,e,n,r)};var nk=G.unmount;function lk(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),t.__c.__H=null),(t=HG({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(r){return lk(r,e,n)})),t}function ck(t,e,n){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(r){return ck(r,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=n)),t}function nw(){this.__u=0,this.t=null,this.__b=null}function uk(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function Hh(){this.u=null,this.o=null}G.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&t.__h===!0&&(t.type=null),nk&&nk(t)},(nw.prototype=new bt).__c=function(t,e){var n=e.__c,r=this;r.t==null&&(r.t=[]),r.t.push(n);var i=uk(r.__v),s=!1,o=function(){s||(s=!0,n.__R=null,i?i(a):a())};n.__R=o;var a=function(){if(!--r.__u){if(r.state.__a){var u=r.state.__a;r.__v.__k[0]=ck(u,u.__c.__P,u.__c.__O)}var d;for(r.setState({__a:r.__b=null});d=r.t.pop();)d.forceUpdate()}},l=e.__h===!0;r.__u++||l||r.setState({__a:r.__b=r.__v.__k[0]}),t.then(o,o)},nw.prototype.componentWillUnmount=function(){this.t=[]},nw.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=lk(this.__b,n,r.__O=r.__P)}this.__b=null}var i=e.__a&&x(Fe,null,t.fallback);return i&&(i.__h=null),[x(Fe,null,e.__a?null:t.children),i]};var rk=function(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(n=t.u;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}};function zG(t){return this.getChildContext=function(){return t.context},t.children}function qG(t){var e=this,n=t.i;e.componentWillUnmount=function(){Pi(null,e.l),e.l=null,e.i=null},e.i&&e.i!==n&&e.componentWillUnmount(),t.__v?(e.l||(e.i=n,e.l={nodeType:1,parentNode:n,childNodes:[],appendChild:function(r){this.childNodes.push(r),e.i.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.i.appendChild(r)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.i.removeChild(r)}}),Pi(x(zG,{context:e.context},t.__v),e.l)):e.l&&e.componentWillUnmount()}function dk(t,e){var n=x(qG,{__v:t,i:e});return n.containerInfo=e,n}(Hh.prototype=new bt).__a=function(t){var e=this,n=uk(e.__v),r=e.o.get(t);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),rk(e,t,r)):i()};n?n(s):s()}},Hh.prototype.render=function(t){this.u=null,this.o=new Map;var e=Oc(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},Hh.prototype.componentDidUpdate=Hh.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,n){rk(t,n,e)})};var WG=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,GG=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,KG=typeof document<"u",QG=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(t)};bt.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(bt.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var ik=G.event;function YG(){}function ZG(){return this.cancelBubble}function JG(){return this.defaultPrevented}G.event=function(t){return ik&&(t=ik(t)),t.persist=YG,t.isPropagationStopped=ZG,t.isDefaultPrevented=JG,t.nativeEvent=t};var XG,sk={configurable:!0,get:function(){return this.class}},ok=G.vnode;G.vnode=function(t){var e=t.type,n=t.props,r=n;if(typeof e=="string"){var i=e.indexOf("-")===-1;for(var s in r={},n){var o=n[s];KG&&s==="children"&&e==="noscript"||s==="value"&&"defaultValue"in n&&o==null||(s==="defaultValue"&&"value"in n&&n.value==null?s="value":s==="download"&&o===!0?o="":/ondoubleclick/i.test(s)?s="ondblclick":/^onchange(textarea|input)/i.test(s+e)&&!QG(n.type)?s="oninput":/^onfocus$/i.test(s)?s="onfocusin":/^onblur$/i.test(s)?s="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(s)?s=s.toLowerCase():i&&GG.test(s)?s=s.replace(/[A-Z0-9]/g,"-$&").toLowerCase():o===null&&(o=void 0),/^oninput$/i.test(s)&&(s=s.toLowerCase(),r[s]&&(s="oninputCapture")),r[s]=o)}e=="select"&&r.multiple&&Array.isArray(r.value)&&(r.value=Oc(n.children).forEach(function(a){a.props.selected=r.value.indexOf(a.props.value)!=-1})),e=="select"&&r.defaultValue!=null&&(r.value=Oc(n.children).forEach(function(a){a.props.selected=r.multiple?r.defaultValue.indexOf(a.props.value)!=-1:r.defaultValue==a.props.value})),t.props=r,n.class!=n.className&&(sk.enumerable="className"in n,n.className!=null&&(r.class=n.className),Object.defineProperty(r,"className",sk))}t.$$typeof=WG,ok&&ok(t)};var ak=G.__r;G.__r=function(t){ak&&ak(t),XG=t.__c};var Ck=[],dw=new Map;function up(t){Ck.push(t),dw.forEach(e=>{Rk(e,t)})}function Sk(t){t.isConnected&&t.getRootNode&&Ak(t.getRootNode())}function Ak(t){let e=dw.get(t);if(!e||!e.isConnected){if(e=t.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");let n=t4();n&&(e.nonce=n);let r=t===document?document.head:t,i=t===document?r.querySelector("script,link[rel=stylesheet],link[as=style],style"):r.firstChild;r.insertBefore(e,i)}dw.set(t,e),e4(e)}}function e4(t){for(let e of Ck)Rk(t,e)}function Rk(t,e){let{sheet:n}=t,r=n.cssRules.length;e.split("}").forEach((i,s)=>{i=i.trim(),i&&n.insertRule(i+"}",r+s)})}var rw;function t4(){return rw===void 0&&(rw=n4()),rw}function n4(){let t=document.querySelector('meta[name="csp-nonce"]');if(t&&t.hasAttribute("content"))return t.getAttribute("content");let e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&Ak(document);var r4=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';up(r4);var Ps=class{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:n}=this;n[e]=(n[e]||0)+1,this.clearTimeout()}resume(e="",n){let{pauseDepths:r}=this;e in r&&(n?delete r[e]:(r[e]-=1,r[e]<=0&&delete r[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}};function ru(t){t.parentNode&&t.parentNode.removeChild(t)}function ot(t,e){if(t.closest)return t.closest(e);if(!document.documentElement.contains(t))return null;do{if(Tw(t,e))return t;t=t.parentElement||t.parentNode}while(t!==null&&t.nodeType===1);return null}function Tw(t,e){return(t.matches||t.matchesSelector||t.msMatchesSelector).call(t,e)}function Mk(t,e){let n=t instanceof HTMLElement?[t]:t,r=[];for(let i=0;i<n.length;i+=1){let s=n[i].querySelectorAll(e);for(let o=0;o<s.length;o+=1)r.push(s[o])}return r}var i4=/(top|left|right|bottom|width|height)$/i;function Us(t,e){for(let n in e)Cw(t,n,e[n])}function Cw(t,e,n){n==null?t.style[e]="":typeof n=="number"&&i4.test(e)?t.style[e]=`${n}px`:t.style[e]=n}function dp(t){var e,n;return(n=(e=t.composedPath)===null||e===void 0?void 0:e.call(t)[0])!==null&&n!==void 0?n:t.target}var fk=0;function Bs(){return fk+=1,"fc-dom-"+fk}function iu(t){t.preventDefault()}function s4(t,e){return n=>{let r=ot(n.target,t);r&&e.call(r,n,r)}}function Sw(t,e,n,r){let i=s4(n,r);return t.addEventListener(e,i),()=>{t.removeEventListener(e,i)}}function Nk(t,e,n,r){let i;return Sw(t,"mouseover",e,(s,o)=>{if(o!==i){i=o,n(s,o);let a=l=>{i=null,r(l,o),o.removeEventListener("mouseleave",a)};o.addEventListener("mouseleave",a)}})}var hk=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Aw(t,e){let n=r=>{e(r),hk.forEach(i=>{t.removeEventListener(i,n)})};hk.forEach(r=>{t.addEventListener(r,n)})}function xk(t){return Object.assign({onClick:t},kk(t))}function kk(t){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(t(e),e.preventDefault())}}}var pk=0;function Gr(){return pk+=1,String(pk)}function su(){document.body.classList.add("fc-not-allowed")}function ou(){document.body.classList.remove("fc-not-allowed")}function Rw(t){t.style.userSelect="none",t.style.webkitUserSelect="none",t.addEventListener("selectstart",iu)}function Mw(t){t.style.userSelect="",t.style.webkitUserSelect="",t.removeEventListener("selectstart",iu)}function Nw(t){t.addEventListener("contextmenu",iu)}function xw(t){t.removeEventListener("contextmenu",iu)}function Pk(t){let e=[],n=[],r,i;for(typeof t=="string"?n=t.split(/\s*,\s*/):typeof t=="function"?n=[t]:Array.isArray(t)&&(n=t),r=0;r<n.length;r+=1)i=n[r],typeof i=="string"?e.push(i.charAt(0)==="-"?{field:i.substring(1),order:-1}:{field:i,order:1}):typeof i=="function"&&e.push({func:i});return e}function Ok(t,e,n){let r,i;for(r=0;r<n.length;r+=1)if(i=o4(t,e,n[r]),i)return i;return 0}function o4(t,e,n){return n.func?n.func(t,e):Fk(t[n.field],e[n.field])*(n.order||1)}function Fk(t,e){return!t&&!e?0:e==null?-1:t==null?1:typeof t=="string"||typeof e=="string"?String(t).localeCompare(String(e)):t-e}function Kh(t,e){let n=String(t);return"000".substr(0,e-n.length)+n}function Ia(t,e,n){return typeof t=="function"?t(...e):typeof t=="string"?e.reduce((r,i,s)=>r.replace("$"+s,i||""),t):n}function kw(t,e){return t-e}function Qh(t){return t%1===0}function a4(t){let e=t.querySelector(".fc-scrollgrid-shrink-frame"),n=t.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!n)throw new Error("needs fc-scrollgrid-shrink-cushion className");return t.getBoundingClientRect().width-e.getBoundingClientRect().width+n.getBoundingClientRect().width}var l4=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function De(t,e){return typeof t=="string"?c4(t):typeof t=="object"&&t?gk(t):typeof t=="number"?gk({[e||"milliseconds"]:t}):null}function c4(t){let e=l4.exec(t);if(e){let n=e[1]?-1:1;return{years:0,months:0,days:n*(e[2]?parseInt(e[2],10):0),milliseconds:n*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function gk(t){let e={years:t.years||t.year||0,months:t.months||t.month||0,days:t.days||t.day||0,milliseconds:(t.hours||t.hour||0)*60*60*1e3+(t.minutes||t.minute||0)*60*1e3+(t.seconds||t.second||0)*1e3+(t.milliseconds||t.millisecond||t.ms||0)},n=t.weeks||t.week;return n&&(e.days+=n*7,e.specifiedWeeks=!0),e}function u4(t,e){return t.years===e.years&&t.months===e.months&&t.days===e.days&&t.milliseconds===e.milliseconds}function Lk(t,e){return{years:t.years-e.years,months:t.months-e.months,days:t.days-e.days,milliseconds:t.milliseconds-e.milliseconds}}function d4(t){return ma(t)/365}function f4(t){return ma(t)/30}function ma(t){return ya(t)/864e5}function ya(t){return t.years*(365*864e5)+t.months*(30*864e5)+t.days*864e5+t.milliseconds}function Fc(t){let e=t.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return t.days?t.specifiedWeeks&&t.days%7===0?{unit:"week",value:t.days/7}:{unit:"day",value:t.days}:t.months?{unit:"month",value:t.months}:t.years?{unit:"year",value:t.years}:{unit:"millisecond",value:0}}function rr(t,e,n){if(t===e)return!0;let r=t.length,i;if(r!==e.length)return!1;for(i=0;i<r;i+=1)if(!(n?n(t[i],e[i]):t[i]===e[i]))return!1;return!0}var h4=["sun","mon","tue","wed","thu","fri","sat"];function fp(t,e){let n=Fi(t);return n[2]+=e*7,nn(n)}function at(t,e){let n=Fi(t);return n[2]+=e,nn(n)}function nr(t,e){let n=Fi(t);return n[6]+=e,nn(n)}function Pw(t,e){return Hs(t,e)/7}function Hs(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60*24)}function p4(t,e){return(e.valueOf()-t.valueOf())/(1e3*60*60)}function g4(t,e){return(e.valueOf()-t.valueOf())/(1e3*60)}function m4(t,e){return(e.valueOf()-t.valueOf())/1e3}function Vk(t,e){let n=Pe(t),r=Pe(e);return{years:0,months:0,days:Math.round(Hs(n,r)),milliseconds:e.valueOf()-r.valueOf()-(t.valueOf()-n.valueOf())}}function jk(t,e){let n=va(t,e);return n!==null&&n%7===0?n/7:null}function va(t,e){return Li(t)===Li(e)?Math.round(Hs(t,e)):null}function Pe(t){return nn([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()])}function y4(t){return nn([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours()])}function v4(t){return nn([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes()])}function _4(t){return nn([t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds()])}function E4(t,e,n){let r=t.getUTCFullYear(),i=iw(t,r,e,n);if(i<1)return iw(t,r-1,e,n);let s=iw(t,r+1,e,n);return s>=1?Math.min(i,s):i}function iw(t,e,n,r){let i=nn([e,0,1+w4(e,n,r)]),s=Pe(t),o=Math.round(Hs(i,s));return Math.floor(o/7)+1}function w4(t,e,n){let r=7+e-n;return-((7+nn([t,0,r]).getUTCDay()-e)%7)+r-1}function mk(t){return[t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()]}function yk(t){return new Date(t[0],t[1]||0,t[2]==null?1:t[2],t[3]||0,t[4]||0,t[5]||0)}function Fi(t){return[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate(),t.getUTCHours(),t.getUTCMinutes(),t.getUTCSeconds(),t.getUTCMilliseconds()]}function nn(t){return t.length===1&&(t=t.concat([0])),new Date(Date.UTC(...t))}function Ow(t){return!isNaN(t.valueOf())}function Li(t){return t.getUTCHours()*1e3*60*60+t.getUTCMinutes()*1e3*60+t.getUTCSeconds()*1e3+t.getUTCMilliseconds()}function Uk(t,e,n=!1){let r=t.toISOString();return r=r.replace(".000",""),n&&(r=r.replace("T00:00:00Z","")),r.length>10&&(e==null?r=r.replace("Z",""):e!==0&&(r=r.replace("Z",Lw(e,!0)))),r}function au(t){return t.toISOString().replace(/T.*$/,"")}function Fw(t){return t.toISOString().match(/^\d{4}-\d{2}/)[0]}function Lw(t,e=!1){let n=t<0?"-":"+",r=Math.abs(t),i=Math.floor(r/60),s=Math.round(r%60);return e?`${n+Kh(i,2)}:${Kh(s,2)}`:`GMT${n}${i}${s?`:${Kh(s,2)}`:""}`}function Te(t,e,n){let r,i;return function(...s){if(!r)i=t.apply(this,s);else if(!rr(r,s)){n&&n(i);let o=t.apply(this,s);(!e||!e(o,i))&&(i=o)}return r=s,i}}function ba(t,e,n){let r,i;return s=>{if(!r)i=t.call(this,s);else if(!pn(r,s)){n&&n(i);let o=t.call(this,s);(!e||!e(o,i))&&(i=o)}return r=s,i}}var vk={week:3,separator:0,omitZeroMinute:0,meridiem:0,omitCommas:0},Jh={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},$h=/\s*([ap])\.?m\.?/i,I4=/,/g,b4=/\s+/g,D4=/\u200e/g,T4=/UTC|GMT/,fw=class{constructor(e){let n={},r={},i=0;for(let s in e)s in vk?(r[s]=e[s],i=Math.max(vk[s],i)):(n[s]=e[s],s in Jh&&(i=Math.max(Jh[s],i)));this.standardDateProps=n,this.extendedSettings=r,this.severity=i,this.buildFormattingFunc=Te(_k)}format(e,n){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,n)(e)}formatRange(e,n,r,i){let{standardDateProps:s,extendedSettings:o}=this,a=N4(e.marker,n.marker,r.calendarSystem);if(!a)return this.format(e,r);let l=a;l>1&&(s.year==="numeric"||s.year==="2-digit")&&(s.month==="numeric"||s.month==="2-digit")&&(s.day==="numeric"||s.day==="2-digit")&&(l=1);let u=this.format(e,r),d=this.format(n,r);if(u===d)return u;let h=x4(s,l),m=_k(h,o,r),p=m(e),_=m(n),I=k4(u,p,d,_),w=o.separator||i||r.defaultSeparator||"";return I?I.before+p+w+_+I.after:u+w+d}getLargestUnit(){switch(this.severity){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}};function _k(t,e,n){let r=Object.keys(t).length;return r===1&&t.timeZoneName==="short"?i=>Lw(i.timeZoneOffset):r===0&&e.week?i=>M4(n.computeWeekNumber(i.marker),n.weekText,n.weekTextLong,n.locale,e.week):C4(t,e,n)}function C4(t,e,n){t=Object.assign({},t),e=Object.assign({},e),S4(t,e),t.timeZone="UTC";let r=new Intl.DateTimeFormat(n.locale.codes,t),i;if(e.omitZeroMinute){let s=Object.assign({},t);delete s.minute,i=new Intl.DateTimeFormat(n.locale.codes,s)}return s=>{let{marker:o}=s,a;i&&!o.getUTCMinutes()?a=i:a=r;let l=a.format(o);return A4(l,s,t,e,n)}}function S4(t,e){t.timeZoneName&&(t.hour||(t.hour="2-digit"),t.minute||(t.minute="2-digit")),t.timeZoneName==="long"&&(t.timeZoneName="short"),e.omitZeroMinute&&(t.second||t.millisecond)&&delete e.omitZeroMinute}function A4(t,e,n,r,i){return t=t.replace(D4,""),n.timeZoneName==="short"&&(t=R4(t,i.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":Lw(e.timeZoneOffset))),r.omitCommas&&(t=t.replace(I4,"").trim()),r.omitZeroMinute&&(t=t.replace(":00","")),r.meridiem===!1?t=t.replace($h,"").trim():r.meridiem==="narrow"?t=t.replace($h,(s,o)=>o.toLocaleLowerCase()):r.meridiem==="short"?t=t.replace($h,(s,o)=>`${o.toLocaleLowerCase()}m`):r.meridiem==="lowercase"&&(t=t.replace($h,s=>s.toLocaleLowerCase())),t=t.replace(b4," "),t=t.trim(),t}function R4(t,e){let n=!1;return t=t.replace(T4,()=>(n=!0,e)),n||(t+=` ${e}`),t}function M4(t,e,n,r,i){let s=[];return i==="long"?s.push(n):(i==="short"||i==="narrow")&&s.push(e),(i==="long"||i==="short")&&s.push(" "),s.push(r.simpleNumberFormat.format(t)),r.options.direction==="rtl"&&s.reverse(),s.join("")}function N4(t,e,n){return n.getMarkerYear(t)!==n.getMarkerYear(e)?5:n.getMarkerMonth(t)!==n.getMarkerMonth(e)?4:n.getMarkerDay(t)!==n.getMarkerDay(e)?2:Li(t)!==Li(e)?1:0}function x4(t,e){let n={};for(let r in t)(!(r in Jh)||Jh[r]<=e)&&(n[r]=t[r]);return n}function k4(t,e,n,r){let i=0;for(;i<t.length;){let s=t.indexOf(e,i);if(s===-1)break;let o=t.substr(0,s);i=s+e.length;let a=t.substr(i),l=0;for(;l<n.length;){let u=n.indexOf(r,l);if(u===-1)break;let d=n.substr(0,u);l=u+r.length;let h=n.substr(l);if(o===d&&a===h)return{before:o,after:a}}}return null}function Ek(t,e){let n=e.markerToArray(t.marker);return{marker:t.marker,timeZoneOffset:t.timeZoneOffset,array:n,year:n[0],month:n[1],day:n[2],hour:n[3],minute:n[4],second:n[5],millisecond:n[6]}}function Xh(t,e,n,r){let i=Ek(t,n.calendarSystem),s=e?Ek(e,n.calendarSystem):null;return{date:i,start:i,end:s,timeZone:n.timeZone,localeCodes:n.locale.codes,defaultSeparator:r||n.defaultSeparator}}var hw=class{constructor(e){this.cmdStr=e}format(e,n,r){return n.cmdFormatter(this.cmdStr,Xh(e,null,n,r))}formatRange(e,n,r,i){return r.cmdFormatter(this.cmdStr,Xh(e,n,r,i))}},pw=class{constructor(e){this.func=e}format(e,n,r){return this.func(Xh(e,null,n,r))}formatRange(e,n,r,i){return this.func(Xh(e,n,r,i))}};function Ye(t){return typeof t=="object"&&t?new fw(t):typeof t=="string"?new hw(t):typeof t=="function"?new pw(t):null}var Vw={navLinkDayClick:N,navLinkWeekClick:N,duration:De,bootstrapFontAwesome:N,buttonIcons:N,customButtons:N,defaultAllDayEventDuration:De,defaultTimedEventDuration:De,nextDayThreshold:De,scrollTime:De,scrollTimeReset:Boolean,slotMinTime:De,slotMaxTime:De,dayPopoverFormat:Ye,slotDuration:De,snapDuration:De,headerToolbar:N,footerToolbar:N,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Ye,dayHeaderClassNames:N,dayHeaderContent:N,dayHeaderDidMount:N,dayHeaderWillUnmount:N,dayCellClassNames:N,dayCellContent:N,dayCellDidMount:N,dayCellWillUnmount:N,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:N,weekNumbers:Boolean,weekNumberClassNames:N,weekNumberContent:N,weekNumberDidMount:N,weekNumberWillUnmount:N,editable:Boolean,viewClassNames:N,viewDidMount:N,viewWillUnmount:N,nowIndicator:Boolean,nowIndicatorClassNames:N,nowIndicatorContent:N,nowIndicatorDidMount:N,nowIndicatorWillUnmount:N,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:N,locale:N,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:N,eventOrder:Pk,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:N,contentHeight:N,direction:String,weekNumberFormat:Ye,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:N,initialDate:N,now:N,eventDataTransform:N,stickyHeaderDates:N,stickyFooterScrollbar:N,viewHeight:N,defaultAllDay:Boolean,eventSourceFailure:N,eventSourceSuccess:N,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:N,eventConstraint:N,eventAllow:N,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:N,eventContent:N,eventDidMount:N,eventWillUnmount:N,selectConstraint:N,selectOverlap:N,selectAllow:N,droppable:Boolean,unselectCancel:String,slotLabelFormat:N,slotLaneClassNames:N,slotLaneContent:N,slotLaneDidMount:N,slotLaneWillUnmount:N,slotLabelClassNames:N,slotLabelContent:N,slotLabelDidMount:N,slotLabelWillUnmount:N,dayMaxEvents:N,dayMaxEventRows:N,dayMinWidth:Number,slotLabelInterval:De,allDayText:String,allDayClassNames:N,allDayContent:N,allDayDidMount:N,allDayWillUnmount:N,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Ye,rerenderDelay:Number,moreLinkText:N,moreLinkHint:N,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:N,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:De,hiddenDays:N,fixedWeekCount:Boolean,validRange:N,visibleRange:N,titleFormat:N,eventInteractive:Boolean,noEventsText:String,viewHint:N,navLinkHint:N,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:N,moreLinkClassNames:N,moreLinkContent:N,moreLinkDidMount:N,moreLinkWillUnmount:N,monthStartFormat:Ye,handleCustomRendering:N,customRenderingMetaMap:N,customRenderingReplaces:Boolean},Ui={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:" \u2013 ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},jw={datesSet:N,eventsSet:N,eventAdd:N,eventChange:N,eventRemove:N,windowResize:N,eventClick:N,eventMouseEnter:N,eventMouseLeave:N,select:N,unselect:N,loading:N,_unmount:N,_beforeprint:N,_afterprint:N,_noEventDrop:N,_noEventResize:N,_resize:N,_scrollRequest:N},Uw={buttonText:N,buttonHints:N,views:N,plugins:N,initialEvents:N,events:N,eventSources:N},Bi={headerToolbar:ks,footerToolbar:ks,buttonText:ks,buttonHints:ks,buttonIcons:ks,dateIncrement:ks,plugins:zh,events:zh,eventSources:zh,resources:zh};function ks(t,e){return typeof t=="object"&&typeof e=="object"&&t&&e?pn(t,e):t===e}function zh(t,e){return Array.isArray(t)&&Array.isArray(e)?rr(t,e):t===e}var Bk={type:String,component:N,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:N,usesMinMaxTime:Boolean,classNames:N,content:N,didMount:N,willUnmount:N};function hp(t){return gp(t,Bi)}function pp(t,e){let n={},r={};for(let i in e)i in t&&(n[i]=e[i](t[i]));for(let i in t)i in e||(r[i]=t[i]);return{refined:n,extra:r}}function N(t){return t}var{hasOwnProperty:ep}=Object.prototype;function gp(t,e){let n={};if(e){for(let r in e)if(e[r]===ks){let i=[];for(let s=t.length-1;s>=0;s-=1){let o=t[s][r];if(typeof o=="object"&&o)i.unshift(o);else if(o!==void 0){n[r]=o;break}}i.length&&(n[r]=gp(i))}}for(let r=t.length-1;r>=0;r-=1){let i=t[r];for(let s in i)s in n||(n[s]=i[s])}return n}function $r(t,e){let n={};for(let r in t)e(t[r],r)&&(n[r]=t[r]);return n}function ir(t,e){let n={};for(let r in t)n[r]=e(t[r],r);return n}function Bw(t){let e={};for(let n of t)e[n]=!0;return e}function mp(t){let e=[];for(let n in t)e.push(t[n]);return e}function pn(t,e){if(t===e)return!0;for(let n in t)if(ep.call(t,n)&&!(n in e))return!1;for(let n in e)if(ep.call(e,n)&&t[n]!==e[n])return!1;return!0}var P4=/^on[A-Z]/;function O4(t,e){let n=gw(t,e);for(let r of n)if(!P4.test(r))return!1;return!0}function gw(t,e){let n=[];for(let r in t)ep.call(t,r)&&(r in e||n.push(r));for(let r in e)ep.call(e,r)&&t[r]!==e[r]&&n.push(r);return n}function Yh(t,e,n={}){if(t===e)return!0;for(let r in e)if(!(r in t&&F4(t[r],e[r],n[r])))return!1;for(let r in t)if(!(r in e))return!1;return!0}function F4(t,e,n){return t===e||n===!0?!0:n?n(t,e):!1}function Hk(t,e=0,n,r=1){let i=[];n==null&&(n=Object.keys(t).length);for(let s=e;s<n;s+=r){let o=t[s];o!==void 0&&i.push(o)}return i}var $k={};function L4(t,e){$k[t]=e}function V4(t){return new $k[t]}var mw=class{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return nn(e)}markerToArray(e){return Fi(e)}};L4("gregory",mw);var j4=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function zk(t){let e=j4.exec(t);if(e){let n=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(Ow(n)){let r=null;return e[13]&&(r=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:n,isTimeUnspecified:!e[6],timeZoneOffset:r}}}return null}var Lc=class{constructor(e){let n=this.timeZone=e.timeZone,r=n!=="local"&&n!=="UTC";e.namedTimeZoneImpl&&r&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(n)),this.canComputeOffset=!!(!r||this.namedTimeZoneImpl),this.calendarSystem=V4(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let n=this.createMarkerMeta(e);return n===null?null:n.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):nn(mk(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let n=null;return typeof e=="number"?n=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(n=this.timestampToMarker(e))):Array.isArray(e)&&(n=nn(e)),n===null||!Ow(n)?null:{marker:n,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let n=zk(e);if(n===null)return null;let{marker:r}=n,i=null;return n.timeZoneOffset!==null&&(this.canComputeOffset?r=this.timestampToMarker(r.valueOf()-n.timeZoneOffset*60*1e3):i=n.timeZoneOffset),{marker:r,isTimeUnspecified:n.isTimeUnspecified,forcedTzo:i}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n.years,r[1]+=n.months,r[2]+=n.days,r[6]+=n.milliseconds,this.calendarSystem.arrayToMarker(r)}subtract(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]-=n.years,r[1]-=n.months,r[2]-=n.days,r[6]-=n.milliseconds,this.calendarSystem.arrayToMarker(r)}addYears(e,n){let r=this.calendarSystem.markerToArray(e);return r[0]+=n,this.calendarSystem.arrayToMarker(r)}addMonths(e,n){let r=this.calendarSystem.markerToArray(e);return r[1]+=n,this.calendarSystem.arrayToMarker(r)}diffWholeYears(e,n){let{calendarSystem:r}=this;return Li(e)===Li(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)&&r.getMarkerMonth(e)===r.getMarkerMonth(n)?r.getMarkerYear(n)-r.getMarkerYear(e):null}diffWholeMonths(e,n){let{calendarSystem:r}=this;return Li(e)===Li(n)&&r.getMarkerDay(e)===r.getMarkerDay(n)?r.getMarkerMonth(n)-r.getMarkerMonth(e)+(r.getMarkerYear(n)-r.getMarkerYear(e))*12:null}greatestWholeUnit(e,n){let r=this.diffWholeYears(e,n);return r!==null?{unit:"year",value:r}:(r=this.diffWholeMonths(e,n),r!==null?{unit:"month",value:r}:(r=jk(e,n),r!==null?{unit:"week",value:r}:(r=va(e,n),r!==null?{unit:"day",value:r}:(r=p4(e,n),Qh(r)?{unit:"hour",value:r}:(r=g4(e,n),Qh(r)?{unit:"minute",value:r}:(r=m4(e,n),Qh(r)?{unit:"second",value:r}:{unit:"millisecond",value:n.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,n,r){let i;return r.years&&(i=this.diffWholeYears(e,n),i!==null)?i/d4(r):r.months&&(i=this.diffWholeMonths(e,n),i!==null)?i/f4(r):r.days&&(i=va(e,n),i!==null)?i/ma(r):(n.valueOf()-e.valueOf())/ya(r)}startOf(e,n){return n==="year"?this.startOfYear(e):n==="month"?this.startOfMonth(e):n==="week"?this.startOfWeek(e):n==="day"?Pe(e):n==="hour"?y4(e):n==="minute"?v4(e):n==="second"?_4(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):E4(e,this.weekDow,this.weekDoy)}format(e,n,r={}){return n.format({marker:e,timeZoneOffset:r.forcedTzo!=null?r.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,n,r,i={}){return i.isEndExclusive&&(n=nr(n,-1)),r.formatRange({marker:e,timeZoneOffset:i.forcedStartTzo!=null?i.forcedStartTzo:this.offsetForMarker(e)},{marker:n,timeZoneOffset:i.forcedEndTzo!=null?i.forcedEndTzo:this.offsetForMarker(n)},this,i.defaultSeparator)}formatIso(e,n={}){let r=null;return n.omitTimeZoneOffset||(n.forcedTzo!=null?r=n.forcedTzo:r=this.offsetForMarker(e)),Uk(e,r,n.omitTime)}timestampToMarker(e){return this.timeZone==="local"?nn(mk(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):nn(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-yk(Fi(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Fi(e)):null}toDate(e,n){return this.timeZone==="local"?yk(Fi(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Fi(e))*1e3*60):new Date(e.valueOf()-(n||0))}},zr=class{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let n,r;if(typeof e=="object"&&e){n=Object.assign({},this.iconClasses);for(r in e)n[r]=this.applyIconOverridePrefix(e[r]);this.iconClasses=n}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let n=this.iconOverridePrefix;return n&&e.indexOf(n)!==0&&(e=n+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,n){let r;return n&&this.rtlIconClasses?r=this.rtlIconClasses[e]||this.iconClasses[e]:r=this.iconClasses[e],r?`${this.baseIconClass} ${r}`:""}getCustomButtonIconClass(e){let n;return this.iconOverrideCustomButtonOption&&(n=e[this.iconOverrideCustomButtonOption],n)?`${this.baseIconClass} ${this.applyIconOverridePrefix(n)}`:""}};zr.prototype.classes={};zr.prototype.iconClasses={};zr.prototype.baseIconClass="";zr.prototype.iconOverridePrefix="";function Vc(t){t();let e=G.debounceRendering,n=[];function r(i){n.push(i)}for(G.debounceRendering=r,Pi(x(yw,{}),document.createElement("div"));n.length;)n.shift()();G.debounceRendering=e}var yw=class extends bt{render(){return x("div",{})}componentDidMount(){this.setState({})}};function qk(t){let e=Uh(t),n=e.Provider;return e.Provider=function(){let r=!this.getChildContext,i=n.apply(this,arguments);if(r){let s=[];this.shouldComponentUpdate=o=>{this.props.value!==o.value&&s.forEach(a=>{a.context=o.value,a.forceUpdate()})},this.sub=o=>{s.push(o);let a=o.componentWillUnmount;o.componentWillUnmount=()=>{s.splice(s.indexOf(o),1),a&&a.call(o)}}}return i},e}var tp=class{constructor(e,n,r,i){this.execFunc=e,this.emitter=n,this.scrollTime=r,this.scrollTimeReset=i,this.handleScrollRequest=s=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},s),this.drain()},n.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}},Kr=qk({});function Wk(t,e,n,r,i,s,o,a,l,u,d,h,m){return{dateEnv:i,options:n,pluginHooks:o,emitter:u,dispatch:a,getCurrentData:l,calendarApi:d,viewSpec:t,viewApi:e,dateProfileGenerator:r,theme:s,isRtl:n.direction==="rtl",addResizeHandler(p){u.on("_resize",p)},removeResizeHandler(p){u.off("_resize",p)},createScrollResponder(p){return new tp(p,u,De(n.scrollTime),n.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:m}}var lu=(()=>{class t extends bt{shouldComponentUpdate(n,r){return this.debug&&console.log(gw(n,this.props),gw(r,this.state)),!Yh(this.props,n,this.propEquality)||!Yh(this.state,r,this.stateEquality)}safeSetState(n){Yh(this.state,Object.assign(Object.assign({},this.state),n),this.stateEquality)||this.setState(n)}}return t.addPropsEquality=U4,t.addStateEquality=B4,t.contextType=Kr,t})();lu.prototype.propEquality={};lu.prototype.stateEquality={};var je=(()=>{class t extends lu{}return t.contextType=Kr,t})();function U4(t){let e=Object.create(this.prototype.propEquality);Object.assign(e,t),this.prototype.propEquality=e}function B4(t){let e=Object.create(this.prototype.stateEquality);Object.assign(e,t),this.prototype.stateEquality=e}function Tn(t,e){typeof t=="function"?t(e):t&&(t.current=e)}var jc=class extends je{constructor(){super(...arguments),this.id=Gr(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{let{options:n}=this.context,{generatorName:r}=this.props;(!n.customRenderingReplaces||!vw(r,n))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&Tn(this.props.elRef,e)}}render(){let{props:e,context:n}=this,{options:r}=n,{customGenerator:i,defaultGenerator:s,renderProps:o}=e,a=Hw(e,[],this.handleEl),l=!1,u,d=[],h;if(i!=null){let m=typeof i=="function"?i(o,x):i;if(m===!0)l=!0;else{let p=m&&typeof m=="object";p&&"html"in m?a.dangerouslySetInnerHTML={__html:m.html}:p&&"domNodes"in m?d=Array.prototype.slice.call(m.domNodes):(p?ZE(m):typeof m!="function")?u=m:h=m}}else l=!vw(e.generatorName,r);return l&&s&&(u=s(o)),this.queuedDomNodes=d,this.currentGeneratorMeta=h,x(e.elTag,a,u)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var n;let{props:r,context:i}=this,{handleCustomRendering:s,customRenderingMetaMap:o}=i.options;if(s){let a=(n=this.currentGeneratorMeta)!==null&&n!==void 0?n:o?.[r.generatorName];a&&s(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:a},r),{elClasses:(r.elClasses||[]).filter(H4)}))}}applyQueueudDomNodes(){let{queuedDomNodes:e,currentDomNodes:n}=this,r=this.base;if(!rr(e,n)){n.forEach(ru);for(let i of e)r.appendChild(i);this.currentDomNodes=e}}};jc.addPropsEquality({elClasses:rr,elStyle:pn,elAttrs:O4,renderProps:pn});function vw(t,e){var n;return!!(e.handleCustomRendering&&t&&(!((n=e.customRenderingMetaMap)===null||n===void 0)&&n[t]))}function Hw(t,e,n){let r=Object.assign(Object.assign({},t.elAttrs),{ref:n});return(t.elClasses||e)&&(r.className=(t.elClasses||[]).concat(e||[]).concat(r.className||[]).filter(Boolean).join(" ")),t.elStyle&&(r.style=t.elStyle),r}function H4(t){return!!t}var $w=qk(0),sr=(()=>{class t extends bt{constructor(){super(...arguments),this.InnerContent=$4.bind(void 0,this),this.handleEl=n=>{this.el=n,this.props.elRef&&(Tn(this.props.elRef,n),n&&this.didMountMisfire&&this.componentDidMount())}}render(){let{props:n}=this,r=z4(n.classNameGenerator,n.renderProps);if(n.children){let i=Hw(n,r,this.handleEl),s=n.children(this.InnerContent,n.renderProps,i);return n.elTag?x(n.elTag,i,s):s}else return x(jc,Object.assign(Object.assign({},n),{elRef:this.handleEl,elTag:n.elTag||"div",elClasses:(n.elClasses||[]).concat(r),renderId:this.context}))}componentDidMount(){var n,r;this.el?(r=(n=this.props).didMount)===null||r===void 0||r.call(n,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var n,r;(r=(n=this.props).willUnmount)===null||r===void 0||r.call(n,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}return t.contextType=$w,t})();function $4(t,e){let n=t.props;return x(jc,Object.assign({renderProps:n.renderProps,generatorName:n.generatorName,customGenerator:n.customGenerator,defaultGenerator:n.defaultGenerator,renderId:t.context},e))}function z4(t,e){let n=typeof t=="function"?t(e):t||[];return typeof n=="string"?[n]:n}var _a=class extends je{render(){let{props:e,context:n}=this,{options:r}=n,i={view:n.viewApi};return x(sr,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...zw(e.viewSpec),...e.elClasses||[]],renderProps:i,classNameGenerator:r.viewClassNames,generatorName:void 0,didMount:r.viewDidMount,willUnmount:r.viewWillUnmount}),()=>e.children)}};function zw(t){return[`fc-${t.type}-view`,"fc-view"]}function q4(t,e){let n=null,r=null;return t.start&&(n=e.createMarker(t.start)),t.end&&(r=e.createMarker(t.end)),!n&&!r||n&&r&&r<n?null:{start:n,end:r}}function wk(t,e){let n=[],{start:r}=e,i,s;for(t.sort(W4),i=0;i<t.length;i+=1)s=t[i],s.start>r&&n.push({start:r,end:s.start}),s.end>r&&(r=s.end);return r<e.end&&n.push({start:r,end:e.end}),n}function W4(t,e){return t.start.valueOf()-e.start.valueOf()}function qr(t,e){let{start:n,end:r}=t,i=null;return e.start!==null&&(n===null?n=e.start:n=new Date(Math.max(n.valueOf(),e.start.valueOf()))),e.end!=null&&(r===null?r=e.end:r=new Date(Math.min(r.valueOf(),e.end.valueOf()))),(n===null||r===null||n<r)&&(i={start:n,end:r}),i}function Gk(t,e){return(t.start===null?null:t.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(t.end===null?null:t.end.valueOf())===(e.end===null?null:e.end.valueOf())}function yp(t,e){return(t.end===null||e.start===null||t.end>e.start)&&(t.start===null||e.end===null||t.start<e.end)}function Da(t,e){return(t.start===null||e.start!==null&&e.start>=t.start)&&(t.end===null||e.end!==null&&e.end<=t.end)}function tr(t,e){return(t.start===null||e>=t.start)&&(t.end===null||e<t.end)}function G4(t,e){return e.start!=null&&t<e.start?e.start:e.end!=null&&t>=e.end?new Date(e.end.valueOf()-1):t}function Kk(t){let e=Math.floor(Hs(t.start,t.end))||1,n=Pe(t.start),r=at(n,e);return{start:n,end:r}}function qw(t,e=De(0)){let n=null,r=null;if(t.end){r=Pe(t.end);let i=t.end.valueOf()-r.valueOf();i&&i>=ya(e)&&(r=at(r,1))}return t.start&&(n=Pe(t.start),r&&r<=n&&(r=at(n,1))),{start:n,end:r}}function Vi(t,e,n,r){return r==="year"?De(n.diffWholeYears(t,e),"year"):r==="month"?De(n.diffWholeMonths(t,e),"month"):Vk(t,e)}function Qk(t,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return t}}function Yk(t,e){let n=t.initialDate;return n!=null?e.createMarker(n):Ta(t.now,e)}function Ta(t,e){return typeof t=="function"&&(t=t()),t==null?e.createNowMarker():e.createMarker(t)}var Os=class{constructor(e){this.props=e,this.nowDate=Ta(e.nowInput,e.dateEnv),this.initHiddenDays()}buildPrev(e,n,r){let{dateEnv:i}=this.props,s=i.subtract(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,-1,r)}buildNext(e,n,r){let{dateEnv:i}=this.props,s=i.add(i.startOf(n,e.currentRangeUnit),e.dateIncrement);return this.build(s,1,r)}build(e,n,r=!0){let{props:i}=this,s,o,a,l,u,d;return s=this.buildValidRange(),s=this.trimHiddenDays(s),r&&(e=G4(e,s)),o=this.buildCurrentRangeInfo(e,n),a=/^(year|month|week|day)$/.test(o.unit),l=this.buildRenderRange(this.trimHiddenDays(o.range),o.unit,a),l=this.trimHiddenDays(l),u=l,i.showNonCurrentDates||(u=qr(u,o.range)),u=this.adjustActiveRange(u),u=qr(u,s),d=yp(o.range,s),tr(l,e)||(e=l.start),{currentDate:e,validRange:s,currentRange:o.range,currentRangeUnit:o.unit,isRangeAllDay:a,activeRange:u,renderRange:l,slotMinTime:i.slotMinTime,slotMaxTime:i.slotMaxTime,isValid:d,dateIncrement:this.buildDateIncrement(o.duration)}}buildValidRange(){let e=this.props.validRangeInput,n=typeof e=="function"?e.call(this.props.calendarApi,this.nowDate):e;return this.refineRange(n)||{start:null,end:null}}buildCurrentRangeInfo(e,n){let{props:r}=this,i=null,s=null,o=null,a;return r.duration?(i=r.duration,s=r.durationUnit,o=this.buildRangeFromDuration(e,n,i,s)):(a=this.props.dayCount)?(s="day",o=this.buildRangeFromDayCount(e,n,a)):(o=this.buildCustomVisibleRange(e))?s=r.dateEnv.greatestWholeUnit(o.start,o.end).unit:(i=this.getFallbackDuration(),s=Fc(i).unit,o=this.buildRangeFromDuration(e,n,i,s)),{duration:i,unit:s,range:o}}getFallbackDuration(){return De({day:1})}adjustActiveRange(e){let{dateEnv:n,usesMinMaxTime:r,slotMinTime:i,slotMaxTime:s}=this.props,{start:o,end:a}=e;return r&&(ma(i)<0&&(o=Pe(o),o=n.add(o,i)),ma(s)>1&&(a=Pe(a),a=at(a,-1),a=n.add(a,s))),{start:o,end:a}}buildRangeFromDuration(e,n,r,i){let{dateEnv:s,dateAlignment:o}=this.props,a,l,u;if(!o){let{dateIncrement:h}=this.props;h&&ya(h)<ya(r)?o=Fc(h).unit:o=i}ma(r)<=1&&this.isHiddenDay(a)&&(a=this.skipHiddenDays(a,n),a=Pe(a));function d(){a=s.startOf(e,o),l=s.add(a,r),u={start:a,end:l}}return d(),this.trimHiddenDays(u)||(e=this.skipHiddenDays(e,n),d()),u}buildRangeFromDayCount(e,n,r){let{dateEnv:i,dateAlignment:s}=this.props,o=0,a=e,l;s&&(a=i.startOf(a,s)),a=Pe(a),a=this.skipHiddenDays(a,n),l=a;do l=at(l,1),this.isHiddenDay(l)||(o+=1);while(o<r);return{start:a,end:l}}buildCustomVisibleRange(e){let{props:n}=this,r=n.visibleRangeInput,i=typeof r=="function"?r.call(n.calendarApi,n.dateEnv.toDate(e)):r,s=this.refineRange(i);return s&&(s.start==null||s.end==null)?null:s}buildRenderRange(e,n,r){return e}buildDateIncrement(e){let{dateIncrement:n}=this.props,r;return n||((r=this.props.dateAlignment)?De(1,r):e||De({days:1}))}refineRange(e){if(e){let n=q4(e,this.props.dateEnv);return n&&(n=qw(n)),n}return null}initHiddenDays(){let e=this.props.hiddenDays||[],n=[],r=0,i;for(this.props.weekends===!1&&e.push(0,6),i=0;i<7;i+=1)(n[i]=e.indexOf(i)!==-1)||(r+=1);if(!r)throw new Error("invalid hiddenDays");this.isHiddenDayHash=n}trimHiddenDays(e){let{start:n,end:r}=e;return n&&(n=this.skipHiddenDays(n)),r&&(r=this.skipHiddenDays(r,-1,!0)),n==null||r==null||n<r?{start:n,end:r}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,n=1,r=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(r?n:0)+7)%7];)e=at(e,n);return e}};function cu(t,e,n,r){return{instanceId:Gr(),defId:t,range:e,forcedStartTzo:n??null,forcedEndTzo:r??null}}function K4(t,e,n,r){for(let i=0;i<r.length;i+=1){let s=r[i].parse(t,n);if(s){let{allDay:o}=t;return o==null&&(o=e,o==null&&(o=s.allDayGuess,o==null&&(o=!1))),{allDay:o,duration:s.duration,typeData:s.typeData,typeId:i}}}return null}function Fs(t,e,n){let{dateEnv:r,pluginHooks:i,options:s}=n,{defs:o,instances:a}=t;a=$r(a,l=>!o[l.defId].recurringDef);for(let l in o){let u=o[l];if(u.recurringDef){let{duration:d}=u.recurringDef;d||(d=u.allDay?s.defaultAllDayEventDuration:s.defaultTimedEventDuration);let h=Q4(u,d,e,r,i.recurringTypes);for(let m of h){let p=cu(l,{start:m,end:r.add(m,d)});a[p.instanceId]=p}}}return{defs:o,instances:a}}function Q4(t,e,n,r,i){let o=i[t.recurringDef.typeId].expand(t.recurringDef.typeData,{start:r.subtract(n.start,e),end:n.end},r);return t.allDay&&(o=o.map(Pe)),o}var Zh={id:String,groupId:String,title:String,url:String,interactive:Boolean},Zk={start:N,end:N,date:N,allDay:Boolean},Y4=Object.assign(Object.assign(Object.assign({},Zh),Zk),{extendedProps:N});function Jk(t,e,n,r,i=Ww(n),s,o){let{refined:a,extra:l}=vp(t,n,i),u=J4(e,n),d=K4(a,u,n.dateEnv,n.pluginHooks.recurringTypes);if(d){let m=Uc(a,l,e?e.sourceId:"",d.allDay,!!d.duration,n,s);return m.recurringDef={typeId:d.typeId,typeData:d.typeData,duration:d.duration},{def:m,instance:null}}let h=Z4(a,u,n,r);if(h){let m=Uc(a,l,e?e.sourceId:"",h.allDay,h.hasEnd,n,s),p=cu(m.defId,h.range,h.forcedStartTzo,h.forcedEndTzo);return o&&m.publicId&&o[m.publicId]&&(p.instanceId=o[m.publicId]),{def:m,instance:p}}return null}function vp(t,e,n=Ww(e)){return pp(t,n)}function Ww(t){return Object.assign(Object.assign(Object.assign({},np),Y4),t.pluginHooks.eventRefiners)}function Uc(t,e,n,r,i,s,o){let a={title:t.title||"",groupId:t.groupId||"",publicId:t.id||"",url:t.url||"",recurringDef:null,defId:(o&&t.id?o[t.id]:"")||Gr(),sourceId:n,allDay:r,hasEnd:i,interactive:t.interactive,ui:Ca(t,s),extendedProps:Object.assign(Object.assign({},t.extendedProps||{}),e)};for(let l of s.pluginHooks.eventDefMemberAdders)Object.assign(a,l(t));return Object.freeze(a.ui.classNames),Object.freeze(a.extendedProps),a}function Z4(t,e,n,r){let{allDay:i}=t,s,o=null,a=!1,l,u=null,d=t.start!=null?t.start:t.date;if(s=n.dateEnv.createMarkerMeta(d),s)o=s.marker;else if(!r)return null;return t.end!=null&&(l=n.dateEnv.createMarkerMeta(t.end)),i==null&&(e!=null?i=e:i=(!s||s.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),i&&o&&(o=Pe(o)),l&&(u=l.marker,i&&(u=Pe(u)),o&&u<=o&&(u=null)),u?a=!0:r||(a=n.options.forceEventDuration||!1,u=n.dateEnv.add(o,i?n.options.defaultAllDayEventDuration:n.options.defaultTimedEventDuration)),{allDay:i,hasEnd:a,range:{start:o,end:u},forcedStartTzo:s?s.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function J4(t,e){let n=null;return t&&(n=t.defaultAllDay),n==null&&(n=e.options.defaultAllDay),n}function Bc(t,e,n,r,i,s){let o=$t(),a=Ww(n);for(let l of t){let u=Jk(l,e,n,r,a,i,s);u&&Hc(u,o)}return o}function Hc(t,e=$t()){return e.defs[t.def.defId]=t.def,t.instance&&(e.instances[t.instance.instanceId]=t.instance),e}function uu(t,e){let n=t.instances[e];if(n){let r=t.defs[n.defId],i=Ep(t,s=>X4(r,s));return i.defs[r.defId]=r,i.instances[n.instanceId]=n,i}return $t()}function X4(t,e){return!!(t.groupId&&t.groupId===e.groupId)}function $t(){return{defs:{},instances:{}}}function _p(t,e){return{defs:Object.assign(Object.assign({},t.defs),e.defs),instances:Object.assign(Object.assign({},t.instances),e.instances)}}function Ep(t,e){let n=$r(t.defs,e),r=$r(t.instances,i=>n[i.defId]);return{defs:n,instances:r}}function e3(t,e){let{defs:n,instances:r}=t,i={},s={};for(let o in n)e.defs[o]||(i[o]=n[o]);for(let o in r)!e.instances[o]&&i[r[o].defId]&&(s[o]=r[o]);return{defs:i,instances:s}}function t3(t,e){return Array.isArray(t)?Bc(t,null,e,!0):typeof t=="object"&&t?Bc([t],null,e,!0):t!=null?String(t):null}function _w(t){return Array.isArray(t)?t:typeof t=="string"?t.split(/\s+/):[]}var np={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:N,overlap:N,allow:N,className:_w,classNames:_w,color:String,backgroundColor:String,borderColor:String,textColor:String},n3={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Ca(t,e){let n=t3(t.constraint,e);return{display:t.display||null,startEditable:t.startEditable!=null?t.startEditable:t.editable,durationEditable:t.durationEditable!=null?t.durationEditable:t.editable,constraints:n!=null?[n]:[],overlap:t.overlap!=null?t.overlap:null,allows:t.allow!=null?[t.allow]:[],backgroundColor:t.backgroundColor||t.color||"",borderColor:t.borderColor||t.color||"",textColor:t.textColor||"",classNames:(t.className||[]).concat(t.classNames||[])}}function Xk(t){return t.reduce(r3,n3)}function r3(t,e){return{display:e.display!=null?e.display:t.display,startEditable:e.startEditable!=null?e.startEditable:t.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:t.durationEditable,constraints:t.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:t.overlap,allows:t.allows.concat(e.allows),backgroundColor:e.backgroundColor||t.backgroundColor,borderColor:e.borderColor||t.borderColor,textColor:e.textColor||t.textColor,classNames:t.classNames.concat(e.classNames)}}var i3={id:String,defaultAllDay:Boolean,url:String,format:String,events:N,eventDataTransform:N,success:N,failure:N};function Gw(t,e,n=Kw(e)){let r;if(typeof t=="string"?r={url:t}:typeof t=="function"||Array.isArray(t)?r={events:t}:typeof t=="object"&&t&&(r=t),r){let{refined:i,extra:s}=pp(r,n),o=s3(i,e);if(o)return{_raw:t,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:i.defaultAllDay,eventDataTransform:i.eventDataTransform,success:i.success,failure:i.failure,publicId:i.id||"",sourceId:Gr(),sourceDefId:o.sourceDefId,meta:o.meta,ui:Ca(i,e),extendedProps:s}}return null}function Kw(t){return Object.assign(Object.assign(Object.assign({},np),i3),t.pluginHooks.eventSourceRefiners)}function s3(t,e){let n=e.pluginHooks.eventSourceDefs;for(let r=n.length-1;r>=0;r-=1){let s=n[r].parseMeta(t);if(s)return{sourceDefId:r,meta:s}}return null}function eP(t,e,n,r,i){switch(e.type){case"RECEIVE_EVENTS":return o3(t,n[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,i);case"RESET_RAW_EVENTS":return a3(t,n[e.sourceId],e.rawEvents,r.activeRange,i);case"ADD_EVENTS":return l3(t,e.eventStore,r?r.activeRange:null,i);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return _p(t,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return r?Fs(t,r.activeRange,i):t;case"REMOVE_EVENTS":return e3(t,e.eventStore);case"REMOVE_EVENT_SOURCE":return nP(t,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return Ep(t,s=>!s.sourceId);case"REMOVE_ALL_EVENTS":return $t();default:return t}}function o3(t,e,n,r,i,s){if(e&&n===e.latestFetchId){let o=Bc(tP(i,e,s),e,s);return r&&(o=Fs(o,r,s)),_p(nP(t,e.sourceId),o)}return t}function a3(t,e,n,r,i){let{defIdMap:s,instanceIdMap:o}=u3(t),a=Bc(tP(n,e,i),e,i,!1,s,o);return Fs(a,r,i)}function tP(t,e,n){let r=n.options.eventDataTransform,i=e?e.eventDataTransform:null;return i&&(t=Ik(t,i)),r&&(t=Ik(t,r)),t}function Ik(t,e){let n;if(!e)n=t;else{n=[];for(let r of t){let i=e(r);i?n.push(i):i==null&&n.push(r)}}return n}function l3(t,e,n,r){return n&&(e=Fs(e,n,r)),_p(t,e)}function Qw(t,e,n){let{defs:r}=t,i=ir(t.instances,s=>r[s.defId].allDay?s:Object.assign(Object.assign({},s),{range:{start:n.createMarker(e.toDate(s.range.start,s.forcedStartTzo)),end:n.createMarker(e.toDate(s.range.end,s.forcedEndTzo))},forcedStartTzo:n.canComputeOffset?null:s.forcedStartTzo,forcedEndTzo:n.canComputeOffset?null:s.forcedEndTzo}));return{defs:r,instances:i}}function nP(t,e){return Ep(t,n=>n.sourceId!==e)}function c3(t,e){return{defs:t.defs,instances:$r(t.instances,n=>!e[n.instanceId])}}function u3(t){let{defs:e,instances:n}=t,r={},i={};for(let s in e){let o=e[s],{publicId:a}=o;a&&(r[a]=s)}for(let s in n){let o=n[s],a=e[o.defId],{publicId:l}=a;l&&(i[l]=s)}return{defIdMap:r,instanceIdMap:i}}var Wr=class{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,n){d3(this.handlers,e,n)}off(e,n){f3(this.handlers,e,n)}trigger(e,...n){let r=this.handlers[e]||[],i=this.options&&this.options[e],s=[].concat(i||[],r);for(let o of s)o.apply(this.thisContext,n)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}};function d3(t,e,n){(t[e]||(t[e]=[])).push(n)}function f3(t,e,n){n?t[e]&&(t[e]=t[e].filter(r=>r!==n)):delete t[e]}var h3={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function Yw(t,e){return Bc(p3(t),null,e)}function p3(t){let e;return t===!0?e=[{}]:Array.isArray(t)?e=t.filter(n=>n.daysOfWeek):typeof t=="object"&&t?e=[t]:e=[],e=e.map(n=>Object.assign(Object.assign({},h3),n)),e}function wp(t,e,n){n.emitter.trigger("select",Object.assign(Object.assign({},Zw(t,n)),{jsEvent:e?e.origEvent:null,view:n.viewApi||n.calendarApi.view}))}function g3(t,e){e.emitter.trigger("unselect",{jsEvent:t?t.origEvent:null,view:e.viewApi||e.calendarApi.view})}function Zw(t,e){let n={};for(let r of e.pluginHooks.dateSpanTransforms)Object.assign(n,r(t,e));return Object.assign(n,S3(t,e.dateEnv)),n}function rp(t,e,n){let{dateEnv:r,options:i}=n,s=e;return t?(s=Pe(s),s=r.add(s,i.defaultAllDayEventDuration)):s=r.add(s,i.defaultTimedEventDuration),s}function du(t,e,n,r){let i=sp(t.defs,e),s=$t();for(let o in t.defs){let a=t.defs[o];s.defs[o]=m3(a,i[o],n,r)}for(let o in t.instances){let a=t.instances[o],l=s.defs[a.defId];s.instances[o]=y3(a,l,i[a.defId],n,r)}return s}function m3(t,e,n,r){let i=n.standardProps||{};i.hasEnd==null&&e.durationEditable&&(n.startDelta||n.endDelta)&&(i.hasEnd=!0);let s=Object.assign(Object.assign(Object.assign({},t),i),{ui:Object.assign(Object.assign({},t.ui),i.ui)});n.extendedProps&&(s.extendedProps=Object.assign(Object.assign({},s.extendedProps),n.extendedProps));for(let o of r.pluginHooks.eventDefMutationAppliers)o(s,n,r);return!s.hasEnd&&r.options.forceEventDuration&&(s.hasEnd=!0),s}function y3(t,e,n,r,i){let{dateEnv:s}=i,o=r.standardProps&&r.standardProps.allDay===!0,a=r.standardProps&&r.standardProps.hasEnd===!1,l=Object.assign({},t);return o&&(l.range=Kk(l.range)),r.datesDelta&&n.startEditable&&(l.range={start:s.add(l.range.start,r.datesDelta),end:s.add(l.range.end,r.datesDelta)}),r.startDelta&&n.durationEditable&&(l.range={start:s.add(l.range.start,r.startDelta),end:l.range.end}),r.endDelta&&n.durationEditable&&(l.range={start:l.range.start,end:s.add(l.range.end,r.endDelta)}),a&&(l.range={start:l.range.start,end:rp(e.allDay,l.range.start,i)}),e.allDay&&(l.range={start:Pe(l.range.start),end:Pe(l.range.end)}),l.range.end<l.range.start&&(l.range.end=rp(e.allDay,l.range.start,i)),l}var Oi=class{constructor(e,n){this.context=e,this.internalEventSource=n}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}},Oe=class t{constructor(e,n,r){this._context=e,this._def=n,this._instance=r||null}setProp(e,n){if(e in Zk)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")n=Zh[e](n),this.mutate({standardProps:{publicId:n}});else if(e in Zh)n=Zh[e](n),this.mutate({standardProps:{[e]:n}});else if(e in np){let r=np[e](n);e==="color"?r={backgroundColor:n,borderColor:n}:e==="editable"?r={startEditable:n,durationEditable:n}:r={[e]:n},this.mutate({standardProps:{ui:r}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,n){this.mutate({extendedProps:{[e]:n}})}setStart(e,n={}){let{dateEnv:r}=this._context,i=r.createMarker(e);if(i&&this._instance){let s=this._instance.range,o=Vi(s.start,i,r,n.granularity);n.maintainDuration?this.mutate({datesDelta:o}):this.mutate({startDelta:o})}}setEnd(e,n={}){let{dateEnv:r}=this._context,i;if(!(e!=null&&(i=r.createMarker(e),!i))&&this._instance)if(i){let s=Vi(this._instance.range.end,i,r,n.granularity);this.mutate({endDelta:s})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,n,r={}){let{dateEnv:i}=this._context,s={allDay:r.allDay},o=i.createMarker(e),a;if(o&&!(n!=null&&(a=i.createMarker(n),!a))&&this._instance){let l=this._instance.range;r.allDay===!0&&(l=Kk(l));let u=Vi(l.start,o,i,r.granularity);if(a){let d=Vi(l.end,a,i,r.granularity);u4(u,d)?this.mutate({datesDelta:u,standardProps:s}):this.mutate({startDelta:u,endDelta:d,standardProps:s})}else s.hasEnd=!1,this.mutate({datesDelta:u,standardProps:s})}}moveStart(e){let n=De(e);n&&this.mutate({startDelta:n})}moveEnd(e){let n=De(e);n&&this.mutate({endDelta:n})}moveDates(e){let n=De(e);n&&this.mutate({datesDelta:n})}setAllDay(e,n={}){let r={allDay:e},{maintainDuration:i}=n;i==null&&(i=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(r.hasEnd=i),this.mutate({standardProps:r})}formatRange(e){let{dateEnv:n}=this._context,r=this._instance,i=Ye(e);return this._def.hasEnd?n.formatRange(r.range.start,r.range.end,i,{forcedStartTzo:r.forcedStartTzo,forcedEndTzo:r.forcedEndTzo}):n.format(r.range.start,i,{forcedTzo:r.forcedStartTzo})}mutate(e){let n=this._instance;if(n){let r=this._def,i=this._context,{eventStore:s}=i.getCurrentData(),o=uu(s,n.instanceId);o=du(o,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,i);let l=new t(i,r,n);this._def=o.defs[r.defId],this._instance=o.instances[n.instanceId],i.dispatch({type:"MERGE_EVENTS",eventStore:o}),i.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:or(o,i,n),revert(){i.dispatch({type:"RESET_EVENTS",eventStore:s})}})}}remove(){let e=this._context,n=rP(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:n}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:n})}})}get source(){let{sourceId:e}=this._def;return e?new Oi(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let n=this._def,{ui:r}=n,{startStr:i,endStr:s}=this,o={allDay:n.allDay};return n.title&&(o.title=n.title),i&&(o.start=i),s&&(o.end=s),n.publicId&&(o.id=n.publicId),n.groupId&&(o.groupId=n.groupId),n.url&&(o.url=n.url),r.display&&r.display!=="auto"&&(o.display=r.display),e.collapseColor&&r.backgroundColor&&r.backgroundColor===r.borderColor?o.color=r.backgroundColor:(r.backgroundColor&&(o.backgroundColor=r.backgroundColor),r.borderColor&&(o.borderColor=r.borderColor)),r.textColor&&(o.textColor=r.textColor),r.classNames.length&&(o.classNames=r.classNames),Object.keys(n.extendedProps).length&&(e.collapseExtendedProps?Object.assign(o,n.extendedProps):o.extendedProps=n.extendedProps),o}toJSON(){return this.toPlainObject()}};function rP(t){let e=t._def,n=t._instance;return{defs:{[e.defId]:e},instances:n?{[n.instanceId]:n}:{}}}function or(t,e,n){let{defs:r,instances:i}=t,s=[],o=n?n.instanceId:"";for(let a in i){let l=i[a],u=r[l.defId];l.instanceId!==o&&s.push(new Oe(e,u,l))}return s}function ip(t,e,n,r){let i={},s={},o={},a=[],l=[],u=sp(t.defs,e);for(let d in t.defs){let h=t.defs[d];u[h.defId].display==="inverse-background"&&(h.groupId?(i[h.groupId]=[],o[h.groupId]||(o[h.groupId]=h)):s[d]=[])}for(let d in t.instances){let h=t.instances[d],m=t.defs[h.defId],p=u[m.defId],_=h.range,I=!m.allDay&&r?qw(_,r):_,w=qr(I,n);w&&(p.display==="inverse-background"?m.groupId?i[m.groupId].push(w):s[h.defId].push(w):p.display!=="none"&&(p.display==="background"?a:l).push({def:m,ui:p,instance:h,range:w,isStart:I.start&&I.start.valueOf()===w.start.valueOf(),isEnd:I.end&&I.end.valueOf()===w.end.valueOf()}))}for(let d in i){let h=i[d],m=wk(h,n);for(let p of m){let _=o[d],I=u[_.defId];a.push({def:_,ui:I,instance:null,range:p,isStart:!1,isEnd:!1})}}for(let d in s){let h=s[d],m=wk(h,n);for(let p of m)a.push({def:t.defs[d],ui:u[d],instance:null,range:p,isStart:!1,isEnd:!1})}return{bg:a,fg:l}}function bk(t,e){t.fcSeg=e}function Qr(t){return t.fcSeg||t.parentNode.fcSeg||null}function sp(t,e){return ir(t,n=>iP(n,e))}function iP(t,e){let n=[];return e[""]&&n.push(e[""]),e[t.defId]&&n.push(e[t.defId]),n.push(t.ui),Xk(n)}function Jw(t,e){let n=t.map(v3);return n.sort((r,i)=>Ok(r,i,e)),n.map(r=>r._seg)}function v3(t){let{eventRange:e}=t,n=e.def,r=e.instance?e.instance.range:e.range,i=r.start?r.start.valueOf():0,s=r.end?r.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},n.extendedProps),n),{id:n.publicId,start:i,end:s,duration:s-i,allDay:Number(n.allDay),_seg:t})}function _3(t,e){let{pluginHooks:n}=e,r=n.isDraggableTransformers,{def:i,ui:s}=t.eventRange,o=s.startEditable;for(let a of r)o=a(o,i,s,e);return o}function E3(t,e){return t.isStart&&t.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function w3(t,e){return t.isEnd&&t.eventRange.ui.durationEditable}function Ip(t,e,n,r,i,s,o){let{dateEnv:a,options:l}=n,{displayEventTime:u,displayEventEnd:d}=l,h=t.eventRange.def,m=t.eventRange.instance;u==null&&(u=r!==!1),d==null&&(d=i!==!1);let p=m.range.start,_=m.range.end,I=s||t.start||t.eventRange.range.start,w=o||t.end||t.eventRange.range.end,R=Pe(p).valueOf()===Pe(I).valueOf(),P=Pe(nr(_,-1)).valueOf()===Pe(nr(w,-1)).valueOf();return u&&!h.allDay&&(R||P)?(I=R?p:I,w=P?_:w,d&&h.hasEnd?a.formatRange(I,w,e,{forcedStartTzo:s?null:m.forcedStartTzo,forcedEndTzo:o?null:m.forcedEndTzo}):a.format(I,e,{forcedTzo:s?null:m.forcedStartTzo})):""}function $s(t,e,n){let r=t.eventRange.range;return{isPast:r.end<=(n||e.start),isFuture:r.start>=(n||e.end),isToday:e&&tr(e,r.start)}}function I3(t){let e=["fc-event"];return t.isMirror&&e.push("fc-event-mirror"),t.isDraggable&&e.push("fc-event-draggable"),(t.isStartResizable||t.isEndResizable)&&e.push("fc-event-resizable"),t.isDragging&&e.push("fc-event-dragging"),t.isResizing&&e.push("fc-event-resizing"),t.isSelected&&e.push("fc-event-selected"),t.isStart&&e.push("fc-event-start"),t.isEnd&&e.push("fc-event-end"),t.isPast&&e.push("fc-event-past"),t.isToday&&e.push("fc-event-today"),t.isFuture&&e.push("fc-event-future"),e}function Xw(t){return t.instance?t.instance.instanceId:`${t.def.defId}:${t.range.start.toISOString()}`}function bp(t,e){let{def:n,instance:r}=t.eventRange,{url:i}=n;if(i)return{href:i};let{emitter:s,options:o}=e,{eventInteractive:a}=o;return a==null&&(a=n.interactive,a==null&&(a=!!s.hasHandlers("eventClick"))),a?kk(l=>{s.trigger("eventClick",{el:l.target,event:new Oe(e,n,r),jsEvent:l,view:e.viewApi})}):{}}var b3={start:N,end:N,allDay:Boolean};function D3(t,e,n){let r=T3(t,e),{range:i}=r;if(!i.start)return null;if(!i.end){if(n==null)return null;i.end=e.add(i.start,n)}return r}function T3(t,e){let{refined:n,extra:r}=pp(t,b3),i=n.start?e.createMarkerMeta(n.start):null,s=n.end?e.createMarkerMeta(n.end):null,{allDay:o}=n;return o==null&&(o=i&&i.isTimeUnspecified&&(!s||s.isTimeUnspecified)),Object.assign({range:{start:i?i.marker:null,end:s?s.marker:null},allDay:o},r)}function eI(t,e){return Gk(t.range,e.range)&&t.allDay===e.allDay&&C3(t,e)}function C3(t,e){for(let n in e)if(n!=="range"&&n!=="allDay"&&t[n]!==e[n])return!1;for(let n in t)if(!(n in e))return!1;return!0}function S3(t,e){return Object.assign(Object.assign({},sP(t.range,e,t.allDay)),{allDay:t.allDay})}function tI(t,e,n){return Object.assign(Object.assign({},sP(t,e,n)),{timeZone:e.timeZone})}function sP(t,e,n){return{start:e.toDate(t.start),end:e.toDate(t.end),startStr:e.formatIso(t.start,{omitTime:n}),endStr:e.formatIso(t.end,{omitTime:n})}}function A3(t,e,n){let r=vp({editable:!1},n),i=Uc(r.refined,r.extra,"",t.allDay,!0,n);return{def:i,ui:iP(i,e),instance:cu(i.defId,t.range),range:t.range,isStart:!0,isEnd:!0}}function nI(t,e,n){let r=!1,i=function(a){r||(r=!0,e(a))},s=function(a){r||(r=!0,n(a))},o=t(i,s);o&&typeof o.then=="function"&&o.then(i,s)}var op=class extends Error{constructor(e,n){super(e),this.response=n}};function rI(t,e,n){t=t.toUpperCase();let r={method:t};return t==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(n):(r.body=new URLSearchParams(n),r.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,r).then(i=>{if(i.ok)return i.json().then(s=>[s,i],()=>{throw new op("Failure parsing JSON",i)});throw new op("Request failed",i)})}var sw;function iI(){return sw==null&&(sw=R3()),sw}function R3(){if(typeof document>"u")return!0;let t=document.createElement("div");t.style.position="absolute",t.style.top="0px",t.style.left="0px",t.innerHTML="<table><tr><td><div></div></td></tr></table>",t.querySelector("table").style.height="100px",t.querySelector("div").style.height="100%",document.body.appendChild(t);let n=t.querySelector("div").offsetHeight>0;return document.body.removeChild(t),n}var $c=class extends je{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Vc(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Vc(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:n}=e,{forPrint:r}=this.state,i=r||n.height==="auto"||n.contentHeight==="auto",s=!i&&n.height!=null?n.height:"",o=["fc",r?"fc-media-print":"fc-media-screen",`fc-direction-${n.direction}`,e.theme.getClass("root")];return iI()||o.push("fc-liquid-hack"),e.children(o,s,i,r)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}},Fn=class{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}};function oP(t,e){return{component:t,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function fu(t){return{[t.component.uid]:t}}var Sa={},zc=class{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,n){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:n})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,n){let{currentDataManager:r}=this;r.currentCalendarOptionsRefiners[e]?r.emitter.on(e,n):console.warn(`Unknown listener name '${e}'`)}off(e,n){this.currentDataManager.emitter.off(e,n)}trigger(e,...n){this.currentDataManager.emitter.trigger(e,...n)}changeView(e,n){this.batchRendering(()=>{if(this.unselect(),n)if(n.start&&n.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:n});else{let{dateEnv:r}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:r.createMarker(n)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,n){let r=this.getCurrentData(),i;n=n||"day",i=r.viewSpecs[n]||this.getUnitViewSpec(n),this.unselect(),i?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:i.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:n,toolbarConfig:r}=this.getCurrentData(),i=[].concat(r.header?r.header.viewsWithButtons:[],r.footer?r.footer.viewsWithButtons:[]),s,o;for(let a in n)i.push(a);for(s=0;s<i.length;s+=1)if(o=n[i[s]],o&&o.singleUnit===e)return o;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:Ta(e.calendarOptions.now,e.dateEnv)})}gotoDate(e){let n=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.createMarker(e)})}incrementDate(e){let n=this.getCurrentData(),r=De(e);r&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:n.dateEnv.add(n.currentDate,r)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,n){let{dateEnv:r}=this.getCurrentData();return r.format(r.createMarker(e),Ye(n))}formatRange(e,n,r){let{dateEnv:i}=this.getCurrentData();return i.formatRange(i.createMarker(e),i.createMarker(n),Ye(r),r)}formatIso(e,n){let{dateEnv:r}=this.getCurrentData();return r.formatIso(r.createMarker(e),{omitTime:n})}select(e,n){let r;n==null?e.start!=null?r=e:r={start:e,end:null}:r={start:e,end:n};let i=this.getCurrentData(),s=D3(r,i.dateEnv,De({days:1}));s&&(this.dispatch({type:"SELECT_DATES",selection:s}),wp(s,null,i))}unselect(e){let n=this.getCurrentData();n.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),g3(e,n))}addEvent(e,n){if(e instanceof Oe){let o=e._def,a=e._instance;return this.getCurrentData().eventStore.defs[o.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Hc({def:o,instance:a})}),this.triggerEventAdd(e)),e}let r=this.getCurrentData(),i;if(n instanceof Oi)i=n.internalEventSource;else if(typeof n=="boolean")n&&([i]=mp(r.eventSources));else if(n!=null){let o=this.getEventSourceById(n);if(!o)return console.warn(`Could not find an event source with ID "${n}"`),null;i=o.internalEventSource}let s=Jk(e,i,r,!1);if(s){let o=new Oe(r,s.def,s.def.recurringDef?null:s.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Hc(s)}),this.triggerEventAdd(o),o}return null}triggerEventAdd(e){let{emitter:n}=this.getCurrentData();n.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:rP(e)})}})}getEventById(e){let n=this.getCurrentData(),{defs:r,instances:i}=n.eventStore;e=String(e);for(let s in r){let o=r[s];if(o.publicId===e){if(o.recurringDef)return new Oe(n,o,null);for(let a in i){let l=i[a];if(l.defId===o.defId)return new Oe(n,o,l)}}}return null}getEvents(){let e=this.getCurrentData();return or(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),n=e.eventSources,r=[];for(let i in n)r.push(new Oi(e,n[i]));return r}getEventSourceById(e){let n=this.getCurrentData(),r=n.eventSources;e=String(e);for(let i in r)if(r[i].publicId===e)return new Oi(n,r[i]);return null}addEventSource(e){let n=this.getCurrentData();if(e instanceof Oi)return n.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let r=Gw(e,n);return r?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[r]}),new Oi(n,r)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let n=De(e);n&&this.trigger("_scrollRequest",{time:n})}};function sI(t,e){return t.left>=e.left&&t.left<e.right&&t.top>=e.top&&t.top<e.bottom}function Dp(t,e){let n={left:Math.max(t.left,e.left),right:Math.min(t.right,e.right),top:Math.max(t.top,e.top),bottom:Math.min(t.bottom,e.bottom)};return n.left<n.right&&n.top<n.bottom?n:!1}function oI(t,e){return{left:Math.min(Math.max(t.left,e.left),e.right),top:Math.min(Math.max(t.top,e.top),e.bottom)}}function aI(t){return{left:(t.left+t.right)/2,top:(t.top+t.bottom)/2}}function lI(t,e){return{left:t.left-e.left,top:t.top-e.top}}var xle=$t();function cI(t,e,n,r){return{dow:t.getUTCDay(),isDisabled:!!(r&&!tr(r.activeRange,t)),isOther:!!(r&&!tr(r.currentRange,t)),isToday:!!(e&&tr(e,t)),isPast:!!(n?t<n:e&&t<e.start),isFuture:!!(n?t>n:e&&t>=e.end)}}function Tp(t,e){let n=["fc-day",`fc-day-${h4[t.dow]}`];return t.isDisabled?n.push("fc-day-disabled"):(t.isToday&&(n.push("fc-day-today"),n.push(e.getClass("today"))),t.isPast&&n.push("fc-day-past"),t.isFuture&&n.push("fc-day-future"),t.isOther&&n.push("fc-day-other")),n}var M3=Ye({year:"numeric",month:"long",day:"numeric"}),N3=Ye({week:"long"});function hu(t,e,n="day",r=!0){let{dateEnv:i,options:s,calendarApi:o}=t,a=i.format(e,n==="week"?N3:M3);if(s.navLinks){let l=i.toDate(e),u=d=>{let h=n==="day"?s.navLinkDayClick:n==="week"?s.navLinkWeekClick:null;typeof h=="function"?h.call(o,i.toDate(e),d):(typeof h=="string"&&(n=h),o.zoomTo(e,n))};return Object.assign({title:Ia(s.navLinkHint,[a,l],a),"data-navlink":""},r?xk(u):{onClick:u})}return{"aria-label":a}}var ow=null;function aP(){return ow===null&&(ow=x3()),ow}function x3(){let t=document.createElement("div");Us(t,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),t.innerHTML="<div></div>",document.body.appendChild(t);let n=t.firstChild.getBoundingClientRect().left>t.getBoundingClientRect().left;return ru(t),n}var aw;function lP(){return aw||(aw=k3()),aw}function k3(){let t=document.createElement("div");t.style.overflow="scroll",t.style.position="absolute",t.style.top="-9999px",t.style.left="-9999px",document.body.appendChild(t);let e=cP(t);return document.body.removeChild(t),e}function cP(t){return{x:t.offsetHeight-t.clientHeight,y:t.offsetWidth-t.clientWidth}}function uP(t,e=!1){let n=window.getComputedStyle(t),r=parseInt(n.borderLeftWidth,10)||0,i=parseInt(n.borderRightWidth,10)||0,s=parseInt(n.borderTopWidth,10)||0,o=parseInt(n.borderBottomWidth,10)||0,a=cP(t),l=a.y-r-i,u=a.x-s-o,d={borderLeft:r,borderRight:i,borderTop:s,borderBottom:o,scrollbarBottom:u,scrollbarLeft:0,scrollbarRight:0};return aP()&&n.direction==="rtl"?d.scrollbarLeft=l:d.scrollbarRight=l,e&&(d.paddingLeft=parseInt(n.paddingLeft,10)||0,d.paddingRight=parseInt(n.paddingRight,10)||0,d.paddingTop=parseInt(n.paddingTop,10)||0,d.paddingBottom=parseInt(n.paddingBottom,10)||0),d}function uI(t,e=!1,n){let r=n?t.getBoundingClientRect():pu(t),i=uP(t,e),s={left:r.left+i.borderLeft+i.scrollbarLeft,right:r.right-i.borderRight-i.scrollbarRight,top:r.top+i.borderTop,bottom:r.bottom-i.borderBottom-i.scrollbarBottom};return e&&(s.left+=i.paddingLeft,s.right-=i.paddingRight,s.top+=i.paddingTop,s.bottom-=i.paddingBottom),s}function pu(t){let e=t.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function P3(t){let e=Cp(t),n=t.getBoundingClientRect();for(let r of e){let i=Dp(n,r.getBoundingClientRect());if(i)n=i;else return null}return n}function Cp(t){let e=[];for(;t instanceof HTMLElement;){let n=window.getComputedStyle(t);if(n.position==="fixed")break;/(auto|scroll)/.test(n.overflow+n.overflowY+n.overflowX)&&e.push(t),t=t.parentNode}return e}var ji=class{constructor(e,n,r,i){this.els=n;let s=this.originClientRect=e.getBoundingClientRect();r&&this.buildElHorizontals(s.left),i&&this.buildElVerticals(s.top)}buildElHorizontals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.left-e),r.push(s.right-e)}this.lefts=n,this.rights=r}buildElVerticals(e){let n=[],r=[];for(let i of this.els){let s=i.getBoundingClientRect();n.push(s.top-e),r.push(s.bottom-e)}this.tops=n,this.bottoms=r}leftToIndex(e){let{lefts:n,rights:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}topToIndex(e){let{tops:n,bottoms:r}=this,i=n.length,s;for(s=0;s<i;s+=1)if(e>=n[s]&&e<r[s])return s}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return qh(this.tops||[],e.tops||[])&&qh(this.bottoms||[],e.bottoms||[])&&qh(this.lefts||[],e.lefts||[])&&qh(this.rights||[],e.rights||[])}};function qh(t,e){let n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(Math.round(t[r])!==Math.round(e[r]))return!1;return!0}var Ls=class{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}},qc=class extends Ls{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}},Wc=class extends Ls{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}},Ln=class extends je{constructor(){super(...arguments),this.uid=Gr()}prepareHits(){}queryHit(e,n,r,i){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!ot(e,".fc-event-mirror")}isValidDateDownEl(e){return!ot(e,".fc-event:not(.fc-bg-event)")&&!ot(e,".fc-more-link")&&!ot(e,"a[data-navlink]")&&!ot(e,".fc-popover")}};var Gc=class{constructor(e=n=>n.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let n=[];for(let r of e)this.insertEntry(r,n);return n}insertEntry(e,n){let r=this.findInsertion(e);this.isInsertionValid(r,e)?this.insertEntryAt(e,r):this.handleInvalidInsertion(r,e,n)}isInsertionValid(e,n){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(n)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,n,r){if(this.allowReslicing&&e.touchingEntry){let i=Object.assign(Object.assign({},n),{span:Sp(n.span,e.touchingEntry.span)});r.push(i),this.splitEntry(n,e.touchingEntry,r)}else r.push(n)}splitEntry(e,n,r){let i=e.span,s=n.span;i.start<s.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.start,end:s.start}},r),i.end>s.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.end,end:i.end}},r)}insertEntryAt(e,n){let{entriesByLevel:r,levelCoords:i}=this;n.lateral===-1?(lw(i,n.level,n.levelCoord),lw(r,n.level,[e])):lw(r[n.level],n.lateral,e),this.stackCnts[Vs(e)]=n.stackCnt}findInsertion(e){let{levelCoords:n,entriesByLevel:r,strictOrder:i,stackCnts:s}=this,o=n.length,a=0,l=-1,u=-1,d=null,h=0;for(let _=0;_<o;_+=1){let I=n[_];if(!i&&I>=a+this.getEntryThickness(e))break;let w=r[_],R,P=ww(w,e.span.start,Ew),O=P[0]+P[1];for(;(R=w[O])&&R.span.start<e.span.end;){let B=I+this.getEntryThickness(R);B>a&&(a=B,d=R,l=_,u=O),B===a&&(h=Math.max(h,s[Vs(R)]+1)),O+=1}}let m=0;if(d)for(m=l+1;m<o&&n[m]<a;)m+=1;let p=-1;return m<o&&n[m]===a&&(p=ww(r[m],e.span.end,Ew)[0]),{touchingLevel:l,touchingLateral:u,touchingEntry:d,stackCnt:h,levelCoord:a,level:m,lateral:p}}toRects(){let{entriesByLevel:e,levelCoords:n}=this,r=e.length,i=[];for(let s=0;s<r;s+=1){let o=e[s],a=n[s];for(let l of o)i.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:a}))}return i}};function Ew(t){return t.span.end}function Vs(t){return t.index+":"+t.span.start}function Sp(t,e){let n=Math.max(t.start,e.start),r=Math.min(t.end,e.end);return n<r?{start:n,end:r}:null}function lw(t,e,n){t.splice(e,0,n)}function ww(t,e,n){let r=0,i=t.length;if(!i||e<n(t[r]))return[0,0];if(e>n(t[i-1]))return[i,0];for(;r<i;){let s=Math.floor(r+(i-r)/2),o=n(t[s]);if(e<o)i=s;else if(e>o)r=s+1;else return[s,1]}return[r,0]}var Kc=class{constructor(e,n){this.emitter=new Wr}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}},gu={};function dP(t,e){return!t||e>10?Ye({weekday:"short"}):e>1?Ye({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Ye({weekday:"long"})}var fP="fc-col-header-cell";function hP(t){return t.text}var ap=class extends je{render(){let{dateEnv:e,options:n,theme:r,viewApi:i}=this.context,{props:s}=this,{date:o,dateProfile:a}=s,l=cI(o,s.todayRange,null,a),u=[fP].concat(Tp(l,r)),d=e.format(o,s.dayHeaderFormat),h=!l.isDisabled&&s.colCnt>1?hu(this.context,o):{},m=Object.assign(Object.assign(Object.assign({date:e.toDate(o),view:i},s.extraRenderProps),{text:d}),l);return x(sr,{elTag:"th",elClasses:u,elAttrs:Object.assign({role:"columnheader",colSpan:s.colSpan,"data-date":l.isDisabled?void 0:au(o)},s.extraDataAttrs),renderProps:m,generatorName:"dayHeaderContent",customGenerator:n.dayHeaderContent,defaultGenerator:hP,classNameGenerator:n.dayHeaderClassNames,didMount:n.dayHeaderDidMount,willUnmount:n.dayHeaderWillUnmount},p=>x("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&x(p,{elTag:"a",elAttrs:h,elClasses:["fc-col-header-cell-cushion",s.isSticky&&"fc-sticky"]})))}},O3=Ye({weekday:"long"}),lp=class extends je{render(){let{props:e}=this,{dateEnv:n,theme:r,viewApi:i,options:s}=this.context,o=at(new Date(2592e5),e.dow),a={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=n.format(o,e.dayHeaderFormat),u=Object.assign(Object.assign(Object.assign(Object.assign({date:o},a),{view:i}),e.extraRenderProps),{text:l});return x(sr,{elTag:"th",elClasses:[fP,...Tp(a,r),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:u,generatorName:"dayHeaderContent",customGenerator:s.dayHeaderContent,defaultGenerator:hP,classNameGenerator:s.dayHeaderClassNames,didMount:s.dayHeaderDidMount,willUnmount:s.dayHeaderWillUnmount},d=>x("div",{className:"fc-scrollgrid-sync-inner"},x(d,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":n.format(o,O3)}})))}},Ap=(()=>{class t extends bt{constructor(n,r){super(n,r),this.initialNowDate=Ta(r.options.now,r.dateEnv),this.initialNowQueriedMs=new Date().valueOf(),this.state=this.computeTiming().currentState}render(){let{props:n,state:r}=this;return n.children(r.nowDate,r.todayRange)}componentDidMount(){this.setTimeout()}componentDidUpdate(n){n.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout()}computeTiming(){let{props:n,context:r}=this,i=nr(this.initialNowDate,new Date().valueOf()-this.initialNowQueriedMs),s=r.dateEnv.startOf(i,n.unit),o=r.dateEnv.add(s,De(1,n.unit)),a=o.valueOf()-i.valueOf();return a=Math.min(1e3*60*60*24,a),{currentState:{nowDate:s,todayRange:Dk(s)},nextState:{nowDate:o,todayRange:Dk(o)},waitMs:a}}setTimeout(){let{nextState:n,waitMs:r}=this.computeTiming();this.timeoutId=setTimeout(()=>{this.setState(n,()=>{this.setTimeout()})},r)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}return t.contextType=Kr,t})();function Dk(t){let e=Pe(t),n=at(e,1);return{start:e,end:n}}var Qc=class extends je{constructor(){super(...arguments),this.createDayHeaderFormatter=Te(F3)}render(){let{context:e}=this,{dates:n,dateProfile:r,datesRepDistinctDays:i,renderIntro:s}=this.props,o=this.createDayHeaderFormatter(e.options.dayHeaderFormat,i,n.length);return x(Ap,{unit:"day"},(a,l)=>x("tr",{role:"row"},s&&s("day"),n.map(u=>i?x(ap,{key:u.toISOString(),date:u,dateProfile:r,todayRange:l,colCnt:n.length,dayHeaderFormat:o}):x(lp,{key:u.getUTCDay(),dow:u.getUTCDay(),dayHeaderFormat:o}))))}};function F3(t,e,n){return t||dP(e,n)}var Yc=class{constructor(e,n){let r=e.start,{end:i}=e,s=[],o=[],a=-1;for(;r<i;)n.isHiddenDay(r)?s.push(a+.5):(a+=1,s.push(a),o.push(r)),r=at(r,1);this.dates=o,this.indices=s,this.cnt=o.length}sliceRange(e){let n=this.getDateDayIndex(e.start),r=this.getDateDayIndex(at(e.end,-1)),i=Math.max(0,n),s=Math.min(this.cnt-1,r);return i=Math.ceil(i),s=Math.floor(s),i<=s?{firstIndex:i,lastIndex:s,isStart:n===i,isEnd:r===s}:null}getDateDayIndex(e){let{indices:n}=this,r=Math.floor(Hs(this.dates[0],e));return r<0?n[0]-1:r>=n.length?n[n.length-1]+1:n[r]}},Zc=class{constructor(e,n){let{dates:r}=e,i,s,o;if(n){for(s=r[0].getUTCDay(),i=1;i<r.length&&r[i].getUTCDay()!==s;i+=1);o=Math.ceil(r.length/i)}else o=1,i=r.length;this.rowCnt=o,this.colCnt=i,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let n=0;n<this.rowCnt;n+=1){let r=[];for(let i=0;i<this.colCnt;i+=1)r.push(this.buildCell(n,i));e.push(r)}return e}buildCell(e,n){let r=this.daySeries.dates[e*this.colCnt+n];return{key:r.toISOString(),date:r}}buildHeaderDates(){let e=[];for(let n=0;n<this.colCnt;n+=1)e.push(this.cells[0][n].date);return e}sliceRange(e){let{colCnt:n}=this,r=this.daySeries.sliceRange(e),i=[];if(r){let{firstIndex:s,lastIndex:o}=r,a=s;for(;a<=o;){let l=Math.floor(a/n),u=Math.min((l+1)*n,o+1);i.push({row:l,firstCol:a%n,lastCol:(u-1)%n,isStart:r.isStart&&a===s,isEnd:r.isEnd&&u-1===o}),a=u}}return i}},Jc=class{constructor(){this.sliceBusinessHours=Te(this._sliceBusinessHours),this.sliceDateSelection=Te(this._sliceDateSpan),this.sliceEventStore=Te(this._sliceEventStore),this.sliceEventDrag=Te(this._sliceInteraction),this.sliceEventResize=Te(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,n,r,i,...s){let{eventUiBases:o}=e,a=this.sliceEventStore(e.eventStore,o,n,r,...s);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,n,r,o,i,...s),businessHourSegs:this.sliceBusinessHours(e.businessHours,n,r,i,...s),fgEventSegs:a.fg,bgEventSegs:a.bg,eventDrag:this.sliceEventDrag(e.eventDrag,o,n,r,...s),eventResize:this.sliceEventResize(e.eventResize,o,n,r,...s),eventSelection:e.eventSelection}}sliceNowDate(e,n,r,i,...s){return this._sliceDateSpan({range:{start:e,end:nr(e,1)},allDay:!1},n,r,{},i,...s)}_sliceBusinessHours(e,n,r,i,...s){return e?this._sliceEventStore(Fs(e,Wh(n,!!r),i),{},n,r,...s).bg:[]}_sliceEventStore(e,n,r,i,...s){if(e){let o=ip(e,n,Wh(r,!!i),i);return{bg:this.sliceEventRanges(o.bg,s),fg:this.sliceEventRanges(o.fg,s)}}return{bg:[],fg:[]}}_sliceInteraction(e,n,r,i,...s){if(!e)return null;let o=ip(e.mutatedEvents,n,Wh(r,!!i),i);return{segs:this.sliceEventRanges(o.fg,s),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,n,r,i,s,...o){if(!e)return[];let a=Wh(n,!!r),l=qr(e.range,a);if(l){e=Object.assign(Object.assign({},e),{range:l});let u=A3(e,i,s),d=this.sliceRange(e.range,...o);for(let h of d)h.eventRange=u;return d}return[]}sliceEventRanges(e,n){let r=[];for(let i of e)r.push(...this.sliceEventRange(i,n));return r}sliceEventRange(e,n){let r=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(r={start:r.start,end:at(r.start,1)});let i=this.sliceRange(r,...n);for(let s of i)s.eventRange=e,s.isStart=e.isStart&&s.isStart,s.isEnd=e.isEnd&&s.isEnd;return i}};function Wh(t,e){let n=t.activeRange;return e?n:{start:nr(n.start,t.slotMinTime.milliseconds),end:nr(n.end,t.slotMaxTime.milliseconds-864e5)}}function Rp(t,e,n){let{instances:r}=t.mutatedEvents;for(let i in r)if(!Da(e.validRange,r[i].range))return!1;return pP({eventDrag:t},n)}function dI(t,e,n){return Da(e.validRange,t.range)?pP({dateSelection:t},n):!1}function pP(t,e){let n=e.getCurrentData(),r=Object.assign({businessHours:n.businessHours,dateSelection:"",eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},t);return(e.pluginHooks.isPropsValid||gP)(r,e)}function gP(t,e,n={},r){return!(t.eventDrag&&!L3(t,e,n,r)||t.dateSelection&&!V3(t,e,n,r))}function L3(t,e,n,r){let i=e.getCurrentData(),s=t.eventDrag,o=s.mutatedEvents,a=o.defs,l=o.instances,u=sp(a,s.isEvent?t.eventUiBases:{"":i.selectionConfig});r&&(u=ir(u,r));let d=c3(t.eventStore,s.affectedEvents.instances),h=d.defs,m=d.instances,p=sp(h,t.eventUiBases);for(let _ in l){let I=l[_],w=I.range,R=u[I.defId],P=a[I.defId];if(!mP(R.constraints,w,d,t.businessHours,e))return!1;let{eventOverlap:O}=e.options,B=typeof O=="function"?O:null;for(let W in m){let T=m[W];if(yp(w,T.range)&&(p[T.defId].overlap===!1&&s.isEvent||R.overlap===!1||B&&!B(new Oe(e,h[T.defId],T),new Oe(e,P,I))))return!1}let me=i.eventStore;for(let W of R.allows){let T=Object.assign(Object.assign({},n),{range:I.range,allDay:P.allDay}),v=me.defs[P.defId],b=me.instances[_],C;if(v?C=new Oe(e,v,b):C=new Oe(e,P),!W(Zw(T,e),C))return!1}}return!0}function V3(t,e,n,r){let i=t.eventStore,s=i.defs,o=i.instances,a=t.dateSelection,l=a.range,{selectionConfig:u}=e.getCurrentData();if(r&&(u=r(u)),!mP(u.constraints,l,i,t.businessHours,e))return!1;let{selectOverlap:d}=e.options,h=typeof d=="function"?d:null;for(let m in o){let p=o[m];if(yp(l,p.range)&&(u.overlap===!1||h&&!h(new Oe(e,s[p.defId],p),null)))return!1}for(let m of u.allows){let p=Object.assign(Object.assign({},n),a);if(!m(Zw(p,e),null))return!1}return!0}function mP(t,e,n,r,i){for(let s of t)if(!U3(j3(s,e,n,r,i),e))return!1;return!0}function j3(t,e,n,r,i){return t==="businessHours"?cw(Fs(r,e,i)):typeof t=="string"?cw(Ep(n,s=>s.groupId===t)):typeof t=="object"&&t?cw(Fs(t,e,i)):[]}function cw(t){let{instances:e}=t,n=[];for(let r in e)n.push(e[r].range);return n}function U3(t,e){for(let n of t)if(Da(n,e))return!0;return!1}var Gh=/^(visible|hidden)$/,cp=class extends je{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,Tn(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:n,liquidIsAbsolute:r}=e,i=n&&r,s=["fc-scroller"];return n&&(r?s.push("fc-scroller-liquid-absolute"):s.push("fc-scroller-liquid")),x("div",{ref:this.handleEl,className:s.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:i&&-(e.overcomeLeft||0)||"",right:i&&-(e.overcomeRight||0)||"",bottom:i&&-(e.overcomeBottom||0)||"",marginLeft:!i&&-(e.overcomeLeft||0)||"",marginRight:!i&&-(e.overcomeRight||0)||"",marginBottom:!i&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(Gh.test(this.props.overflowX))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().width>n)return!0;return!1}needsYScrolling(){if(Gh.test(this.props.overflowY))return!1;let{el:e}=this,n=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:r}=e;for(let i=0;i<r.length;i+=1)if(r[i].getBoundingClientRect().height>n)return!0;return!1}getXScrollbarWidth(){return Gh.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return Gh.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}},Vn=class{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(n,r)=>{let{depths:i,currentMap:s}=this,o=!1,a=!1;n!==null?(o=r in s,s[r]=n,i[r]=(i[r]||0)+1,a=!0):(i[r]-=1,i[r]||(delete s[r],delete this.callbackMap[r],o=!0)),this.masterCallback&&(o&&this.masterCallback(null,String(r)),a&&this.masterCallback(n,String(r)))}}createRef(e){let n=this.callbackMap[e];return n||(n=this.callbackMap[e]=r=>{this.handleValue(r,String(e))}),n}collect(e,n,r){return Hk(this.currentMap,e,n,r)}getAll(){return mp(this.currentMap)}};function yP(t){let e=Mk(t,".fc-scrollgrid-shrink"),n=0;for(let r of e)n=Math.max(n,a4(r));return Math.ceil(n)}function fI(t,e){return t.liquid&&e.liquid}function vP(t,e){return e.maxHeight!=null||fI(t,e)}function _P(t,e,n,r){let{expandRows:i}=n;return typeof e.content=="function"?e.content(n):x("table",{role:"presentation",className:[e.tableClassName,t.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:n.tableMinWidth,width:n.clientWidth,height:i?n.clientHeight:""}},n.tableColGroupNode,x(r?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(n):e.rowContent))}function EP(t,e){return rr(t,e,pn)}function wP(t,e){let n=[];for(let r of t){let i=r.span||1;for(let s=0;s<i;s+=1)n.push(x("col",{style:{width:r.width==="shrink"?IP(e):r.width||"",minWidth:r.minWidth||""}}))}return x("colgroup",{},...n)}function IP(t){return t??4}function bP(t){for(let e of t)if(e.width==="shrink")return!0;return!1}function DP(t,e){let n=["fc-scrollgrid",e.theme.getClass("table")];return t&&n.push("fc-scrollgrid-liquid"),n}function TP(t,e){let n=["fc-scrollgrid-section",`fc-scrollgrid-section-${t.type}`,t.className];return e&&t.liquid&&t.maxHeight==null&&n.push("fc-scrollgrid-section-liquid"),t.isSticky&&n.push("fc-scrollgrid-section-sticky"),n}function hI(t){return x("div",{className:"fc-scrollgrid-sticky-shim",style:{width:t.clientWidth,minWidth:t.tableMinWidth}})}function Mp(t){let{stickyHeaderDates:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}function pI(t){let{stickyFooterScrollbar:e}=t;return(e==null||e==="auto")&&(e=t.height==="auto"||t.viewHeight==="auto"),e}var Ea=class extends je{constructor(){super(...arguments),this.processCols=Te(e=>e,EP),this.renderMicroColGroup=Te(wP),this.scrollerRefs=new Vn,this.scrollerElRefs=new Vn(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:n,context:r}=this,i=e.sections||[],s=this.processCols(e.cols),o=this.renderMicroColGroup(s,n.shrinkWidth),a=DP(e.liquid,r);e.collapsibleWidth&&a.push("fc-scrollgrid-collapsible");let l=i.length,u=0,d,h=[],m=[],p=[];for(;u<l&&(d=i[u]).type==="header";)h.push(this.renderSection(d,o,!0)),u+=1;for(;u<l&&(d=i[u]).type==="body";)m.push(this.renderSection(d,o,!1)),u+=1;for(;u<l&&(d=i[u]).type==="footer";)p.push(this.renderSection(d,o,!0)),u+=1;let _=!iI(),I={role:"rowgroup"};return x("table",{role:"grid",className:a.join(" "),style:{height:e.height}},!!(!_&&h.length)&&x("thead",I,...h),!!(!_&&m.length)&&x("tbody",I,...m),!!(!_&&p.length)&&x("tfoot",I,...p),_&&x("tbody",I,...h,...m,...p))}renderSection(e,n,r){return"outerContent"in e?x(Fe,{key:e.key},e.outerContent):x("tr",{key:e.key,role:"presentation",className:TP(e,this.props.liquid).join(" ")},this.renderChunkTd(e,n,e.chunk,r))}renderChunkTd(e,n,r,i){if("outerContent"in r)return r.outerContent;let{props:s}=this,{forceYScrollbars:o,scrollerClientWidths:a,scrollerClientHeights:l}=this.state,u=vP(s,e),d=fI(s,e),h=s.liquid?o?"scroll":u?"auto":"hidden":"visible",m=e.key,p=_P(e,r,{tableColGroupNode:n,tableMinWidth:"",clientWidth:!s.collapsibleWidth&&a[m]!==void 0?a[m]:null,clientHeight:l[m]!==void 0?l[m]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},i);return x(i?"th":"td",{ref:r.elRef,role:"presentation"},x("div",{className:`fc-scroller-harness${d?" fc-scroller-harness-liquid":""}`},x(cp,{ref:this.scrollerRefs.createRef(m),elRef:this.scrollerElRefs.createRef(m),overflowY:h,overflowX:s.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:d,liquidIsAbsolute:!0},p)))}_handleScrollerEl(e,n){let r=B3(this.props.sections,n);r&&Tn(r.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return bP(this.props.cols)?yP(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=lP(),{scrollerRefs:n,scrollerElRefs:r}=this,i=!1,s={},o={};for(let a in n.currentMap){let l=n.currentMap[a];if(l&&l.needsYScrolling()){i=!0;break}}for(let a of this.props.sections){let l=a.key,u=r.currentMap[l];if(u){let d=u.parentNode;s[l]=Math.floor(d.getBoundingClientRect().width-(i?e.y:0)),o[l]=Math.floor(d.getBoundingClientRect().height)}}return{forceYScrollbars:i,scrollerClientWidths:s,scrollerClientHeights:o}}};Ea.addStateEquality({scrollerClientWidths:pn,scrollerClientHeights:pn});function B3(t,e){for(let n of t)if(n.key===e)return n;return null}var js=class extends je{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&bk(e,this.props.seg)}}render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{eventRange:s}=i,{ui:o}=s,a={event:new Oe(n,s.def,s.instance),view:n.viewApi,timeText:e.timeText,textColor:o.textColor,backgroundColor:o.backgroundColor,borderColor:o.borderColor,isDraggable:!e.disableDragging&&_3(i,n),isStartResizable:!e.disableResizing&&E3(i,n),isEndResizable:!e.disableResizing&&w3(i),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!i.isStart,isEnd:!!i.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return x(sr,Object.assign({},e,{elRef:this.handleEl,elClasses:[...I3(a),...i.eventRange.ui.classNames,...e.elClasses||[]],renderProps:a,generatorName:"eventContent",customGenerator:r.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:r.eventClassNames,didMount:r.eventDidMount,willUnmount:r.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&bk(this.el,this.props.seg)}},Xc=class extends je{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,{ui:s}=i.eventRange,o=r.eventTimeFormat||e.defaultTimeFormat,a=Ip(i,o,n,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return x(js,Object.assign({},e,{elTag:"a",elStyle:{borderColor:s.borderColor,backgroundColor:s.backgroundColor},elAttrs:bp(i,n),defaultGenerator:H3,timeText:a}),(l,u)=>x(Fe,null,x(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:u.textColor}}),!!u.isStartResizable&&x("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!u.isEndResizable&&x("div",{className:"fc-event-resizer fc-event-resizer-end"})))}};function H3(t){return x("div",{className:"fc-event-main-frame"},t.timeText&&x("div",{className:"fc-event-time"},t.timeText),x("div",{className:"fc-event-title-container"},x("div",{className:"fc-event-title fc-sticky"},t.event.title||x(Fe,null,"\xA0"))))}var $3=Ye({day:"numeric"}),wa=class extends je{constructor(){super(...arguments),this.refineRenderProps=ba(z3)}render(){let{props:e,context:n}=this,{options:r}=n,i=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:n.viewApi,dateEnv:n.dateEnv,monthStartFormat:r.monthStartFormat});return x(sr,Object.assign({},e,{elClasses:[...Tp(i,n.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),i.isDisabled?{}:{"data-date":au(e.date)}),renderProps:i,generatorName:"dayCellContent",customGenerator:r.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:i.isDisabled?void 0:r.dayCellClassNames,didMount:r.dayCellDidMount,willUnmount:r.dayCellWillUnmount}))}};function Np(t){return!!(t.dayCellContent||vw("dayCellContent",t))}function z3(t){let{date:e,dateEnv:n,dateProfile:r,isMonthStart:i}=t,s=cI(e,t.todayRange,null,r),o=t.showDayNumber?n.format(e,i?t.monthStartFormat:$3):"";return Object.assign(Object.assign(Object.assign({date:n.toDate(e),view:t.viewApi},s),{isMonthStart:i,dayNumberText:o}),t.extraRenderProps)}var eu=class extends je{render(){let{props:e}=this,{seg:n}=e;return x(js,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:n.eventRange.ui.backgroundColor},defaultGenerator:q3,seg:n,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}};function q3(t){let{title:e}=t.event;return e&&x("div",{className:"fc-event-title"},t.event.title)}function gI(t){return x("div",{className:`fc-${t}`})}var mI=t=>x(Kr.Consumer,null,e=>{let{dateEnv:n,options:r}=e,{date:i}=t,s=r.weekNumberFormat||t.defaultFormat,o=n.computeWeekNumber(i),a=n.format(i,s);return x(sr,Object.assign({},t,{renderProps:{num:o,text:a,date:i},generatorName:"weekNumberContent",customGenerator:r.weekNumberContent,defaultGenerator:W3,classNameGenerator:r.weekNumberClassNames,didMount:r.weekNumberDidMount,willUnmount:r.weekNumberWillUnmount}))});function W3(t){return t.text}var uw=10,Iw=class extends je{constructor(){super(...arguments),this.state={titleId:Bs()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&Tn(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{let n=dp(e);this.rootEl.contains(n)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:n}=this.context,{props:r,state:i}=this,s=["fc-popover",e.getClass("popover")].concat(r.extraClassNames||[]);return dk(x("div",Object.assign({},r.extraAttrs,{id:r.id,className:s.join(" "),"aria-labelledby":i.titleId,ref:this.handleRootEl}),x("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},x("span",{className:"fc-popover-title",id:i.titleId},r.title),x("span",{className:"fc-popover-close "+e.getIconClass("close"),title:n.closeHint,onClick:this.handleCloseClick})),x("div",{className:"fc-popover-body "+e.getClass("popoverContent")},r.children)),r.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:n,alignGridTop:r}=this.props,{rootEl:i}=this,s=P3(n);if(s){let o=i.getBoundingClientRect(),a=r?ot(n,".fc-scrollgrid").getBoundingClientRect().top:s.top,l=e?s.right-o.width:s.left;a=Math.max(a,uw),l=Math.min(l,document.documentElement.clientWidth-uw-o.width),l=Math.max(l,uw);let u=i.offsetParent.getBoundingClientRect();Us(i,{top:a-u.top,left:l-u.left})}}},bw=class extends Ln{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:n}=this.context,{props:r}=this,{startDate:i,todayRange:s,dateProfile:o}=r,a=n.format(i,e.dayPopoverFormat);return x(wa,{elRef:this.handleRootEl,date:i,dateProfile:o,todayRange:s},(l,u,d)=>x(Iw,{elRef:d.ref,id:r.id,title:a,extraClassNames:["fc-more-popover"].concat(d.className||[]),extraAttrs:d,parentEl:r.parentEl,alignmentEl:r.alignmentEl,alignGridTop:r.alignGridTop,onClose:r.onClose},Np(e)&&x(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),r.children))}queryHit(e,n,r,i){let{rootEl:s,props:o}=this;return e>=0&&e<r&&n>=0&&n<i?{dateProfile:o.dateProfile,dateSpan:Object.assign({allDay:!o.forceTimed,range:{start:o.startDate,end:o.endDate}},o.extraDateSpan),dayEl:s,rect:{left:0,top:0,right:r,bottom:i},layer:1}:null}},tu=class extends je{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:Bs()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&Tn(this.props.elRef,e)},this.handleClick=e=>{let{props:n,context:r}=this,{moreLinkClick:i}=r.options,s=Tk(n).start;function o(a){let{def:l,instance:u,range:d}=a.eventRange;return{event:new Oe(r,l,u),start:r.dateEnv.toDate(d.start),end:r.dateEnv.toDate(d.end),isStart:a.isStart,isEnd:a.isEnd}}typeof i=="function"&&(i=i({date:s,allDay:!!n.allDayDate,allSegs:n.allSegs.map(o),hiddenSegs:n.hiddenSegs.map(o),jsEvent:e,view:r.viewApi})),!i||i==="popover"?this.setState({isPopoverOpen:!0}):typeof i=="string"&&r.calendarApi.zoomTo(s,i)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:n}=this;return x(Kr.Consumer,null,r=>{let{viewApi:i,options:s,calendarApi:o}=r,{moreLinkText:a}=s,{moreCnt:l}=e,u=Tk(e),d=typeof a=="function"?a.call(o,l):`+${l} ${a}`,h=Ia(s.moreLinkHint,[l],d),m={num:l,shortText:`+${l}`,text:d,view:i};return x(Fe,null,!!e.moreCnt&&x(sr,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),xk(this.handleClick)),{title:h,"aria-expanded":n.isPopoverOpen,"aria-controls":n.isPopoverOpen?n.popoverId:""}),renderProps:m,generatorName:"moreLinkContent",customGenerator:s.moreLinkContent,defaultGenerator:e.defaultGenerator||G3,classNameGenerator:s.moreLinkClassNames,didMount:s.moreLinkDidMount,willUnmount:s.moreLinkWillUnmount},e.children),n.isPopoverOpen&&x(bw,{id:n.popoverId,startDate:u.start,endDate:u.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=ot(this.linkEl,".fc-view-harness"))}};function G3(t){return t.text}function Tk(t){if(t.allDayDate)return{start:t.allDayDate,end:at(t.allDayDate,1)};let{hiddenSegs:e}=t;return{start:CP(e),end:Q3(e)}}function CP(t){return t.reduce(K3).eventRange.range.start}function K3(t,e){return t.eventRange.range.start<e.eventRange.range.start?t:e}function Q3(t){return t.reduce(Y3).eventRange.range.end}function Y3(t,e){return t.eventRange.range.end>e.eventRange.range.end?t:e}var Dw=class{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let n of this.handlers)n(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}},nu=class extends Dw{constructor(){super(...arguments),this.map=new Map}handle(e){let{map:n}=this,r=!1;e.isActive?(n.set(e.id,e),r=!0):n.has(e.id)&&(n.delete(e.id),r=!0),r&&this.set(n)}};var Z3=[],kP={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},PP=Object.assign(Object.assign({},kP),{buttonHints:{prev:"Previous $0",next:"Next $0",today(t,e){return e==="day"?"Today":`This ${t}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(t){return`Show ${t} more event${t===1?"":"s"}`}});function J3(t){let e=t.length>0?t[0].code:"en",n=Z3.concat(t),r={en:PP};for(let i of n)r[i.code]=i;return{map:r,defaultCode:e}}function OP(t,e){return typeof t=="object"&&!Array.isArray(t)?FP(t.code,[t.code],t):X3(t,e)}function X3(t,e){let n=[].concat(t||[]),r=e6(n,e)||PP;return FP(t,n,r)}function e6(t,e){for(let n=0;n<t.length;n+=1){let r=t[n].toLocaleLowerCase().split("-");for(let i=r.length;i>0;i-=1){let s=r.slice(0,i).join("-");if(e[s])return e[s]}}return null}function FP(t,e,n){let r=gp([kP,n],["buttonText"]);delete r.code;let{week:i}=r;return delete r.week,{codeArg:t,codes:e,week:i,simpleNumberFormat:new Intl.NumberFormat(t),options:r}}function lr(t){return{id:Gr(),name:t.name,premiumReleaseDate:t.premiumReleaseDate?new Date(t.premiumReleaseDate):void 0,deps:t.deps||[],reducers:t.reducers||[],isLoadingFuncs:t.isLoadingFuncs||[],contextInit:[].concat(t.contextInit||[]),eventRefiners:t.eventRefiners||{},eventDefMemberAdders:t.eventDefMemberAdders||[],eventSourceRefiners:t.eventSourceRefiners||{},isDraggableTransformers:t.isDraggableTransformers||[],eventDragMutationMassagers:t.eventDragMutationMassagers||[],eventDefMutationAppliers:t.eventDefMutationAppliers||[],dateSelectionTransformers:t.dateSelectionTransformers||[],datePointTransforms:t.datePointTransforms||[],dateSpanTransforms:t.dateSpanTransforms||[],views:t.views||{},viewPropsTransformers:t.viewPropsTransformers||[],isPropsValid:t.isPropsValid||null,externalDefTransforms:t.externalDefTransforms||[],viewContainerAppends:t.viewContainerAppends||[],eventDropTransformers:t.eventDropTransformers||[],componentInteractions:t.componentInteractions||[],calendarInteractions:t.calendarInteractions||[],themeClasses:t.themeClasses||{},eventSourceDefs:t.eventSourceDefs||[],cmdFormatter:t.cmdFormatter,recurringTypes:t.recurringTypes||[],namedTimeZonedImpl:t.namedTimeZonedImpl,initialView:t.initialView||"",elementDraggingImpl:t.elementDraggingImpl,optionChangeHandlers:t.optionChangeHandlers||{},scrollGridImpl:t.scrollGridImpl||null,listenerRefiners:t.listenerRefiners||{},optionRefiners:t.optionRefiners||{},propSetHandlers:t.propSetHandlers||{}}}function t6(t,e){let n={},r={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function i(s){for(let o of s){let a=o.name,l=n[a];l===void 0?(n[a]=o.id,i(o.deps),r=r6(r,o)):l!==o.id&&console.warn(`Duplicate plugin '${a}'`)}}return t&&i(t),i(e),r}function n6(){let t=[],e=[],n;return(r,i)=>((!n||!rr(r,t)||!rr(i,e))&&(n=t6(r,i)),t=r,e=i,n)}function r6(t,e){return{premiumReleaseDate:i6(t.premiumReleaseDate,e.premiumReleaseDate),reducers:t.reducers.concat(e.reducers),isLoadingFuncs:t.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:t.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},t.eventRefiners),e.eventRefiners),eventDefMemberAdders:t.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},t.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:t.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:t.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:t.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:t.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:t.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:t.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},t.views),e.views),viewPropsTransformers:t.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||t.isPropsValid,externalDefTransforms:t.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:t.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:t.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:t.calendarInteractions.concat(e.calendarInteractions),componentInteractions:t.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},t.themeClasses),e.themeClasses),eventSourceDefs:t.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||t.cmdFormatter,recurringTypes:t.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||t.namedTimeZonedImpl,initialView:t.initialView||e.initialView,elementDraggingImpl:t.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},t.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||t.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},t.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},t.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},t.propSetHandlers),e.propSetHandlers)}}function i6(t,e){return t===void 0?e:e===void 0?t:new Date(Math.max(t.valueOf(),e.valueOf()))}var ar=class extends zr{};ar.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};ar.prototype.baseIconClass="fc-icon";ar.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};ar.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};ar.prototype.iconOverrideOption="buttonIcons";ar.prototype.iconOverrideCustomButtonOption="icon";ar.prototype.iconOverridePrefix="fc-icon-";function s6(t,e){let n={},r;for(r in t)vI(r,n,t,e);for(r in e)vI(r,n,t,e);return n}function vI(t,e,n,r){if(e[t])return e[t];let i=o6(t,e,n,r);return i&&(e[t]=i),i}function o6(t,e,n,r){let i=n[t],s=r[t],o=d=>i&&i[d]!==null?i[d]:s&&s[d]!==null?s[d]:null,a=o("component"),l=o("superType"),u=null;if(l){if(l===t)throw new Error("Can't have a custom view type that references itself");u=vI(l,e,n,r)}return!a&&u&&(a=u.component),a?{type:t,component:a,defaults:Object.assign(Object.assign({},u?u.defaults:{}),i?i.rawOptions:{}),overrides:Object.assign(Object.assign({},u?u.overrides:{}),s?s.rawOptions:{})}:null}function SP(t){return ir(t,a6)}function a6(t){let e=typeof t=="function"?{component:t}:t,{component:n}=e;return e.content?n=AP(e):n&&!(n.prototype instanceof je)&&(n=AP(Object.assign(Object.assign({},e),{content:n}))),{superType:e.type,component:n,rawOptions:e}}function AP(t){return e=>x(Kr.Consumer,null,n=>x(sr,{elTag:"div",elClasses:zw(n.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:n.options.nextDayThreshold}),generatorName:void 0,customGenerator:t.content,classNameGenerator:t.classNames,didMount:t.didMount,willUnmount:t.willUnmount}))}function l6(t,e,n,r){let i=SP(t),s=SP(e.views),o=s6(i,s);return ir(o,a=>c6(a,s,e,n,r))}function c6(t,e,n,r,i){let s=t.overrides.duration||t.defaults.duration||r.duration||n.duration,o=null,a="",l="",u={};if(s&&(o=u6(s),o)){let m=Fc(o);a=m.unit,m.value===1&&(l=a,u=e[a]?e[a].rawOptions:{})}let d=m=>{let p=m.buttonText||{},_=t.defaults.buttonTextKey;return _!=null&&p[_]!=null?p[_]:p[t.type]!=null?p[t.type]:p[l]!=null?p[l]:null},h=m=>{let p=m.buttonHints||{},_=t.defaults.buttonTextKey;return _!=null&&p[_]!=null?p[_]:p[t.type]!=null?p[t.type]:p[l]!=null?p[l]:null};return{type:t.type,component:t.component,duration:o,durationUnit:a,singleUnit:l,optionDefaults:t.defaults,optionOverrides:Object.assign(Object.assign({},u),t.overrides),buttonTextOverride:d(r)||d(n)||t.overrides.buttonText,buttonTextDefault:d(i)||t.defaults.buttonText||d(Ui)||t.type,buttonTitleOverride:h(r)||h(n)||t.overrides.buttonHint,buttonTitleDefault:h(i)||t.defaults.buttonHint||h(Ui)}}var RP={};function u6(t){let e=JSON.stringify(t),n=RP[e];return n===void 0&&(n=De(t),RP[e]=n),n}function d6(t,e){switch(e.type){case"CHANGE_VIEW_TYPE":t=e.viewType}return t}function f6(t,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},t),{[e.optionName]:e.rawOptionValue});default:return t}}function h6(t,e,n,r){let i;switch(e.type){case"CHANGE_VIEW_TYPE":return r.build(e.dateMarker||n);case"CHANGE_DATE":return r.build(e.dateMarker);case"PREV":if(i=r.buildPrev(t,n),i.isValid)return i;break;case"NEXT":if(i=r.buildNext(t,n),i.isValid)return i;break}return t}function p6(t,e,n){let r=e?e.activeRange:null;return VP({},w6(t,n),r,n)}function g6(t,e,n,r){let i=n?n.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return VP(t,e.sources,i,r);case"REMOVE_EVENT_SOURCE":return y6(t,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?jP(t,i,r):t;case"FETCH_EVENT_SOURCES":return SI(t,e.sourceIds?Bw(e.sourceIds):UP(t,r),i,e.isRefetch||!1,r);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return E6(t,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return t}}function m6(t,e,n){let r=e?e.activeRange:null;return SI(t,UP(t,n),r,!0,n)}function LP(t){for(let e in t)if(t[e].isFetching)return!0;return!1}function VP(t,e,n,r){let i={};for(let s of e)i[s.sourceId]=s;return n&&(i=jP(i,n,r)),Object.assign(Object.assign({},t),i)}function y6(t,e){return $r(t,n=>n.sourceId!==e)}function jP(t,e,n){return SI(t,$r(t,r=>v6(r,e,n)),e,!1,n)}function v6(t,e,n){return BP(t,n)?!n.options.lazyFetching||!t.fetchRange||t.isFetching||e.start<t.fetchRange.start||e.end>t.fetchRange.end:!t.latestFetchId}function SI(t,e,n,r,i){let s={};for(let o in t){let a=t[o];e[o]?s[o]=_6(a,n,r,i):s[o]=a}return s}function _6(t,e,n,r){let{options:i,calendarApi:s}=r,o=r.pluginHooks.eventSourceDefs[t.sourceDefId],a=Gr();return o.fetch({eventSource:t,range:e,isRefetch:n,context:r},l=>{let{rawEvents:u}=l;i.eventSourceSuccess&&(u=i.eventSourceSuccess.call(s,u,l.response)||u),t.success&&(u=t.success.call(s,u,l.response)||u),r.dispatch({type:"RECEIVE_EVENTS",sourceId:t.sourceId,fetchId:a,fetchRange:e,rawEvents:u})},l=>{let u=!1;i.eventSourceFailure&&(i.eventSourceFailure.call(s,l),u=!0),t.failure&&(t.failure(l),u=!0),u||console.warn(l.message,l),r.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:t.sourceId,fetchId:a,fetchRange:e,error:l})}),Object.assign(Object.assign({},t),{isFetching:!0,latestFetchId:a})}function E6(t,e,n,r){let i=t[e];return i&&n===i.latestFetchId?Object.assign(Object.assign({},t),{[e]:Object.assign(Object.assign({},i),{isFetching:!1,fetchRange:r})}):t}function UP(t,e){return $r(t,n=>BP(n,e))}function w6(t,e){let n=Kw(e),r=[].concat(t.eventSources||[]),i=[];t.initialEvents&&r.unshift(t.initialEvents),t.events&&r.unshift(t.events);for(let s of r){let o=Gw(s,e,n);o&&i.push(o)}return i}function BP(t,e){return!e.pluginHooks.eventSourceDefs[t.sourceDefId].ignoreRange}function I6(t,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return t}}function b6(t,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return t}}function D6(t,e){let n;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function T6(t,e){let n;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return n=e.state,{affectedEvents:n.affectedEvents,mutatedEvents:n.mutatedEvents,isEvent:n.isEvent};default:return t}}function C6(t,e,n,r,i){let s=t.headerToolbar?MP(t.headerToolbar,t,e,n,r,i):null,o=t.footerToolbar?MP(t.footerToolbar,t,e,n,r,i):null;return{header:s,footer:o}}function MP(t,e,n,r,i,s){let o={},a=[],l=!1;for(let u in t){let d=t[u],h=S6(d,e,n,r,i,s);o[u]=h.widgets,a.push(...h.viewsWithButtons),l=l||h.hasTitle}return{sectionWidgets:o,viewsWithButtons:a,hasTitle:l}}function S6(t,e,n,r,i,s){let o=e.direction==="rtl",a=e.customButtons||{},l=n.buttonText||{},u=e.buttonText||{},d=n.buttonHints||{},h=e.buttonHints||{},m=t?t.split(" "):[],p=[],_=!1;return{widgets:m.map(w=>w.split(",").map(R=>{if(R==="title")return _=!0,{buttonName:R};let P,O,B,me,W,T;if(P=a[R])B=v=>{P.click&&P.click.call(v.target,v,v.target)},(me=r.getCustomButtonIconClass(P))||(me=r.getIconClass(R,o))||(W=P.text),T=P.hint||P.text;else if(O=i[R]){p.push(R),B=()=>{s.changeView(R)},(W=O.buttonTextOverride)||(me=r.getIconClass(R,o))||(W=O.buttonTextDefault);let v=O.buttonTextOverride||O.buttonTextDefault;T=Ia(O.buttonTitleOverride||O.buttonTitleDefault||e.viewHint,[v,R],v)}else if(s[R])if(B=()=>{s[R]()},(W=l[R])||(me=r.getIconClass(R,o))||(W=u[R]),R==="prevYear"||R==="nextYear"){let v=R==="prevYear"?"prev":"next";T=Ia(d[v]||h[v],[u.year||"year","year"],u[R])}else T=v=>Ia(d[R]||h[R],[u[v]||v,v],u[R]);return{buttonName:R,buttonClick:B,buttonIcon:me,buttonText:W,buttonHint:T}})),viewsWithButtons:p,hasTitle:_}}var _I=class{constructor(e,n,r){this.type=e,this.getCurrentData=n,this.dateEnv=r}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}},A6={ignoreRange:!0,parseMeta(t){return Array.isArray(t.events)?t.events:null},fetch(t,e){e({rawEvents:t.eventSource.meta})}},R6=lr({name:"array-event-source",eventSourceDefs:[A6]}),M6={parseMeta(t){return typeof t.events=="function"?t.events:null},fetch(t,e,n){let{dateEnv:r}=t.context,i=t.eventSource.meta;nI(i.bind(null,tI(t.range,r)),s=>e({rawEvents:s}),n)}},N6=lr({name:"func-event-source",eventSourceDefs:[M6]}),x6={method:String,extraParams:N,startParam:String,endParam:String,timeZoneParam:String},k6={parseMeta(t){return t.url&&(t.format==="json"||!t.format)?{url:t.url,format:"json",method:(t.method||"GET").toUpperCase(),extraParams:t.extraParams,startParam:t.startParam,endParam:t.endParam,timeZoneParam:t.timeZoneParam}:null},fetch(t,e,n){let{meta:r}=t.eventSource,i=O6(r,t.range,t.context);rI(r.method,r.url,i).then(([s,o])=>{e({rawEvents:s,response:o})},n)}},P6=lr({name:"json-event-source",eventSourceRefiners:x6,eventSourceDefs:[k6]});function O6(t,e,n){let{dateEnv:r,options:i}=n,s,o,a,l,u={};return s=t.startParam,s==null&&(s=i.startParam),o=t.endParam,o==null&&(o=i.endParam),a=t.timeZoneParam,a==null&&(a=i.timeZoneParam),typeof t.extraParams=="function"?l=t.extraParams():l=t.extraParams||{},Object.assign(u,l),u[s]=r.formatIso(e.start),u[o]=r.formatIso(e.end),r.timeZone!=="local"&&(u[a]=r.timeZone),u}var F6={daysOfWeek:N,startTime:De,endTime:De,duration:De,startRecur:N,endRecur:N},L6={parse(t,e){if(t.daysOfWeek||t.startTime||t.endTime||t.startRecur||t.endRecur){let n={daysOfWeek:t.daysOfWeek||null,startTime:t.startTime||null,endTime:t.endTime||null,startRecur:t.startRecur?e.createMarker(t.startRecur):null,endRecur:t.endRecur?e.createMarker(t.endRecur):null},r;return t.duration&&(r=t.duration),!r&&t.startTime&&t.endTime&&(r=Lk(t.endTime,t.startTime)),{allDayGuess:!t.startTime&&!t.endTime,duration:r,typeData:n}}return null},expand(t,e,n){let r=qr(e,{start:t.startRecur,end:t.endRecur});return r?j6(t.daysOfWeek,t.startTime,r,n):[]}},V6=lr({name:"simple-recurring-event",recurringTypes:[L6],eventRefiners:F6});function j6(t,e,n,r){let i=t?Bw(t):null,s=Pe(n.start),o=n.end,a=[];for(;s<o;){let l;(!i||i[s.getUTCDay()])&&(e?l=r.add(s,e):l=s,a.push(l)),s=at(s,1)}return a}var U6=lr({name:"change-handler",optionChangeHandlers:{events(t,e){NP([t],e)},eventSources:NP}});function NP(t,e){let n=mp(e.getCurrentData().eventSources);if(n.length===1&&t.length===1&&Array.isArray(n[0]._raw)&&Array.isArray(t[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:n[0].sourceId,rawEvents:t[0]});return}let r=[];for(let i of t){let s=!1;for(let o=0;o<n.length;o+=1)if(n[o]._raw===i){n.splice(o,1),s=!0;break}s||r.push(i)}for(let i of n)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:i.sourceId});for(let i of r)e.calendarApi.addEventSource(i)}function B6(t,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},tI(t.activeRange,e.dateEnv)),{view:e.viewApi}))}function H6(t,e){let{emitter:n}=e;n.hasHandlers("eventsSet")&&n.trigger("eventsSet",or(t,e))}var $6=[R6,N6,P6,V6,U6,lr({name:"misc",isLoadingFuncs:[t=>LP(t.eventSources)],propSetHandlers:{dateProfile:B6,eventStore:H6}})],EI=class{constructor(e,n){this.runTaskOption=e,this.drainedOption=n,this.queue=[],this.delayedRunner=new Ps(this.drain.bind(this))}request(e,n){this.queue.push(e),this.delayedRunner.request(n)}pause(e){this.delayedRunner.pause(e)}resume(e,n){this.delayedRunner.resume(e,n)}drain(){let{queue:e}=this;for(;e.length;){let n=[],r;for(;r=e.shift();)this.runTask(r),n.push(r);this.drained(n)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}};function z6(t,e,n){let r;return/^(year|month)$/.test(t.currentRangeUnit)?r=t.currentRange:r=t.activeRange,n.formatRange(r.start,r.end,Ye(e.titleFormat||q6(t)),{isEndExclusive:t.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function q6(t){let{currentRangeUnit:e}=t;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let n=va(t.currentRange.start,t.currentRange.end);return n!==null&&n>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}var wI=class{constructor(e){this.computeCurrentViewData=Te(this._computeCurrentViewData),this.organizeRawLocales=Te(J3),this.buildLocale=Te(OP),this.buildPluginHooks=n6(),this.buildDateEnv=Te(W6),this.buildTheme=Te(G6),this.parseToolbars=Te(C6),this.buildViewSpecs=Te(l6),this.buildDateProfileGenerator=ba(K6),this.buildViewApi=Te(Q6),this.buildViewUiProps=ba(J6),this.buildEventUiBySource=Te(Y6,pn),this.buildEventUiBases=Te(Z6),this.parseContextBusinessHours=ba(X6),this.buildTitle=Te(z6),this.emitter=new Wr,this.actionRunner=new EI(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=m=>{this.actionRunner.request(m)},this.props=e,this.actionRunner.pause();let n={},r=this.computeOptionsData(e.optionOverrides,n,e.calendarApi),i=r.calendarOptions.initialView||r.pluginHooks.initialView,s=this.computeCurrentViewData(i,r,e.optionOverrides,n);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(s.options);let o=Yk(r.calendarOptions,r.dateEnv),a=s.dateProfileGenerator.build(o);tr(a.activeRange,o)||(o=a.currentRange.start);let l={dateEnv:r.dateEnv,options:r.calendarOptions,pluginHooks:r.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData};for(let m of r.pluginHooks.contextInit)m(l);let u=p6(r.calendarOptions,a,l),d={dynamicOptionOverrides:n,currentViewType:i,currentDate:o,dateProfile:a,businessHours:this.parseContextBusinessHours(l),eventSources:u,eventUiBases:{},eventStore:$t(),renderableEventStore:$t(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(l).selectionConfig},h=Object.assign(Object.assign({},l),d);for(let m of r.pluginHooks.reducers)Object.assign(d,m(null,null,h));yI(d,l)&&this.emitter.trigger("loading",!0),this.state=d,this.updateData(),this.actionRunner.resume()}resetOptions(e,n){let{props:r}=this;n===void 0?r.optionOverrides=e:(r.optionOverrides=Object.assign(Object.assign({},r.optionOverrides||{}),e),this.optionsForRefining.push(...n)),(n===void 0||n.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:n,state:r,emitter:i}=this,s=f6(r.dynamicOptionOverrides,e),o=this.computeOptionsData(n.optionOverrides,s,n.calendarApi),a=d6(r.currentViewType,e),l=this.computeCurrentViewData(a,o,n.optionOverrides,s);n.calendarApi.currentDataManager=this,i.setThisContext(n.calendarApi),i.setOptions(l.options);let u={dateEnv:o.dateEnv,options:o.calendarOptions,pluginHooks:o.pluginHooks,calendarApi:n.calendarApi,dispatch:this.dispatch,emitter:i,getCurrentData:this.getCurrentData},{currentDate:d,dateProfile:h}=r;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(h=l.dateProfileGenerator.build(d)),d=Qk(d,e),h=h6(h,e,d,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!tr(h.currentRange,d))&&(d=h.currentRange.start);let m=g6(r.eventSources,e,h,u),p=eP(r.eventStore,e,m,h,u),I=LP(m)&&!l.options.progressiveEventRendering&&r.renderableEventStore||p,{eventUiSingleBase:w,selectionConfig:R}=this.buildViewUiProps(u),P=this.buildEventUiBySource(m),O=this.buildEventUiBases(I.defs,w,P),B={dynamicOptionOverrides:s,currentViewType:a,currentDate:d,dateProfile:h,eventSources:m,eventStore:p,renderableEventStore:I,selectionConfig:R,eventUiBases:O,businessHours:this.parseContextBusinessHours(u),dateSelection:I6(r.dateSelection,e),eventSelection:b6(r.eventSelection,e),eventDrag:D6(r.eventDrag,e),eventResize:T6(r.eventResize,e)},me=Object.assign(Object.assign({},u),B);for(let v of o.pluginHooks.reducers)Object.assign(B,v(r,e,me));let W=yI(r,u),T=yI(B,u);!W&&T?i.trigger("loading",!0):W&&!T&&i.trigger("loading",!1),this.state=B,n.onAction&&n.onAction(e)}updateData(){let{props:e,state:n}=this,r=this.data,i=this.computeOptionsData(e.optionOverrides,n.dynamicOptionOverrides,e.calendarApi),s=this.computeCurrentViewData(n.currentViewType,i,e.optionOverrides,n.dynamicOptionOverrides),o=this.data=Object.assign(Object.assign(Object.assign({viewTitle:this.buildTitle(n.dateProfile,s.options,i.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},i),s),n),a=i.pluginHooks.optionChangeHandlers,l=r&&r.calendarOptions,u=i.calendarOptions;if(l&&l!==u){l.timeZone!==u.timeZone&&(n.eventSources=o.eventSources=m6(o.eventSources,n.dateProfile,o),n.eventStore=o.eventStore=Qw(o.eventStore,r.dateEnv,o.dateEnv),n.renderableEventStore=o.renderableEventStore=Qw(o.renderableEventStore,r.dateEnv,o.dateEnv));for(let d in a)(this.optionsForHandling.indexOf(d)!==-1||l[d]!==u[d])&&a[d](u[d],o)}this.optionsForHandling=[],e.onData&&e.onData(o)}computeOptionsData(e,n,r){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&n===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:i,pluginHooks:s,localeDefaults:o,availableLocaleData:a,extra:l}=this.processRawCalendarOptions(e,n);xP(l);let u=this.buildDateEnv(i.timeZone,i.locale,i.weekNumberCalculation,i.firstDay,i.weekText,s,a,i.defaultRangeSeparator),d=this.buildViewSpecs(s.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,o),h=this.buildTheme(i,s),m=this.parseToolbars(i,this.stableOptionOverrides,h,d,r);return this.stableCalendarOptionsData={calendarOptions:i,pluginHooks:s,dateEnv:u,viewSpecs:d,theme:h,toolbarConfig:m,localeDefaults:o,availableRawLocales:a.map}}processRawCalendarOptions(e,n){let{locales:r,locale:i}=hp([Ui,e,n]),s=this.organizeRawLocales(r),o=s.map,a=this.buildLocale(i||s.defaultCode,o).options,l=this.buildPluginHooks(e.plugins||[],$6),u=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Vw),jw),Uw),l.listenerRefiners),l.optionRefiners),d={},h=hp([Ui,a,e,n]),m={},p=this.currentCalendarOptionsInput,_=this.currentCalendarOptionsRefined,I=!1;for(let w in h)this.optionsForRefining.indexOf(w)===-1&&(h[w]===p[w]||Bi[w]&&w in p&&Bi[w](p[w],h[w]))?m[w]=_[w]:u[w]?(m[w]=u[w](h[w]),I=!0):d[w]=p[w];return I&&(this.currentCalendarOptionsInput=h,this.currentCalendarOptionsRefined=m,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=n),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:s,localeDefaults:a,extra:d}}_computeCurrentViewData(e,n,r,i){let s=n.viewSpecs[e];if(!s)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:o,extra:a}=this.processRawViewOptions(s,n.pluginHooks,n.localeDefaults,r,i);xP(a);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:s.optionDefaults.dateProfileGeneratorClass,duration:s.duration,durationUnit:s.durationUnit,usesMinMaxTime:s.optionDefaults.usesMinMaxTime,dateEnv:n.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:o.slotMinTime,slotMaxTime:o.slotMaxTime,showNonCurrentDates:o.showNonCurrentDates,dayCount:o.dayCount,dateAlignment:o.dateAlignment,dateIncrement:o.dateIncrement,hiddenDays:o.hiddenDays,weekends:o.weekends,nowInput:o.now,validRangeInput:o.validRange,visibleRangeInput:o.visibleRange,fixedWeekCount:o.fixedWeekCount}),u=this.buildViewApi(e,this.getCurrentData,n.dateEnv);return{viewSpec:s,options:o,dateProfileGenerator:l,viewApi:u}}processRawViewOptions(e,n,r,i,s){let o=hp([Ui,e.optionDefaults,r,i,e.optionOverrides,s]),a=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},Vw),jw),Uw),Bk),n.listenerRefiners),n.optionRefiners),l={},u=this.currentViewOptionsInput,d=this.currentViewOptionsRefined,h=!1,m={};for(let p in o)o[p]===u[p]||Bi[p]&&Bi[p](o[p],u[p])?l[p]=d[p]:(o[p]===this.currentCalendarOptionsInput[p]||Bi[p]&&Bi[p](o[p],this.currentCalendarOptionsInput[p])?p in this.currentCalendarOptionsRefined&&(l[p]=this.currentCalendarOptionsRefined[p]):a[p]?l[p]=a[p](o[p]):m[p]=o[p],h=!0);return h&&(this.currentViewOptionsInput=o,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:m}}};function W6(t,e,n,r,i,s,o,a){let l=OP(e||o.defaultCode,o.map);return new Lc({calendarSystem:"gregory",timeZone:t,namedTimeZoneImpl:s.namedTimeZonedImpl,locale:l,weekNumberCalculation:n,firstDay:r,weekText:i,cmdFormatter:s.cmdFormatter,defaultSeparator:a})}function G6(t,e){let n=e.themeClasses[t.themeSystem]||ar;return new n(t)}function K6(t){let e=t.dateProfileGeneratorClass||Os;return new e(t)}function Q6(t,e,n){return new _I(t,e,n)}function Y6(t){return ir(t,e=>e.ui)}function Z6(t,e,n){let r={"":e};for(let i in t){let s=t[i];s.sourceId&&n[s.sourceId]&&(r[i]=n[s.sourceId])}return r}function J6(t){let{options:e}=t;return{eventUiSingleBase:Ca({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},t),selectionConfig:Ca({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},t)}}function yI(t,e){for(let n of e.pluginHooks.isLoadingFuncs)if(n(t))return!0;return!1}function X6(t){return Yw(t.options.businessHours,t)}function xP(t,e){for(let n in t)console.warn(`Unknown option '${n}'`+(e?` for view '${e}'`:""))}var II=class extends je{render(){let e=this.props.widgetGroups.map(n=>this.renderWidgetGroup(n));return x("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:n}=this,{theme:r}=this.context,i=[],s=!0;for(let o of e){let{buttonName:a,buttonClick:l,buttonText:u,buttonIcon:d,buttonHint:h}=o;if(a==="title")s=!1,i.push(x("h2",{className:"fc-toolbar-title",id:n.titleId},n.title));else{let m=a===n.activeButton,p=!n.isTodayEnabled&&a==="today"||!n.isPrevEnabled&&a==="prev"||!n.isNextEnabled&&a==="next",_=[`fc-${a}-button`,r.getClass("button")];m&&_.push(r.getClass("buttonActive")),i.push(x("button",{type:"button",title:typeof h=="function"?h(n.navUnit):h,disabled:p,"aria-pressed":m,className:_.join(" "),onClick:l},u||(d?x("span",{className:d,role:"img"}):"")))}}if(i.length>1){let o=s&&r.getClass("buttonGroup")||"";return x("div",{className:o},...i)}return i[0]}},xp=class extends je{render(){let{model:e,extraClassName:n}=this.props,r=!1,i,s,o=e.sectionWidgets,a=o.center;return o.left?(r=!0,i=o.left):i=o.start,o.right?(r=!0,s=o.right):s=o.end,x("div",{className:[n||"","fc-toolbar",r?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",i||[]),this.renderSection("center",a||[]),this.renderSection("end",s||[]))}renderSection(e,n){let{props:r}=this;return x(II,{key:e,widgetGroups:n,title:r.title,navUnit:r.navUnit,activeButton:r.activeButton,isTodayEnabled:r.isTodayEnabled,isPrevEnabled:r.isPrevEnabled,isNextEnabled:r.isNextEnabled,titleId:r.titleId})}},bI=class extends je{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,Tn(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:n}=this,{aspectRatio:r}=e,i=["fc-view-harness",r||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],s="",o="";return r?n.availableWidth!==null?s=n.availableWidth/r:o=`${1/r*100}%`:s=e.height||"",x("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:i.join(" "),style:{height:s,paddingBottom:o}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}},DI=class extends Fn{constructor(e){super(e),this.handleSegClick=(n,r)=>{let{component:i}=this,{context:s}=i,o=Qr(r);if(o&&i.isValidSegDownEl(n.target)){let a=ot(n.target,".fc-event-forced-url"),l=a?a.querySelector("a[href]").href:"";s.emitter.trigger("eventClick",{el:r,event:new Oe(i.context,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi}),l&&!n.defaultPrevented&&(window.location.href=l)}},this.destroy=Sw(e.el,"click",".fc-event",this.handleSegClick)}},TI=class extends Fn{constructor(e){super(e),this.handleEventElRemove=n=>{n===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(n,r)=>{Qr(r)&&(this.currentSegEl=r,this.triggerEvent("eventMouseEnter",n,r))},this.handleSegLeave=(n,r)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",n,r))},this.removeHoverListeners=Nk(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,n,r){let{component:i}=this,{context:s}=i,o=Qr(r);(!n||i.isValidSegDownEl(n.target))&&s.emitter.trigger(e,{el:r,event:new Oe(s,o.eventRange.def,o.eventRange.instance),jsEvent:n,view:s.viewApi})}},CI=class extends lu{constructor(){super(...arguments),this.buildViewContext=Te(Wk),this.buildViewPropTransformers=Te(t9),this.buildToolbarProps=Te(e9),this.headerRef=hn(),this.footerRef=hn(),this.interactionsStore={},this.state={viewLabelId:Bs()},this.registerInteractiveComponent=(e,n)=>{let r=oP(e,n),o=[DI,TI].concat(this.props.pluginHooks.componentInteractions).map(a=>new a(r));this.interactionsStore[e.uid]=o,Sa[e.uid]=r},this.unregisterInteractiveComponent=e=>{let n=this.interactionsStore[e.uid];if(n){for(let r of n)r.destroy();delete this.interactionsStore[e.uid]}delete Sa[e.uid]},this.resizeRunner=new Ps(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:n}=this.props;n.handleWindowResize&&e.target===window&&this.resizeRunner.request(n.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:n,options:r}=e,i=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,Ta(e.options.now,e.dateEnv),e.viewTitle),s=!1,o="",a;e.isHeightAuto||e.forPrint?o="":r.height!=null?s=!0:r.contentHeight!=null?o=r.contentHeight:a=Math.max(r.aspectRatio,.5);let l=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),u=n.header&&n.header.hasTitle?this.state.viewLabelId:void 0;return x(Kr.Provider,{value:l},n.header&&x(xp,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:n.header,titleId:u},i)),x(bI,{liquid:s,height:o,aspectRatio:a,labeledById:u},this.renderView(e),this.buildAppendContent()),n.footer&&x(xp,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:n.footer,titleId:""},i)))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(r=>new r(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:n}=e.pluginHooks;for(let r in n)n[r](e[r],e)}componentDidUpdate(e){let{props:n}=this,{propSetHandlers:r}=n.pluginHooks;for(let i in r)n[i]!==e[i]&&r[i](n[i],n)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,n=e.pluginHooks.viewContainerAppends.map(r=>r(e));return x(Fe,{},...n)}renderView(e){let{pluginHooks:n}=e,{viewSpec:r}=e,i={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},s=this.buildViewPropTransformers(n.viewPropsTransformers);for(let a of s)Object.assign(i,a.transform(i,e));let o=r.component;return x(o,Object.assign({},i))}};function e9(t,e,n,r,i,s){let o=n.build(i,void 0,!1),a=n.buildPrev(e,r,!1),l=n.buildNext(e,r,!1);return{title:s,activeButton:t.type,navUnit:t.singleUnit,isTodayEnabled:o.isValid&&!tr(e.currentRange,i),isPrevEnabled:a.isValid,isNextEnabled:l.isValid}}function t9(t){return t.map(e=>new e)}var kp=class extends zc{constructor(e,n={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=r=>{switch(r.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=r=>{this.currentData=r,this.renderRunner.request(r.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:r}=this;Vc(()=>{Pi(x($c,{options:r.calendarOptions,theme:r.theme,emitter:r.emitter},(i,s,o,a)=>(this.setClassNames(i),this.setHeight(s),x($w.Provider,{value:this.customContentRenderId},x(CI,Object.assign({isHeightAuto:o,forPrint:a},r))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Pi(null,this.el),this.setClassNames([]),this.setHeight(""))},Sk(e),this.el=e,this.renderRunner=new Ps(this.handleRenderRequest),new wI({optionOverrides:n,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Vc(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,n){this.currentDataManager.resetOptions(e,n)}setClassNames(e){if(!rr(e,this.currentClassNames)){let{classList:n}=this.el;for(let r of this.currentClassNames)n.remove(r);for(let r of e)n.add(r);this.currentClassNames=e}}setHeight(e){Cw(this.el,"height",e)}};var r9=["*"],i9=["rootEl"],Ra=t=>({$implicit:t});function s9(t,e){if(t&1&&(te(0,"div",2,0),Ai(2,3),Y()),t&2){let n=qe();X("ngClass",n.elClasses||"")("ngStyle",n.elStyle||null),de(2),X("ngTemplateOutlet",n.template)("ngTemplateOutletContext",jr(4,Ra,n.renderProps))}}function o9(t,e){if(t&1&&(te(0,"span",2,0),Ai(2,3),Y()),t&2){let n=qe();X("ngClass",n.elClasses||"")("ngStyle",n.elStyle||null),de(2),X("ngTemplateOutlet",n.template)("ngTemplateOutletContext",jr(4,Ra,n.renderProps))}}function a9(t,e){if(t&1&&(te(0,"a",2,0),Ai(2,3),Y()),t&2){let n=qe();X("ngClass",n.elClasses||"")("ngStyle",n.elStyle||null),de(2),X("ngTemplateOutlet",n.template)("ngTemplateOutletContext",jr(4,Ra,n.renderProps))}}function l9(t,e){if(t&1&&(te(0,"tr",2,0),Ai(2,3),Y()),t&2){let n=qe();X("ngClass",n.elClasses||"")("ngStyle",n.elStyle||null),de(2),X("ngTemplateOutlet",n.template)("ngTemplateOutletContext",jr(4,Ra,n.renderProps))}}function c9(t,e){if(t&1&&(te(0,"th",2,0),Ai(2,3),Y()),t&2){let n=qe();X("ngClass",n.elClasses||"")("ngStyle",n.elStyle||null),de(2),X("ngTemplateOutlet",n.template)("ngTemplateOutletContext",jr(4,Ra,n.renderProps))}}function u9(t,e){if(t&1&&(te(0,"td",2,0),Ai(2,3),Y()),t&2){let n=qe();X("ngClass",n.elClasses||"")("ngStyle",n.elStyle||null),de(2),X("ngTemplateOutlet",n.template)("ngTemplateOutletContext",jr(4,Ra,n.renderProps))}}var d9=["dayHeaderContent"],f9=["dayCellContent"],h9=["weekNumberContent"],p9=["nowIndicatorContent"],g9=["eventContent"],m9=["slotLaneContent"],y9=["slotLabelContent"],v9=["allDayContent"],_9=["moreLinkContent"],E9=["noEventsContent"],w9=["resourceAreaHeaderContent"],I9=["resourceGroupLabelContent"],b9=["resourceLabelContent"],D9=["resourceLaneContent"],T9=["resourceGroupLaneContent"];function C9(t,e){if(t&1&&Ve(0,"transport-container",1),t&2){let n=e.$implicit,r=qe();X("inPlaceOf",n.containerEl)("reportEl",n.reportNewContainerEl)("elTag",n.elTag)("elClasses",n.elClasses)("elStyle",n.elStyle)("elAttrs",n.elAttrs)("template",r.templateMap[n.generatorName])("renderProps",n.renderProps)}}var HP={headerToolbar:!0,footerToolbar:!0,events:!0,eventSources:!0,resources:!0},S9=["events","eventSources","resources"],A9=Object.prototype.hasOwnProperty;function Op(t){return Array.isArray(t)?t.map(Op):t instanceof Date?new Date(t.valueOf()):typeof t=="object"&&t?zP(t,Op):t}function zP(t,e){let n={};for(let r in t)A9.call(t,r)&&(n[r]=e(t[r],r));return n}function RI(t,e){if(t===e)return!0;if(t&&e&&typeof t=="object"&&typeof e=="object"){if(t.constructor!==e.constructor)return!1;var n,r,i;if(Array.isArray(t)){if(n=t.length,n!=e.length)return!1;for(r=n;r--!==0;)if(!RI(t[r],e[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!Object.prototype.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){var s=i[r];if(!RI(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}var Pp=typeof document<"u"?document.createDocumentFragment():null,R9=(()=>{class t{constructor(n){this.element=n}ngAfterViewInit(){Pp&&Pp.appendChild(this.element.nativeElement)}ngOnDestroy(){Pp&&Pp.removeChild(this.element.nativeElement)}}return t.\u0275fac=function(n){return new(n||t)(J(xt))},t.\u0275cmp=kt({type:t,selectors:[["offscreen-fragment"]],standalone:!1,ngContentSelectors:r9,decls:1,vars:0,template:function(n,r){n&1&&(QM(),YM(0))},encapsulation:2}),t})(),Aa=typeof document<"u"?document.createDocumentFragment():null,M9=(()=>{class t{ngAfterViewInit(){let n=this.rootElRef?.nativeElement;$P(n,this.inPlaceOf),AI(n,void 0,this.elAttrs),this.inPlaceOf.style.display="none",this.reportEl(n)}ngOnChanges(n){let r=this.rootElRef?.nativeElement;if(r)if(this.inPlaceOf.parentNode!==Aa)$P(r,this.inPlaceOf),AI(r,void 0,this.elAttrs),this.reportEl(r);else{let i=n.elAttrs;i&&AI(r,i.previousValue,i.currentValue)}}ngOnDestroy(){this.inPlaceOf.parentNode===Aa&&Aa&&Aa.removeChild(this.inPlaceOf),this.reportEl(null)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275cmp=kt({type:t,selectors:[["transport-container"]],viewQuery:function(n,r){if(n&1&&ZM(i9,5),n&2){let i;ft(i=ht())&&(r.rootElRef=i.first)}},inputs:{inPlaceOf:"inPlaceOf",reportEl:"reportEl",elTag:"elTag",elClasses:"elClasses",elStyle:"elStyle",elAttrs:"elAttrs",template:"template",renderProps:"renderProps"},standalone:!1,features:[Or],decls:6,vars:6,consts:[["rootEl",""],[3,"ngIf"],[3,"ngClass","ngStyle"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(n,r){n&1&&et(0,s9,3,6,"ng-template",1)(1,o9,3,6,"ng-template",1)(2,a9,3,6,"ng-template",1)(3,l9,3,6,"ng-template",1)(4,c9,3,6,"ng-template",1)(5,u9,3,6,"ng-template",1),n&2&&(X("ngIf",r.elTag=="div"),de(),X("ngIf",r.elTag=="span"),de(),X("ngIf",r.elTag=="a"),de(),X("ngIf",r.elTag=="tr"),de(),X("ngIf",r.elTag=="th"),de(),X("ngIf",r.elTag=="td"))},dependencies:[Ri,uh,mN,yN],encapsulation:2}),t})();function $P(t,e){e.parentNode?.insertBefore(t,e.nextSibling),Aa&&Aa.appendChild(e)}function AI(t,e={},n={}){for(let r in e)r in n||(t[r]=null);for(let r in n)t[r]=n[r]}var qP=(()=>{class t{constructor(n,r){this.element=n,this.calendar=null,this.optionSnapshot={},this.customRenderingMap=new Map,this.templateMap={};let i=new nu;i.subscribe(s=>{this.customRenderingMap=s,this.customRenderingArray=void 0,r.detectChanges()}),this.handleCustomRendering=i.handle.bind(i),this.templateMap=this}ngAfterViewInit(){let{deepChangeDetection:n}=this,r=j(j({},this.options),this.buildInputOptions());this.optionSnapshot=zP(r,(a,l)=>n&&HP[l]?Op(a):a);let i=this.element.nativeElement,s=this.calendar=new kp(i,j(j({},r),this.buildExtraOptions())),o=i.closest("ion-content");o&&o.componentOnReady?o.componentOnReady().then(()=>{window.requestAnimationFrame(()=>{s.render()})}):s.render(),setTimeout(()=>s.updateSize())}ngDoCheck(){if(this.calendar){let{deepChangeDetection:n,optionSnapshot:r}=this,i=j(j({},this.options),this.buildInputOptions()),s={},o=[];for(let l in i)if(i.hasOwnProperty(l)){let u=i[l];n&&HP[l]?RI(r[l],u)||(r[l]=Op(u),o.push(l)):r[l]!==u&&(r[l]=u,o.push(l)),s[l]=u}let a=Object.keys(r);for(let l of a)l in i||(delete r[l],o.push(l));o.length&&(this.calendar.pauseRendering(),this.calendar.resetOptions(j(j({},s),this.buildExtraOptions()),o))}}ngAfterContentChecked(){this.calendar&&this.calendar.resumeRendering()}ngOnDestroy(){this.calendar&&(this.calendar.destroy(),this.calendar=null)}get customRenderings(){return this.customRenderingArray||(this.customRenderingArray=[...this.customRenderingMap.values()])}getApi(){return this.calendar}buildInputOptions(){let n={};for(let r of S9){let i=this[r];i!=null&&(n[r]=i)}return n}buildExtraOptions(){return{handleCustomRendering:this.handleCustomRendering,customRenderingMetaMap:this.templateMap,customRenderingReplaces:!0}}trackCustomRendering(n,r){return r.id}}return t.\u0275fac=function(n){return new(n||t)(J(xt),J(Jn))},t.\u0275cmp=kt({type:t,selectors:[["full-calendar"]],contentQueries:function(n,r,i){if(n&1&&(wt(i,d9,7),wt(i,f9,7),wt(i,h9,7),wt(i,p9,7),wt(i,g9,7),wt(i,m9,7),wt(i,y9,7),wt(i,v9,7),wt(i,_9,7),wt(i,E9,7),wt(i,w9,7),wt(i,I9,7),wt(i,b9,7),wt(i,D9,7),wt(i,T9,7)),n&2){let s;ft(s=ht())&&(r.dayHeaderContent=s.first),ft(s=ht())&&(r.dayCellContent=s.first),ft(s=ht())&&(r.weekNumberContent=s.first),ft(s=ht())&&(r.nowIndicatorContent=s.first),ft(s=ht())&&(r.eventContent=s.first),ft(s=ht())&&(r.slotLaneContent=s.first),ft(s=ht())&&(r.slotLabelContent=s.first),ft(s=ht())&&(r.allDayContent=s.first),ft(s=ht())&&(r.moreLinkContent=s.first),ft(s=ht())&&(r.noEventsContent=s.first),ft(s=ht())&&(r.resourceAreaHeaderContent=s.first),ft(s=ht())&&(r.resourceGroupLabelContent=s.first),ft(s=ht())&&(r.resourceLabelContent=s.first),ft(s=ht())&&(r.resourceLaneContent=s.first),ft(s=ht())&&(r.resourceGroupLaneContent=s.first)}},inputs:{options:"options",deepChangeDetection:"deepChangeDetection",events:"events",eventSources:"eventSources",resources:"resources"},standalone:!1,decls:2,vars:2,consts:[[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps",4,"ngFor","ngForOf","ngForTrackBy"],[3,"inPlaceOf","reportEl","elTag","elClasses","elStyle","elAttrs","template","renderProps"]],template:function(n,r){n&1&&(te(0,"offscreen-fragment"),et(1,C9,1,8,"transport-container",0),Y()),n&2&&(de(),X("ngForOf",r.customRenderings)("ngForTrackBy",r.trackCustomRendering))},dependencies:[R9,M9,gN],encapsulation:2}),t})(),WP=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=Zn({type:t}),t.\u0275inj=Yn({imports:[[Pn]]}),t})();var MI=class extends Ln{constructor(){super(...arguments),this.headerElRef=hn()}renderSimpleLayout(e,n){let{props:r,context:i}=this,s=[],o=Mp(i.options);return e&&s.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),s.push({type:"body",key:"body",liquid:!0,chunk:{content:n}}),x(_a,{elClasses:["fc-daygrid"],viewSpec:i.viewSpec},x(Ea,{liquid:!r.isHeightAuto&&!r.forPrint,collapsibleWidth:r.forPrint,cols:[],sections:s}))}renderHScrollLayout(e,n,r,i){let s=this.context.pluginHooks.scrollGridImpl;if(!s)throw new Error("No ScrollGrid implementation");let{props:o,context:a}=this,l=!o.forPrint&&Mp(a.options),u=!o.forPrint&&pI(a.options),d=[];return e&&d.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),d.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:n}]}),u&&d.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:hI}]}),x(_a,{elClasses:["fc-daygrid"],viewSpec:a.viewSpec},x(s,{liquid:!o.isHeightAuto&&!o.forPrint,forPrint:o.forPrint,collapsibleWidth:o.forPrint,colGroups:[{cols:[{span:r,minWidth:i}]}],sections:d}))}};function Fp(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.row].push(r);return n}function Lp(t,e){let n=[];for(let r=0;r<e;r+=1)n[r]=[];for(let r of t)n[r.firstCol].push(r);return n}function GP(t,e){let n=[];if(t){for(let r=0;r<e;r+=1)n[r]={affectedInstances:t.affectedInstances,isEvent:t.isEvent,segs:[]};for(let r of t.segs)n[r.row].segs.push(r)}else for(let r=0;r<e;r+=1)n[r]=null;return n}var KP=Ye({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function QP(t){let{display:e}=t.eventRange.ui;return e==="list-item"||e==="auto"&&!t.eventRange.def.allDay&&t.firstCol===t.lastCol&&t.isStart&&t.isEnd}var Vp=class extends je{render(){let{props:e}=this;return x(Xc,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:KP,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}},jp=class extends je{render(){let{props:e,context:n}=this,{options:r}=n,{seg:i}=e,s=r.eventTimeFormat||KP,o=Ip(i,s,n,!0,e.defaultDisplayEventEnd);return x(js,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:bp(e.seg,n),defaultGenerator:x9,timeText:o,isResizing:!1,isDateSelecting:!1}))}};function x9(t){return x(Fe,null,x("div",{className:"fc-daygrid-event-dot",style:{borderColor:t.borderColor||t.backgroundColor}}),t.timeText&&x("div",{className:"fc-event-time"},t.timeText),x("div",{className:"fc-event-title"},t.event.title||x(Fe,null,"\xA0")))}var NI=class extends je{constructor(){super(...arguments),this.compileSegs=Te(k9)}render(){let{props:e}=this,{allSegs:n,invisibleSegs:r}=this.compileSegs(e.singlePlacements);return x(tu,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:n,hiddenSegs:r,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let i=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return x(Fe,null,n.map(s=>{let o=s.eventRange.instance.instanceId;return x("div",{className:"fc-daygrid-event-harness",key:o,style:{visibility:i[o]?"hidden":""}},QP(s)?x(jp,Object.assign({seg:s,isDragging:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},$s(s,e.todayRange))):x(Vp,Object.assign({seg:s,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:o===e.eventSelection,defaultDisplayEventEnd:!1},$s(s,e.todayRange))))}))}})}};function k9(t){let e=[],n=[];for(let r of t)e.push(r.seg),r.isVisible||n.push(r.seg);return{allSegs:e,invisibleSegs:n}}var P9=Ye({week:"narrow"}),xI=class extends Ln{constructor(){super(...arguments),this.rootElRef=hn(),this.state={dayNumberId:Bs()},this.handleRootEl=e=>{Tn(this.rootElRef,e),Tn(this.props.elRef,e)}}render(){let{context:e,props:n,state:r,rootElRef:i}=this,{options:s,dateEnv:o}=e,{date:a,dateProfile:l}=n,u=n.showDayNumber&&F9(a,l.currentRange,o);return x(wa,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...n.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},n.extraDataAttrs),n.showDayNumber?{"aria-labelledby":r.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:O9,date:a,dateProfile:l,todayRange:n.todayRange,showDayNumber:n.showDayNumber,isMonthStart:u,extraRenderProps:n.extraRenderProps},(d,h)=>x("div",{ref:n.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:n.minHeight}},n.showWeekNumber&&x(mI,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:hu(e,a,"week"),date:a,defaultFormat:P9}),!h.isDisabled&&(n.showDayNumber||Np(s)||n.forceDayTop)?x("div",{className:"fc-daygrid-day-top"},x(d,{elTag:"a",elClasses:["fc-daygrid-day-number",u&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},hu(e,a)),{id:r.dayNumberId})})):n.showDayNumber?x("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},x("a",{className:"fc-daygrid-day-number"},"\xA0")):void 0,x("div",{className:"fc-daygrid-day-events",ref:n.fgContentElRef},n.fgContent,x("div",{className:"fc-daygrid-day-bottom",style:{marginTop:n.moreMarginTop}},x(NI,{allDayDate:a,singlePlacements:n.singlePlacements,moreCnt:n.moreCnt,alignmentElRef:i,alignGridTop:!n.showDayNumber,extraDateSpan:n.extraDateSpan,dateProfile:n.dateProfile,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,todayRange:n.todayRange}))),x("div",{className:"fc-daygrid-day-bg"},n.bgContent)))}};function O9(t){return t.dayNumberText||x(Fe,null,"\xA0")}function F9(t,e,n){let{start:r,end:i}=e,s=nr(i,-1),o=n.getYear(r),a=n.getMonth(r),l=n.getYear(s),u=n.getMonth(s);return!(o===l&&a===u)&&(t.valueOf()===r.valueOf()||n.getDay(t)===1&&t.valueOf()<i.valueOf())}function YP(t){return t.eventRange.instance.instanceId+":"+t.firstCol}function ZP(t){return YP(t)+":"+t.lastCol}function L9(t,e,n,r,i,s,o){let a=new kI(R=>{let P=t[R.index].eventRange.instance.instanceId+":"+R.span.start+":"+(R.span.end-1);return i[P]||1});a.allowReslicing=!0,a.strictOrder=r,e===!0||n===!0?(a.maxCoord=s,a.hiddenConsumes=!0):typeof e=="number"?a.maxStackCnt=e:typeof n=="number"&&(a.maxStackCnt=n,a.hiddenConsumes=!0);let l=[],u=[];for(let R=0;R<t.length;R+=1){let P=t[R],O=ZP(P);i[O]!=null?l.push({index:R,span:{start:P.firstCol,end:P.lastCol+1}}):u.push(P)}let d=a.addSegs(l),h=a.toRects(),{singleColPlacements:m,multiColPlacements:p,leftoverMargins:_}=V9(h,t,o),I=[],w=[];for(let R of u){p[R.firstCol].push({seg:R,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let P=R.firstCol;P<=R.lastCol;P+=1)m[P].push({seg:Ma(R,P,P+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let R=0;R<o.length;R+=1)I.push(0);for(let R of d){let P=t[R.index],O=R.span;p[O.start].push({seg:Ma(P,O.start,O.end,o),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let B=O.start;B<O.end;B+=1)I[B]+=1,m[B].push({seg:Ma(P,B,B+1,o),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let R=0;R<o.length;R+=1)w.push(_[R]);return{singleColPlacements:m,multiColPlacements:p,moreCnts:I,moreMarginTops:w}}function V9(t,e,n){let r=j9(t,n.length),i=[],s=[],o=[];for(let a=0;a<n.length;a+=1){let l=r[a],u=[],d=0,h=0;for(let p of l){let _=e[p.index];u.push({seg:Ma(_,a,a+1,n),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:p.levelCoord-d}),d=p.levelCoord+p.thickness}let m=[];d=0,h=0;for(let p of l){let _=e[p.index],I=p.span.end-p.span.start>1,w=p.span.start===a;h+=p.levelCoord-d,d=p.levelCoord+p.thickness,I?(h+=p.thickness,w&&m.push({seg:Ma(_,p.span.start,p.span.end,n),isVisible:!0,isAbsolute:!0,absoluteTop:p.levelCoord,marginTop:0})):w&&(m.push({seg:Ma(_,p.span.start,p.span.end,n),isVisible:!0,isAbsolute:!1,absoluteTop:p.levelCoord,marginTop:h}),h=0)}i.push(u),s.push(m),o.push(h)}return{singleColPlacements:i,multiColPlacements:s,leftoverMargins:o}}function j9(t,e){let n=[];for(let r=0;r<e;r+=1)n.push([]);for(let r of t)for(let i=r.span.start;i<r.span.end;i+=1)n[i].push(r);return n}function Ma(t,e,n,r){if(t.firstCol===e&&t.lastCol===n-1)return t;let i=t.eventRange,s=i.range,o=qr(s,{start:r[e].date,end:at(r[n-1].date,1)});return Object.assign(Object.assign({},t),{firstCol:e,lastCol:n-1,eventRange:{def:i.def,ui:Object.assign(Object.assign({},i.ui),{durationEditable:!1}),instance:i.instance,range:o},isStart:t.isStart&&o.start.valueOf()===s.start.valueOf(),isEnd:t.isEnd&&o.end.valueOf()===s.end.valueOf()})}var kI=class extends Gc{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){let n=super.addSegs(e),{entriesByLevel:r}=this,i=s=>!this.forceHidden[Vs(s)];for(let s=0;s<r.length;s+=1)r[s]=r[s].filter(i);return n}handleInvalidInsertion(e,n,r){let{entriesByLevel:i,forceHidden:s}=this,{touchingEntry:o,touchingLevel:a,touchingLateral:l}=e;if(this.hiddenConsumes&&o){let u=Vs(o);if(!s[u])if(this.allowReslicing){let d=Object.assign(Object.assign({},o),{span:Sp(o.span,n.span)}),h=Vs(d);s[h]=!0,i[a][l]=d,r.push(d),this.splitEntry(o,n,r)}else s[u]=!0,r.push(o)}super.handleInvalidInsertion(e,n,r)}},Up=class extends Ln{constructor(){super(...arguments),this.cellElRefs=new Vn,this.frameElRefs=new Vn,this.fgElRefs=new Vn,this.segHarnessRefs=new Vn,this.rootElRef=hn(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:n,context:r}=this,{options:i}=r,s=e.cells.length,o=Lp(e.businessHourSegs,s),a=Lp(e.bgEventSegs,s),l=Lp(this.getHighlightSegs(),s),u=Lp(this.getMirrorSegs(),s),{singleColPlacements:d,multiColPlacements:h,moreCnts:m,moreMarginTops:p}=L9(Jw(e.fgEventSegs,i.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,i.eventOrderStrict,n.segHeights,n.maxContentHeight,e.cells),_=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return x("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((I,w)=>{let R=this.renderFgSegs(w,e.forPrint?d[w]:h[w],e.todayRange,_),P=this.renderFgSegs(w,U9(u[w],h),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return x(xI,{key:I.key,elRef:this.cellElRefs.createRef(I.key),innerElRef:this.frameElRefs.createRef(I.key),dateProfile:e.dateProfile,date:I.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&w===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:I.extraRenderProps,extraDataAttrs:I.extraDataAttrs,extraClassNames:I.extraClassNames,extraDateSpan:I.extraDateSpan,moreCnt:m[w],moreMarginTop:p[w],singlePlacements:d[w],fgContentElRef:this.fgElRefs.createRef(I.key),fgContent:x(Fe,null,x(Fe,null,R),x(Fe,null,P)),bgContent:x(Fe,null,this.renderFillSegs(l[w],"highlight"),this.renderFillSegs(o[w],"non-business"),this.renderFillSegs(a[w],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,n){let r=this.props;this.updateSizing(!pn(e,r))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,n,r,i,s,o,a){let{context:l}=this,{eventSelection:u}=this.props,{framePositions:d}=this.state,h=this.props.cells.length===1,m=s||o||a,p=[];if(d)for(let _ of n){let{seg:I}=_,{instanceId:w}=I.eventRange.instance,R=_.isVisible&&!i[w],P=_.isAbsolute,O="",B="";P&&(l.isRtl?(B=0,O=d.lefts[I.lastCol]-d.lefts[I.firstCol]):(O=0,B=d.rights[I.firstCol]-d.rights[I.lastCol])),p.push(x("div",{className:"fc-daygrid-event-harness"+(P?" fc-daygrid-event-harness-abs":""),key:YP(I),ref:m?null:this.segHarnessRefs.createRef(ZP(I)),style:{visibility:R?"":"hidden",marginTop:P?"":_.marginTop,top:P?_.absoluteTop:"",left:O,right:B}},QP(I)?x(jp,Object.assign({seg:I,isDragging:s,isSelected:w===u,defaultDisplayEventEnd:h},$s(I,r))):x(Vp,Object.assign({seg:I,isDragging:s,isResizing:o,isDateSelecting:a,isSelected:w===u,defaultDisplayEventEnd:h},$s(I,r)))))}return p}renderFillSegs(e,n){let{isRtl:r}=this.context,{todayRange:i}=this.props,{framePositions:s}=this.state,o=[];if(s)for(let a of e){let l=r?{right:0,left:s.lefts[a.lastCol]-s.lefts[a.firstCol]}:{left:0,right:s.rights[a.firstCol]-s.rights[a.lastCol]};o.push(x("div",{key:Xw(a.eventRange),className:"fc-daygrid-bg-harness",style:l},n==="bg-event"?x(eu,Object.assign({seg:a},$s(a,i))):gI(n)))}return x(Fe,{},...o)}updateSizing(e){let{props:n,state:r,frameElRefs:i}=this;if(!n.forPrint&&n.clientWidth!==null){if(e){let l=n.cells.map(u=>i.currentMap[u.key]);if(l.length){let u=this.rootElRef.current,d=new ji(u,l,!0,!1);(!r.framePositions||!r.framePositions.similarTo(d))&&this.setState({framePositions:new ji(u,l,!0,!1)})}}let s=this.state.segHeights,o=this.querySegHeights(),a=n.dayMaxEvents===!0||n.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},s),o),maxContentHeight:a?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,n={};for(let r in e){let i=Math.round(e[r].getBoundingClientRect().height);n[r]=Math.max(n[r]||0,i)}return n}computeMaxContentHeight(){let e=this.props.cells[0].key,n=this.cellElRefs.currentMap[e],r=this.fgElRefs.currentMap[e];return n.getBoundingClientRect().bottom-r.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(n=>e[n.key])}};Up.addStateEquality({segHeights:pn});function U9(t,e){if(!t.length)return[];let n=B9(e);return t.map(r=>({seg:r,isVisible:!0,isAbsolute:!0,absoluteTop:n[r.eventRange.instance.instanceId],marginTop:0}))}function B9(t){let e={};for(let n of t)for(let r of n)e[r.seg.eventRange.instance.instanceId]=r.absoluteTop;return e}var PI=class extends Ln{constructor(){super(...arguments),this.splitBusinessHourSegs=Te(Fp),this.splitBgEventSegs=Te(Fp),this.splitFgEventSegs=Te(Fp),this.splitDateSelectionSegs=Te(Fp),this.splitEventDrag=Te(GP),this.splitEventResize=Te(GP),this.rowRefs=new Vn}render(){let{props:e,context:n}=this,r=e.cells.length,i=this.splitBusinessHourSegs(e.businessHourSegs,r),s=this.splitBgEventSegs(e.bgEventSegs,r),o=this.splitFgEventSegs(e.fgEventSegs,r),a=this.splitDateSelectionSegs(e.dateSelectionSegs,r),l=this.splitEventDrag(e.eventDrag,r),u=this.splitEventResize(e.eventResize,r),d=r>=7&&e.clientWidth?e.clientWidth/n.options.aspectRatio/6:null;return x(Ap,{unit:"day"},(h,m)=>x(Fe,null,e.cells.map((p,_)=>x(Up,{ref:this.rowRefs.createRef(_),key:p.length?p[0].date.toISOString():_,showDayNumbers:r>1,showWeekNumbers:e.showWeekNumbers,todayRange:m,dateProfile:e.dateProfile,cells:p,renderIntro:e.renderRowIntro,businessHourSegs:i[_],eventSelection:e.eventSelection,bgEventSegs:s[_].filter(H9),fgEventSegs:o[_],dateSelectionSegs:a[_],eventDrag:l[_],eventResize:u[_],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:d,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){let e=this.rowRefs.currentMap[0].getCellEls()[0],n=e?e.closest(".fc-daygrid-body"):null;n&&(this.rootEl=n,this.context.registerInteractiveComponent(this,{el:n,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new ji(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new ji(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,n){let{colPositions:r,rowPositions:i}=this,s=r.leftToIndex(e),o=i.topToIndex(n);if(o!=null&&s!=null){let a=this.props.cells[o][s];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(o,s),allDay:!0},a.extraDateSpan),dayEl:this.getCellEl(o,s),rect:{left:r.lefts[s],right:r.rights[s],top:i.tops[o],bottom:i.bottoms[o]},layer:0}}return null}getCellEl(e,n){return this.rowRefs.currentMap[e].getCellEls()[n]}getCellRange(e,n){let r=this.props.cells[e][n].date,i=at(r,1);return{start:r,end:i}}};function H9(t){return t.eventRange.def.allDay}var OI=class extends Ln{constructor(){super(...arguments),this.elRef=hn(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:n,dayMaxEvents:r,expandRows:i}=e,s=r===!0||n===!0;s&&!i&&(s=!1,n=null,r=null);let o=["fc-daygrid-body",s?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",i?"":"fc-daygrid-body-natural"];return x("div",{ref:this.elRef,className:o.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},x("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:i?e.clientHeight:""}},e.colGroupNode,x("tbody",{role:"presentation"},x(PI,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:r,dayMaxEventRows:n,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){let e=$9(this.elRef.current,this.props.dateProfile);if(e){let n=e.closest(".fc-daygrid-body"),r=n.closest(".fc-scroller"),i=e.getBoundingClientRect().top-n.getBoundingClientRect().top;r.scrollTop=i?i+1:0}this.needsScrollReset=!1}}};function $9(t,e){let n;return e.currentRangeUnit.match(/year|month/)&&(n=t.querySelector(`[data-date="${Fw(e.currentDate)}-01"]`)),n||(n=t.querySelector(`[data-date="${au(e.currentDate)}"]`)),n}var FI=class extends Jc{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,n){return n.sliceRange(e)}},LI=class extends Ln{constructor(){super(...arguments),this.slicer=new FI,this.tableRef=hn()}render(){let{props:e,context:n}=this;return x(OI,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,n,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}},Bp=class extends MI{constructor(){super(...arguments),this.buildDayTableModel=Te(z9),this.headerRef=hn(),this.tableRef=hn()}render(){let{options:e,dateProfileGenerator:n}=this.context,{props:r}=this,i=this.buildDayTableModel(r.dateProfile,n),s=e.dayHeaders&&x(Qc,{ref:this.headerRef,dateProfile:r.dateProfile,dates:i.headerDates,datesRepDistinctDays:i.rowCnt===1}),o=a=>x(LI,{ref:this.tableRef,dateProfile:r.dateProfile,dayTableModel:i,businessHours:r.businessHours,dateSelection:r.dateSelection,eventStore:r.eventStore,eventUiBases:r.eventUiBases,eventSelection:r.eventSelection,eventDrag:r.eventDrag,eventResize:r.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:a.tableColGroupNode,tableMinWidth:a.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!r.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:a.clientWidth,clientHeight:a.clientHeight,forPrint:r.forPrint});return e.dayMinWidth?this.renderHScrollLayout(s,o,i.colCnt,e.dayMinWidth):this.renderSimpleLayout(s,o)}};function z9(t,e){let n=new Yc(t.renderRange,e);return new Zc(n,/year|month|week/.test(t.currentRangeUnit))}var Hp=class extends Os{buildRenderRange(e,n,r){let i=super.buildRenderRange(e,n,r),{props:s}=this;return q9({currentRange:i,snapToWeek:/^(year|month)$/.test(n),fixedWeekCount:s.fixedWeekCount,dateEnv:s.dateEnv})}};function q9(t){let{dateEnv:e,currentRange:n}=t,{start:r,end:i}=n,s;if(t.snapToWeek&&(r=e.startOfWeek(r),s=e.startOfWeek(i),s.valueOf()!==i.valueOf()&&(i=fp(s,1))),t.fixedWeekCount){let o=e.startOfWeek(e.startOfMonth(at(n.end,-1))),a=Math.ceil(Pw(o,i));i=fp(i,6-a)}return{start:r,end:i}}var W9=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';up(W9);var JP=lr({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:Bp,dateProfileGeneratorClass:Hp},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});gu.touchMouseIgnoreWait=500;var VI=0,$p=0,jI=!1,zp=class{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=n=>{if(!this.shouldIgnoreMouse()&&G9(n)&&this.tryStart(n)){let r=this.createEventFromMouse(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=n=>{let r=this.createEventFromMouse(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleMouseUp=n=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(n)),this.cleanup()},this.handleTouchStart=n=>{if(this.tryStart(n)){this.isTouchDragging=!0;let r=this.createEventFromTouch(n,!0);this.emitter.trigger("pointerdown",r),this.initScrollWatch(r);let i=n.target;this.shouldIgnoreMove||i.addEventListener("touchmove",this.handleTouchMove),i.addEventListener("touchend",this.handleTouchEnd),i.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=n=>{let r=this.createEventFromTouch(n);this.recordCoords(r),this.emitter.trigger("pointermove",r)},this.handleTouchEnd=n=>{if(this.isDragging){let r=n.target;r.removeEventListener("touchmove",this.handleTouchMove),r.removeEventListener("touchend",this.handleTouchEnd),r.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(n)),this.cleanup(),this.isTouchDragging=!1,K9()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=n=>{if(!this.shouldIgnoreMove){let r=window.scrollX-this.prevScrollX+this.prevPageX,i=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:n,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:r,pageY:i,deltaX:r-this.origPageX,deltaY:i-this.origPageY})}},this.containerEl=e,this.emitter=new Wr,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),Q9()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),Y9()}tryStart(e){let n=this.querySubjectEl(e),r=e.target;return n&&(!this.handleSelector||ot(r,this.handleSelector))?(this.subjectEl=n,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){jI=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?ot(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return VI||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&(jI=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,n){let r=0,i=0;return n?(this.origPageX=e.pageX,this.origPageY=e.pageY):(r=e.pageX-this.origPageX,i=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:r,deltaY:i}}createEventFromTouch(e,n){let r=e.touches,i,s,o=0,a=0;return r&&r.length?(i=r[0].pageX,s=r[0].pageY):(i=e.pageX,s=e.pageY),n?(this.origPageX=i,this.origPageY=s):(o=i-this.origPageX,a=s-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:i,pageY:s,deltaX:o,deltaY:a}}};function G9(t){return t.button===0&&!t.ctrlKey}function K9(){VI+=1,setTimeout(()=>{VI-=1},gu.touchMouseIgnoreWait)}function Q9(){$p+=1,$p===1&&window.addEventListener("touchmove",eO,{passive:!1})}function Y9(){$p-=1,$p||window.removeEventListener("touchmove",eO,{passive:!1})}function eO(t){jI&&t.preventDefault()}var UI=class{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,n,r){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=n-window.scrollX,this.origScreenY=r-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,n){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=n-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,n){let r=()=>{this.cleanup(),n()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(r,this.revertDuration):setTimeout(r,0)}doRevertAnimation(e,n){let r=this.mirrorEl,i=this.sourceEl.getBoundingClientRect();r.style.transition="top "+n+"ms,left "+n+"ms",Us(r,{left:i.left,top:i.top}),Aw(r,()=>{r.style.transition="",e()})}cleanup(){this.mirrorEl&&(ru(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Us(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,n=this.mirrorEl;return n||(n=this.mirrorEl=this.sourceEl.cloneNode(!0),n.style.userSelect="none",n.style.webkitUserSelect="none",n.style.pointerEvents="none",n.classList.add("fc-event-dragging"),Us(n,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(n)),n}},qp=class extends Ls{constructor(e,n){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=n,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}},Wp=class extends qp{constructor(e,n){super(new qc(e),n)}getEventTarget(){return this.scrollController.el}computeClientRect(){return uI(this.scrollController.el)}},BI=class extends qp{constructor(e){super(new Wc,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}},XP=typeof performance=="function"?performance.now:Date.now,HI=class{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let n=XP();this.handleSide(e,(n-this.msSinceRequest)/1e3),this.requestAnimation(n)}else this.isAnimating=!1}}}start(e,n,r){this.isEnabled&&(this.scrollCaches=this.buildCaches(r),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,n))}handleMove(e,n){if(this.isEnabled){let r=e-window.scrollX,i=n-window.scrollY,s=this.pointerScreenY===null?0:i-this.pointerScreenY,o=this.pointerScreenX===null?0:r-this.pointerScreenX;s<0?this.everMovedUp=!0:s>0&&(this.everMovedDown=!0),o<0?this.everMovedLeft=!0:o>0&&(this.everMovedRight=!0),this.pointerScreenX=r,this.pointerScreenY=i,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(XP()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,n){let{scrollCache:r}=e,{edgeThreshold:i}=this,s=i-e.distance,o=s*s/(i*i)*this.maxVelocity*n,a=1;switch(e.name){case"left":a=-1;case"right":r.setScrollLeft(r.getScrollLeft()+o*a);break;case"top":a=-1;case"bottom":r.setScrollTop(r.getScrollTop()+o*a);break}}computeBestEdge(e,n){let{edgeThreshold:r}=this,i=null,s=this.scrollCaches||[];for(let o of s){let a=o.clientRect,l=e-a.left,u=a.right-e,d=n-a.top,h=a.bottom-n;l>=0&&u>=0&&d>=0&&h>=0&&(d<=r&&this.everMovedUp&&o.canScrollUp()&&(!i||i.distance>d)&&(i={scrollCache:o,name:"top",distance:d}),h<=r&&this.everMovedDown&&o.canScrollDown()&&(!i||i.distance>h)&&(i={scrollCache:o,name:"bottom",distance:h}),l<=r&&this.everMovedLeft&&o.canScrollLeft()&&(!i||i.distance>l)&&(i={scrollCache:o,name:"left",distance:l}),u<=r&&this.everMovedRight&&o.canScrollRight()&&(!i||i.distance>u)&&(i={scrollCache:o,name:"right",distance:u}))}return i}buildCaches(e){return this.queryScrollEls(e).map(n=>n===window?new BI(!1):new Wp(n,!1))}queryScrollEls(e){let n=[];for(let r of this.scrollQuery)typeof r=="object"?n.push(r):n.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(r)));return n}},zs=class extends Kc{constructor(e,n){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=i=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,Rw(document.body),Nw(document.body),i.isTouch||i.origEvent.preventDefault(),this.emitter.trigger("pointerdown",i),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(i.subjectEl,i.pageX,i.pageY),this.startDelay(i),this.minDistance||this.handleDistanceSurpassed(i)))},this.onPointerMove=i=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",i),!this.isDistanceSurpassed){let s=this.minDistance,o,{deltaX:a,deltaY:l}=i;o=a*a+l*l,o>=s*s&&this.handleDistanceSurpassed(i)}this.isDragging&&(i.origEvent.type!=="scroll"&&(this.mirror.handleMove(i.pageX,i.pageY),this.autoScroller.handleMove(i.pageX,i.pageY)),this.emitter.trigger("dragmove",i))}},this.onPointerUp=i=>{this.isInteracting&&(this.isInteracting=!1,Mw(document.body),xw(document.body),this.emitter.trigger("pointerup",i),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(i)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let r=this.pointer=new zp(e);r.emitter.on("pointerdown",this.onPointerDown),r.emitter.on("pointermove",this.onPointerMove),r.emitter.on("pointerup",this.onPointerUp),n&&(r.selector=n),this.mirror=new UI,this.autoScroller=new HI}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}},$I=class{constructor(e){this.el=e,this.origRect=pu(e),this.scrollCaches=Cp(e).map(n=>new Wp(n,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let n of this.scrollCaches)e+=n.origScrollLeft-n.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let n of this.scrollCaches)e+=n.origScrollTop-n.getScrollTop();return e}isWithinClipping(e,n){let r={left:e,top:n};for(let i of this.scrollCaches)if(!Z9(i.getEventTarget())&&!sI(r,i.clientRect))return!1;return!0}};function Z9(t){let e=t.tagName;return e==="HTML"||e==="BODY"}var Na=class{constructor(e,n){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=r=>{let{dragging:i}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(r),this.initialHit||!this.requireInitial?(i.setIgnoreMove(!1),this.emitter.trigger("pointerdown",r)):i.setIgnoreMove(!0)},this.handleDragStart=r=>{this.emitter.trigger("dragstart",r),this.handleMove(r,!0)},this.handleDragMove=r=>{this.emitter.trigger("dragmove",r),this.handleMove(r)},this.handlePointerUp=r=>{this.releaseHits(),this.emitter.trigger("pointerup",r)},this.handleDragEnd=r=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,r),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",r)},this.droppableStore=n,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new Wr}processFirstCoord(e){let n={left:e.pageX,top:e.pageY},r=n,i=e.subjectEl,s;i instanceof HTMLElement&&(s=pu(i),r=oI(r,s));let o=this.initialHit=this.queryHitForOffset(r.left,r.top);if(o){if(this.useSubjectCenter&&s){let a=Dp(s,o.rect);a&&(r=aI(a))}this.coordAdjust=lI(r,n)}else this.coordAdjust={left:0,top:0}}handleMove(e,n){let r=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(n||!Gp(this.movingHit,r))&&(this.movingHit=r,this.emitter.trigger("hitupdate",r,!1,e))}prepareHits(){this.offsetTrackers=ir(this.droppableStore,e=>(e.component.prepareHits(),new $I(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let n in e)e[n].destroy();this.offsetTrackers={}}queryHitForOffset(e,n){let{droppableStore:r,offsetTrackers:i}=this,s=null;for(let o in r){let a=r[o].component,l=i[o];if(l&&l.isWithinClipping(e,n)){let u=l.computeLeft(),d=l.computeTop(),h=e-u,m=n-d,{origRect:p}=l,_=p.right-p.left,I=p.bottom-p.top;if(h>=0&&h<_&&m>=0&&m<I){let w=a.queryHit(h,m,_,I);w&&Da(w.dateProfile.activeRange,w.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(h+u-window.scrollX,m+d-window.scrollY)))&&(!s||w.layer>s.layer)&&(w.componentId=o,w.context=a.context,w.rect.left+=u,w.rect.right+=u,w.rect.top+=d,w.rect.bottom+=d,s=w)}}}return s}};function Gp(t,e){return!t&&!e?!0:!!t!=!!e?!1:eI(t.dateSpan,e.dateSpan)}function tO(t,e){let n={};for(let r of e.pluginHooks.datePointTransforms)Object.assign(n,r(t,e));return Object.assign(n,J9(t,e.dateEnv)),n}function J9(t,e){return{date:e.toDate(t.range.start),dateStr:e.formatIso(t.range.start,{omitTime:t.allDay}),allDay:t.allDay}}var zI=class extends Fn{constructor(e){super(e),this.handlePointerDown=r=>{let{dragging:i}=this,s=r.origEvent.target;i.setIgnoreMove(!this.component.isValidDateDownEl(s))},this.handleDragEnd=r=>{let{component:i}=this,{pointer:s}=this.dragging;if(!s.wasTouchScroll){let{initialHit:o,finalHit:a}=this.hitDragging;if(o&&a&&Gp(o,a)){let{context:l}=i,u=Object.assign(Object.assign({},tO(o.dateSpan,l)),{dayEl:o.dayEl,jsEvent:r.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",u)}}},this.dragging=new zs(e.el),this.dragging.autoScroller.isEnabled=!1;let n=this.hitDragging=new Na(this.dragging,fu(e));n.emitter.on("pointerdown",this.handlePointerDown),n.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}},qI=class extends Fn{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=o=>{let{component:a,dragging:l}=this,{options:u}=a.context,d=u.selectable&&a.isValidDateDownEl(o.origEvent.target);l.setIgnoreMove(!d),l.delay=o.isTouch?X9(a):null},this.handleDragStart=o=>{this.component.context.calendarApi.unselect(o)},this.handleHitUpdate=(o,a)=>{let{context:l}=this.component,u=null,d=!1;if(o){let h=this.hitDragging.initialHit;o.componentId===h.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(h,o)||(u=e5(h,o,l.pluginHooks.dateSelectionTransformers)),(!u||!dI(u,o.dateProfile,l))&&(d=!0,u=null)}u?l.dispatch({type:"SELECT_DATES",selection:u}):a||l.dispatch({type:"UNSELECT_DATES"}),d?su():ou(),a||(this.dragSelection=u)},this.handlePointerUp=o=>{this.dragSelection&&(wp(this.dragSelection,o,this.component.context),this.dragSelection=null)};let{component:n}=e,{options:r}=n.context,i=this.dragging=new zs(e.el);i.touchScrollAllowed=!1,i.minDistance=r.selectMinDistance||0,i.autoScroller.isEnabled=r.dragScroll;let s=this.hitDragging=new Na(this.dragging,fu(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}};function X9(t){let{options:e}=t.context,n=e.selectLongPressDelay;return n==null&&(n=e.longPressDelay),n}function e5(t,e,n){let r=t.dateSpan,i=e.dateSpan,s=[r.range.start,r.range.end,i.range.start,i.range.end];s.sort(kw);let o={};for(let a of n){let l=a(t,e);if(l===!1)return null;l&&Object.assign(o,l)}return o.range={start:s[0],end:s[3]},o.allDay=r.allDay,o}var nO=(()=>{class t extends Fn{constructor(n){super(n),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let l=a.origEvent.target,{component:u,dragging:d}=this,{mirror:h}=d,{options:m}=u.context,p=u.context;this.subjectEl=a.subjectEl;let _=this.subjectSeg=Qr(a.subjectEl),w=(this.eventRange=_.eventRange).instance.instanceId;this.relevantEvents=uu(p.getCurrentData().eventStore,w),d.minDistance=a.isTouch?0:m.eventDragMinDistance,d.delay=a.isTouch&&w!==u.props.eventSelection?n5(u):null,m.fixedMirrorParent?h.parentNode=m.fixedMirrorParent:h.parentNode=ot(l,".fc"),h.revertDuration=m.dragRevertDuration;let R=u.isValidSegDownEl(l)&&!ot(l,".fc-event-resizer");d.setIgnoreMove(!R),this.isDragging=R&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let l=this.component.context,u=this.eventRange,d=u.instance.instanceId;a.isTouch?d!==this.component.props.eventSelection&&l.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):l.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(l.calendarApi.unselect(a),l.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Oe(l,u.def,u.instance),jsEvent:a.origEvent,view:l.viewApi}))},this.handleHitUpdate=(a,l)=>{if(!this.isDragging)return;let u=this.relevantEvents,d=this.hitDragging.initialHit,h=this.component.context,m=null,p=null,_=null,I=!1,w={affectedEvents:u,mutatedEvents:$t(),isEvent:!0};if(a){m=a.context;let R=m.options;h===m||R.editable&&R.droppable?(p=t5(d,a,this.eventRange.instance.range.start,m.getCurrentData().pluginHooks.eventDragMutationMassagers),p&&(_=du(u,m.getCurrentData().eventUiBases,p,m),w.mutatedEvents=_,Rp(w,a.dateProfile,m)||(I=!0,p=null,_=null,w.mutatedEvents=$t()))):m=null}this.displayDrag(m,w),I?su():ou(),l||(h===m&&Gp(d,a)&&(p=null),this.dragging.setMirrorNeedsRevert(!p),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=m,this.validMutation=p,this.mutatedRelevantEvents=_)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let l=this.component.context,u=l.viewApi,{receivingContext:d,validMutation:h}=this,m=this.eventRange.def,p=this.eventRange.instance,_=new Oe(l,m,p),I=this.relevantEvents,w=this.mutatedRelevantEvents,{finalHit:R}=this.hitDragging;if(this.clearDrag(),l.emitter.trigger("eventDragStop",{el:this.subjectEl,event:_,jsEvent:a.origEvent,view:u}),h){if(d===l){let P=new Oe(l,w.defs[m.defId],p?w.instances[p.instanceId]:null);l.dispatch({type:"MERGE_EVENTS",eventStore:w});let O={oldEvent:_,event:P,relatedEvents:or(w,l,p),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:I})}},B={};for(let me of l.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(B,me(h,l));l.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},O),B),{el:a.subjectEl,delta:h.datesDelta,jsEvent:a.origEvent,view:u})),l.emitter.trigger("eventChange",O)}else if(d){let P={event:_,relatedEvents:or(I,l,p),revert(){l.dispatch({type:"MERGE_EVENTS",eventStore:I})}};l.emitter.trigger("eventLeave",Object.assign(Object.assign({},P),{draggedEl:a.subjectEl,view:u})),l.dispatch({type:"REMOVE_EVENTS",eventStore:I}),l.emitter.trigger("eventRemove",P);let O=w.defs[m.defId],B=w.instances[p.instanceId],me=new Oe(d,O,B);d.dispatch({type:"MERGE_EVENTS",eventStore:w});let W={event:me,relatedEvents:or(w,d,B),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:w})}};d.emitter.trigger("eventAdd",W),a.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:p.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},tO(R.dateSpan,d)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:R.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},W),{draggedEl:a.subjectEl,view:R.context.viewApi}))}}else l.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:r}=this,{options:i}=r.context,s=this.dragging=new zs(n.el);s.pointer.selector=t.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=i.dragScroll;let o=this.hitDragging=new Na(this.dragging,Sa);o.useSubjectCenter=n.useEventCenter,o.emitter.on("pointerdown",this.handlePointerDown),o.emitter.on("dragstart",this.handleDragStart),o.emitter.on("hitupdate",this.handleHitUpdate),o.emitter.on("pointerup",this.handlePointerUp),o.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(n,r){let i=this.component.context,s=this.receivingContext;s&&s!==n&&(s===i?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:r.affectedEvents,mutatedEvents:$t(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),n&&n.dispatch({type:"SET_EVENT_DRAG",state:r})}clearDrag(){let n=this.component.context,{receivingContext:r}=this;r&&r.dispatch({type:"UNSET_EVENT_DRAG"}),n!==r&&n.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}return t.SELECTOR=".fc-event-draggable, .fc-event-resizable",t})();function t5(t,e,n,r){let i=t.dateSpan,s=e.dateSpan,o=i.range.start,a=s.range.start,l={};i.allDay!==s.allDay&&(l.allDay=s.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,s.allDay?o=Pe(n):o=n);let u=Vi(o,a,t.context.dateEnv,t.componentId===e.componentId?t.largeUnit:null);u.milliseconds&&(l.allDay=!1);let d={datesDelta:u,standardProps:l};for(let h of r)h(d,t,e);return d}function n5(t){let{options:e}=t.context,n=e.eventLongPressDelay;return n==null&&(n=e.longPressDelay),n}var WI=class extends Fn{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=s=>{let{component:o}=this,a=this.querySegEl(s),l=Qr(a),u=this.eventRange=l.eventRange;this.dragging.minDistance=o.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(s.origEvent.target)||s.isTouch&&this.component.props.eventSelection!==u.instance.instanceId)},this.handleDragStart=s=>{let{context:o}=this.component,a=this.eventRange;this.relevantEvents=uu(o.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(s);this.draggingSegEl=l,this.draggingSeg=Qr(l),o.calendarApi.unselect(),o.emitter.trigger("eventResizeStart",{el:l,event:new Oe(o,a.def,a.instance),jsEvent:s.origEvent,view:o.viewApi})},this.handleHitUpdate=(s,o,a)=>{let{context:l}=this.component,u=this.relevantEvents,d=this.hitDragging.initialHit,h=this.eventRange.instance,m=null,p=null,_=!1,I={affectedEvents:u,mutatedEvents:$t(),isEvent:!0};s&&(s.componentId===d.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(d,s)||(m=r5(d,s,a.subjectEl.classList.contains("fc-event-resizer-start"),h.range))),m&&(p=du(u,l.getCurrentData().eventUiBases,m,l),I.mutatedEvents=p,Rp(I,s.dateProfile,l)||(_=!0,m=null,p=null,I.mutatedEvents=null)),p?l.dispatch({type:"SET_EVENT_RESIZE",state:I}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),_?su():ou(),o||(m&&Gp(d,s)&&(m=null),this.validMutation=m,this.mutatedRelevantEvents=p)},this.handleDragEnd=s=>{let{context:o}=this.component,a=this.eventRange.def,l=this.eventRange.instance,u=new Oe(o,a,l),d=this.relevantEvents,h=this.mutatedRelevantEvents;if(o.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:u,jsEvent:s.origEvent,view:o.viewApi}),this.validMutation){let m=new Oe(o,h.defs[a.defId],l?h.instances[l.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:h});let p={oldEvent:u,event:m,relatedEvents:or(h,o,l),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:d})}};o.emitter.trigger("eventResize",Object.assign(Object.assign({},p),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||De(0),endDelta:this.validMutation.endDelta||De(0),jsEvent:s.origEvent,view:o.viewApi})),o.emitter.trigger("eventChange",p)}else o.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:n}=e,r=this.dragging=new zs(e.el);r.pointer.selector=".fc-event-resizer",r.touchScrollAllowed=!1,r.autoScroller.isEnabled=n.context.options.dragScroll;let i=this.hitDragging=new Na(this.dragging,fu(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return ot(e.subjectEl,".fc-event")}};function r5(t,e,n,r){let i=t.context.dateEnv,s=t.dateSpan.range.start,o=e.dateSpan.range.start,a=Vi(s,o,i,t.largeUnit);if(n){if(i.add(r.start,a)<r.end)return{startDelta:a}}else if(i.add(r.end,a)>r.start)return{endDelta:a};return null}var GI=class{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=r=>{r.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=r=>{let i=this.context.options.unselectCancel,s=dp(r.origEvent);this.matchesCancel=!!ot(s,i),this.matchesEvent=!!ot(s,nO.SELECTOR)},this.onDocumentPointerUp=r=>{let{context:i}=this,{documentPointer:s}=this,o=i.getCurrentData();if(!s.wasTouchScroll){if(o.dateSelection&&!this.isRecentPointerDateSelect){let a=i.options.unselectAuto;a&&(!a||!this.matchesCancel)&&i.calendarApi.unselect(r)}o.eventSelection&&!this.matchesEvent&&i.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let n=this.documentPointer=new zp(document);n.shouldIgnoreMove=!0,n.shouldWatchScroll=!1,n.emitter.on("pointerdown",this.onDocumentPointerDown),n.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}},i5={fixedMirrorParent:N},s5={dateClick:N,eventDragStart:N,eventDragStop:N,eventDrop:N,eventResizeStart:N,eventResizeStop:N,eventResize:N,drop:N,eventReceive:N,eventLeave:N};gu.dataAttrPrefix="";var rO=lr({name:"@fullcalendar/interaction",componentInteractions:[zI,qI,nO,WI],calendarInteractions:[GI],elementDraggingImpl:zs,optionRefiners:i5,listenerRefiners:s5});var Kp=class t{calendarOptions={contentHeight:"93vh",initialView:"dayGridMonth",plugins:[JP,rO],events:[{title:"Meeting",name:"juan de la cruz",date:"2025-02-20"},{title:"Birthday",date:"2025-02-25"}],dateClick:this.handleDateClick.bind(this)};handleDateClick(e){alert("Date clicked: "+e.dateStr)}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=kt({type:t,selectors:[["app-appointments"]],decls:1,vars:1,consts:[[3,"options"]],template:function(n,r){n&1&&Ve(0,"full-calendar",0),n&2&&X("options",r.calendarOptions)},dependencies:[Pn,WP,qP],encapsulation:2})};var Yp=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=kt({type:t,selectors:[["app-immunization"]],decls:2,vars:0,template:function(n,r){n&1&&(te(0,"p"),He(1,"immunization works!"),Y())},encapsulation:2})};var iO=[{path:"appointment",component:Kp},{path:"immunization",component:Yp}];var oO=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},o5=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Zp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,h=(s&3)<<4|a>>4,m=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(m=64)),r.push(n[d],n[h],n[m],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(oO(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):o5(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let u=i<t.length?n[t.charAt(i)]:64;++i;let h=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||u==null||h==null)throw new QI;let m=s<<2|a>>4;if(r.push(m),u!==64){let p=a<<4&240|u>>2;if(r.push(p),h!==64){let _=u<<6&192|h;r.push(_)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},QI=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},a5=function(t){let e=oO(t);return Zp.encodeByteArray(e,!0)},mu=function(t){return a5(t).replace(/\./g,"")},Jp=function(t){try{return Zp.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function aO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var l5=()=>aO().__FIREBASE_DEFAULTS__,c5=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},u5=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Jp(t[1]);return e&&JSON.parse(e)},Xp=()=>{try{return l5()||c5()||u5()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},ZI=t=>{var e,n;return(n=(e=Xp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lO=t=>{let e=ZI(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},JI=()=>{var t;return(t=Xp())===null||t===void 0?void 0:t.config},XI=t=>{var e;return(e=Xp())===null||e===void 0?void 0:e[`_${t}`]};var qs=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function cO(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[mu(JSON.stringify(n)),mu(JSON.stringify(o)),""].join(".")}function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function d5(){var t;let e=(t=Xp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function dO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fO(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function hO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pO(){let t=pt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gO(){return!d5()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Ws(){try{return typeof indexedDB=="object"}catch{return!1}}function eg(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}function mO(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}var f5="FirebaseError",zt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=f5,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qt.prototype.create)}},qt=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?h5(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new zt(i,a,r)}};function h5(t,e){return t.replace(p5,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var p5=/\{\$([^}]+)}/g;function yO(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Gs(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(sO(s)&&sO(o)){if(!Gs(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function sO(t){return t!==null&&typeof t=="object"}function xa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function vO(t,e){let n=new YI(t,e);return n.subscribe.bind(n)}var YI=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");g5(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=KI),i.error===void 0&&(i.error=KI),i.complete===void 0&&(i.complete=KI);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function g5(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function KI(){}var Rce=4*60*60*1e3;function lt(t){return t&&t._delegate?t._delegate:t}var Ze=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ks="[DEFAULT]";var eb=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new qs;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(y5(e))try{this.getOrInitializeService({instanceIdentifier:Ks})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ks){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return E(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ks){return this.instances.has(e)}getOptions(e=Ks){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:m5(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ks){return this.component?this.component.multipleInstances?e:Ks:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function m5(t){return t===Ks?void 0:t}function y5(t){return t.instantiationMode==="EAGER"}var tg=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new eb(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var v5=[],ye=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ye||{}),_5={debug:ye.DEBUG,verbose:ye.VERBOSE,info:ye.INFO,warn:ye.WARN,error:ye.ERROR,silent:ye.SILENT},E5=ye.INFO,w5={[ye.DEBUG]:"log",[ye.VERBOSE]:"log",[ye.INFO]:"info",[ye.WARN]:"warn",[ye.ERROR]:"error"},I5=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=w5[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},cr=class{constructor(e){this.name=e,this._logLevel=E5,this._logHandler=I5,this._userLogHandler=null,v5.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_5[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ye.DEBUG,...e),this._logHandler(this,ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ye.VERBOSE,...e),this._logHandler(this,ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ye.INFO,...e),this._logHandler(this,ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ye.WARN,...e),this._logHandler(this,ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ye.ERROR,...e),this._logHandler(this,ye.ERROR,...e)}};var b5=(t,e)=>e.some(n=>t instanceof n),_O,EO;function D5(){return _O||(_O=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function T5(){return EO||(EO=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var wO=new WeakMap,nb=new WeakMap,IO=new WeakMap,tb=new WeakMap,ib=new WeakMap;function C5(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(jn(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&wO.set(n,t)}).catch(()=>{}),ib.set(e,t),e}function S5(t){if(nb.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});nb.set(t,e)}var rb={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return nb.get(t);if(e==="objectStoreNames")return t.objectStoreNames||IO.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return jn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function bO(t){rb=t(rb)}function A5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(ng(this),e,...n);return IO.set(r,e.sort?e.sort():[e]),jn(r)}:T5().includes(t)?function(...e){return t.apply(ng(this),e),jn(wO.get(this))}:function(...e){return jn(t.apply(ng(this),e))}}function R5(t){return typeof t=="function"?A5(t):(t instanceof IDBTransaction&&S5(t),b5(t,D5())?new Proxy(t,rb):t)}function jn(t){if(t instanceof IDBRequest)return C5(t);if(tb.has(t))return tb.get(t);let e=R5(t);return e!==t&&(tb.set(t,e),ib.set(e,t)),e}var ng=t=>ib.get(t);function Qs(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=jn(o);return r&&o.addEventListener("upgradeneeded",l=>{r(jn(o.result),l.oldVersion,l.newVersion,jn(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}function rg(t,{blocked:e}={}){let n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",r=>e(r.oldVersion,r)),jn(n).then(()=>{})}var M5=["get","getKey","getAll","getAllKeys","count"],N5=["put","add","delete","clear"],sb=new Map;function DO(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(sb.get(e))return sb.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=N5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||M5.includes(n)))return;let s=function(o,...a){return E(this,null,function*(){let l=this.transaction(o,i?"readwrite":"readonly"),u=l.store;return r&&(u=u.index(a.shift())),(yield Promise.all([u[n](...a),i&&l.done]))[0]})};return sb.set(e,s),s}bO(t=>pe(j({},t),{get:(e,n,r)=>DO(e,n)||t.get(e,n,r),has:(e,n)=>!!DO(e,n)||t.has(e,n)}));var ab=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(x5(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function x5(t){let e=t.getComponent();return e?.type==="VERSION"}var lb="@firebase/app",TO="0.11.1";var Yr=new cr("@firebase/app"),k5="@firebase/app-compat",P5="@firebase/analytics-compat",O5="@firebase/analytics",F5="@firebase/app-check-compat",L5="@firebase/app-check",V5="@firebase/auth",j5="@firebase/auth-compat",U5="@firebase/database",B5="@firebase/data-connect",H5="@firebase/database-compat",$5="@firebase/functions",z5="@firebase/functions-compat",q5="@firebase/installations",W5="@firebase/installations-compat",G5="@firebase/messaging",K5="@firebase/messaging-compat",Q5="@firebase/performance",Y5="@firebase/performance-compat",Z5="@firebase/remote-config",J5="@firebase/remote-config-compat",X5="@firebase/storage",e8="@firebase/storage-compat",t8="@firebase/firestore",n8="@firebase/vertexai",r8="@firebase/firestore-compat",i8="firebase",s8="11.3.1";var cb="[DEFAULT]",o8={[lb]:"fire-core",[k5]:"fire-core-compat",[O5]:"fire-analytics",[P5]:"fire-analytics-compat",[L5]:"fire-app-check",[F5]:"fire-app-check-compat",[V5]:"fire-auth",[j5]:"fire-auth-compat",[U5]:"fire-rtdb",[B5]:"fire-data-connect",[H5]:"fire-rtdb-compat",[$5]:"fire-fn",[z5]:"fire-fn-compat",[q5]:"fire-iid",[W5]:"fire-iid-compat",[G5]:"fire-fcm",[K5]:"fire-fcm-compat",[Q5]:"fire-perf",[Y5]:"fire-perf-compat",[Z5]:"fire-rc",[J5]:"fire-rc-compat",[X5]:"fire-gcs",[e8]:"fire-gcs-compat",[t8]:"fire-fst",[r8]:"fire-fst-compat",[n8]:"fire-vertex","fire-js":"fire-js",[i8]:"fire-js-all"};var yu=new Map,a8=new Map,ub=new Map;function CO(t,e){try{t.container.addComponent(e)}catch(n){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dt(t){let e=t.name;if(ub.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;ub.set(e,t);for(let n of yu.values())CO(n,t);for(let n of a8.values())CO(n,t);return!0}function Un(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function gn(t){return t==null?!1:t.settings!==void 0}var l8={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Hi=new qt("app","Firebase",l8);var db=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ze("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Hi.create("app-deleted",{appName:this._name})}};var $i=s8;function pb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:cb,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Hi.create("bad-app-name",{appName:String(i)});if(n||(n=JI()),!n)throw Hi.create("no-options");let s=yu.get(i);if(s){if(Gs(n,s.options)&&Gs(r,s.config))return s;throw Hi.create("duplicate-app",{appName:i})}let o=new tg(i);for(let l of ub.values())o.addComponent(l);let a=new db(n,r,o);return yu.set(i,a),a}function ur(t=cb){let e=yu.get(t);if(!e&&t===cb&&JI())return pb();if(!e)throw Hi.create("no-app",{appName:t});return e}function ig(){return Array.from(yu.values())}function Me(t,e,n){var r;let i=(r=o8[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(a.join(" "));return}Dt(new Ze(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var c8="firebase-heartbeat-database",u8=1,vu="firebase-heartbeat-store",ob=null;function MO(){return ob||(ob=Qs(c8,u8,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Hi.create("idb-open",{originalErrorMessage:t.message})})),ob}function d8(t){return E(this,null,function*(){try{let n=(yield MO()).transaction(vu),r=yield n.objectStore(vu).get(NO(t));return yield n.done,r}catch(e){if(e instanceof zt)Yr.warn(e.message);else{let n=Hi.create("idb-get",{originalErrorMessage:e?.message});Yr.warn(n.message)}}})}function SO(t,e){return E(this,null,function*(){try{let r=(yield MO()).transaction(vu,"readwrite");yield r.objectStore(vu).put(e,NO(t)),yield r.done}catch(n){if(n instanceof zt)Yr.warn(n.message);else{let r=Hi.create("idb-set",{originalErrorMessage:n?.message});Yr.warn(r.message)}}})}function NO(t){return`${t.name}!${t.options.appId}`}var f8=1024,h8=30,fb=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new hb(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return E(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=AO();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>h8){let o=g8(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Yr.warn(r)}})}getHeartbeatsHeader(){return E(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=AO(),{heartbeatsToSend:r,unsentEntries:i}=p8(this._heartbeatsCache.heartbeats),s=mu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Yr.warn(n),""}})}};function AO(){return new Date().toISOString().substring(0,10)}function p8(t,e=f8){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),RO(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),RO(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var hb=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return E(this,null,function*(){return Ws()?eg().then(()=>!0).catch(()=>!1):!1})}read(){return E(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield d8(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return SO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return E(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return SO(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function RO(t){return mu(JSON.stringify({version:2,heartbeats:t})).length}function g8(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}function m8(t){Dt(new Ze("platform-logger",e=>new ab(e),"PRIVATE")),Dt(new Ze("heartbeat",e=>new fb(e),"PRIVATE")),Me(lb,TO,t),Me(lb,TO,"esm2017"),Me("fire-js","")}m8("");var y8="firebase",v8="11.3.1";Me(y8,v8,"app");function gb(t){t===void 0&&(Q0(gb),t=V(Qe));let e=t.get(Zf);return n=>new ue(r=>{let i=e.add(),s=!1;function o(){s||(i(),s=!0)}let a=n.subscribe({next:l=>{r.next(l),o()},complete:()=>{r.complete(),o()},error:l=>{r.error(l),o()}});return a.add(()=>{r.unsubscribe(),o()}),a})}var dr=new xr("ANGULARFIRE2_VERSION");function Zs(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var zi=(t,e)=>{let n=e?[e]:ig(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ka=function(t){return t[t.SILENT=0]="SILENT",t[t.WARN=1]="WARN",t[t.VERBOSE=2]="VERBOSE",t}(ka||{}),xO=q_()&&typeof Zone<"u"?ka.WARN:ka.SILENT;var sg=class{zone;delegate;constructor(e,n=Sy){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i?i.runGuarded(()=>{e.apply(this,[o])}):e.apply(this,[o])};return this.delegate.schedule(s,n,r)}},fr=(()=>{class t{outsideAngular;insideAngular;constructor(){let n=V(Ae);this.outsideAngular=n.runOutsideAngular(()=>new sg(typeof Zone>"u"?void 0:Zone.current)),this.insideAngular=n.run(()=>new sg(typeof Zone>"u"?void 0:Zone.current,Cy))}static \u0275fac=function(r){return new(r||t)};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),kO=!1;function _8(t,e){!kO&&(xO>ka.SILENT||q_())&&(kO=!0,console.warn("Calling Firebase APIs outside of an Injection context may destabilize your application leading to subtle change-detection and hydration bugs. Find more at https://github.com/angular/angularfire/blob/main/docs/zones.md")),xO>=e&&console.warn(`Firebase API called outside injection context: ${t.name}`)}function E8(t){let e=V(Ae,{optional:!0});return e?e.runOutsideAngular(()=>t()):t()}function Ys(t){let e=V(Ae,{optional:!0});return e?e.run(()=>t()):t()}var w8=(t,e,n)=>(...r)=>(e&&setTimeout(e,0),Et(n,()=>Ys(()=>t.apply(void 0,r)))),Pt=(t,e,n)=>(n||=e?ka.WARN:ka.VERBOSE,function(){let r,i=arguments,s,o,a;try{s=V(fr),o=V(Zf),a=V(Mt)}catch{return _8(t,n),t.apply(this,i)}for(let u=0;u<arguments.length;u++)typeof i[u]=="function"&&(e&&(r||=Ys(()=>o.add())),i[u]=w8(i[u],r,a));let l=E8(()=>t.apply(this,i));return e?l instanceof ue?l.pipe(mi(s.outsideAngular),gi(s.insideAngular),gb(a)):l instanceof Promise?Ys(()=>new Promise((u,d)=>{o.run(()=>l).then(h=>Et(a,()=>Ys(()=>u(h))),h=>Et(a,()=>Ys(()=>d(h))))})):typeof l=="function"&&r?function(){return setTimeout(r,0),l.apply(this,arguments)}:Ys(()=>l):l instanceof ue?l.pipe(mi(s.outsideAngular),gi(s.insideAngular)):Ys(()=>l)});var Bn=class{constructor(e){return e}},Zr=class{constructor(){return ig()}};function I8(t){return t&&t.length===1?t[0]:new Bn(ur())}var mb=new $("angularfire2._apps"),b8={provide:Bn,useFactory:I8,deps:[[new dt,mb]]},D8={provide:Zr,deps:[[new dt,mb]]};function T8(t){return(e,n)=>{let r=n.get(bn);Me("angularfire",dr.full,"core"),Me("angularfire",dr.full,"app"),Me("angular",eN.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Bn(i)}}function PO(t,...e){return Zt([b8,D8,{provide:mb,useFactory:T8(t),multi:!0,deps:[Ae,Qe,fr,...e]}])}var OO=Pt(pb,!0);var C8=new Map,S8={activated:!1,tokenObservers:[]},A8={initialized:!1,enabled:!1};function Hn(t){return C8.get(t)||Object.assign({},S8)}function UO(){return A8}var R8="https://content-firebaseappcheck.googleapis.com/v1";var M8="exchangeDebugToken",FO={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Pue=24*60*60*1e3;var vb=class{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){return E(this,null,function*(){this.stop();try{this.pending=new qs,this.pending.promise.catch(n=>{}),yield N8(this.getNextRun(e)),this.pending.resolve(),yield this.pending.promise,this.pending=new qs,this.pending.promise.catch(n=>{}),yield this.operation(),this.pending.resolve(),yield this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}})}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{let n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}};function N8(t){return new Promise(e=>{setTimeout(e,t)})}var x8={"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},qi=new qt("appCheck","AppCheck",x8);function BO(t){if(!Hn(t).activated)throw qi.create("use-before-activation",{appName:t.name})}function HO(r,i){return E(this,arguments,function*({url:t,body:e},n){let s={"Content-Type":"application/json"},o=n.getImmediate({optional:!0});if(o){let p=yield o.getHeartbeatsHeader();p&&(s["X-Firebase-Client"]=p)}let a={method:"POST",body:JSON.stringify(e),headers:s},l;try{l=yield fetch(t,a)}catch(p){throw qi.create("fetch-network-error",{originalErrorMessage:p?.message})}if(l.status!==200)throw qi.create("fetch-status-error",{httpStatus:l.status});let u;try{u=yield l.json()}catch(p){throw qi.create("fetch-parse-error",{originalErrorMessage:p?.message})}let d=u.ttl.match(/^([\d.]+)(s)$/);if(!d||!d[2]||isNaN(Number(d[1])))throw qi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${u.ttl}`});let h=Number(d[1])*1e3,m=Date.now();return{token:u.token,expireTimeMillis:m+h,issuedAtTimeMillis:m}})}function $O(t,e){let{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${R8}/projects/${n}/apps/${r}:${M8}?key=${i}`,body:{debug_token:e}}}var k8="firebase-app-check-database",P8=1,_b="firebase-app-check-store";var og=null;function O8(){return og||(og=new Promise((t,e)=>{try{let n=indexedDB.open(k8,P8);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(qi.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{let i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(_b,{keyPath:"compositeKey"})}}}catch(n){e(qi.create("storage-open",{originalErrorMessage:n?.message}))}}),og)}function F8(t,e){return L8(V8(t),e)}function L8(t,e){return E(this,null,function*(){let r=(yield O8()).transaction(_b,"readwrite"),s=r.objectStore(_b).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(qi.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})})}function V8(t){return`${t.options.appId}-${t.name}`}var Eb=new cr("@firebase/app-check");function yb(t,e){return Ws()?F8(t,e).catch(n=>{Eb.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function zO(){return UO().enabled}function qO(){return E(this,null,function*(){let t=UO();if(t.enabled&&t.token)return t.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)})}var j8={error:"UNKNOWN_ERROR"};function U8(t){return Zp.encodeString(JSON.stringify(t),!1)}function wb(t,e=!1){return E(this,null,function*(){let n=t.app;BO(n);let r=Hn(n),i=r.token,s;if(i&&!_u(i)&&(r.token=void 0,i=void 0),!i){let l=yield r.cachedTokenPromise;l&&(_u(l)?i=l:yield yb(n,void 0))}if(!e&&i&&_u(i))return{token:i.token};let o=!1;if(zO()){r.exchangeTokenPromise||(r.exchangeTokenPromise=HO($O(n,yield qO()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);let l=yield r.exchangeTokenPromise;return yield yb(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Hn(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Eb.warn(l.message):Eb.error(l),s=l}let a;return i?s?_u(i)?a={token:i.token,internalError:s}:a=VO(s):(a={token:i.token},r.token=i,yield yb(n,i)):a=VO(s),o&&z8(n,a),a})}function B8(t){return E(this,null,function*(){let e=t.app;BO(e);let{provider:n}=Hn(e);if(zO()){let r=yield qO(),{token:i}=yield HO($O(e,r),t.heartbeatServiceProvider);return{token:i}}else{let{token:r}=yield n.getToken();return{token:r}}})}function H8(t,e,n,r){let{app:i}=t,s=Hn(i),o={next:n,error:r,type:e};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&_u(s.token)){let a=s.token;Promise.resolve().then(()=>{n({token:a.token}),LO(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>LO(t))}function WO(t,e){let n=Hn(t),r=n.tokenObservers.filter(i=>i.next!==e);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function LO(t){let{app:e}=t,n=Hn(e),r=n.tokenRefresher;r||(r=$8(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function $8(t){let{app:e}=t;return new vb(()=>E(this,null,function*(){let n=Hn(e),r;if(n.token?r=yield wb(t,!0):r=yield wb(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{let n=Hn(e);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5,i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},FO.RETRIAL_MIN_WAIT,FO.RETRIAL_MAX_WAIT)}function z8(t,e){let n=Hn(t).tokenObservers;for(let r of n)try{r.type==="EXTERNAL"&&e.error!=null?r.error(e.error):r.next(e)}catch{}}function _u(t){return t.expireTimeMillis-Date.now()>0}function VO(t){return{token:U8(j8),error:t}}var Ib=class{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){let{tokenObservers:e}=Hn(this.app);for(let n of e)WO(this.app,n.next);return Promise.resolve()}};function q8(t,e){return new Ib(t,e)}function W8(t){return{getToken:e=>wb(t,e),getLimitedUseToken:()=>B8(t),addTokenListener:e=>H8(t,"INTERNAL",e),removeTokenListener:e=>WO(t.app,e)}}var G8="@firebase/app-check",K8="0.8.11";var Q8="app-check",jO="app-check-internal";function Y8(){Dt(new Ze(Q8,t=>{let e=t.getProvider("app").getImmediate(),n=t.getProvider("heartbeat");return q8(e,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(jO).initialize()})),Dt(new Ze(jO,t=>{let e=t.getProvider("app-check").getImmediate();return W8(e)},"PUBLIC").setInstantiationMode("EXPLICIT")),Me(G8,K8)}Y8();var Z8="app-check";var Pa=class{constructor(){return zi(Z8)}};var J8=["localhost","0.0.0.0","127.0.0.1"],Gue=typeof window<"u"&&J8.includes(window.location.hostname);function a1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var l1=a1,c1=new qt("auth","Firebase",a1());var fg=new cr("@firebase/auth");function X8(t,...e){fg.logLevel<=ye.WARN&&fg.warn(`Auth (${$i}): ${t}`,...e)}function lg(t,...e){fg.logLevel<=ye.ERROR&&fg.error(`Auth (${$i}): ${t}`,...e)}function pr(t,...e){throw Ub(t,...e)}function $n(t,...e){return Ub(t,...e)}function jb(t,e,n){let r=Object.assign(Object.assign({},l1()),{[e]:n});return new qt("auth","Firebase",r).create(e,{appName:t.name})}function Js(t){return jb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function eK(t,e,n){let r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&pr(t,"argument-error"),jb(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Ub(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return c1.create(t,...e)}function re(t,e,...n){if(!t)throw Ub(e,...n)}function Jr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw lg(e),new Error(e)}function ei(t,e){t||Jr(e)}function Tb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function tK(){return GO()==="http:"||GO()==="https:"}function GO(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function nK(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tK()||fO()||"connection"in navigator)?navigator.onLine:!0}function rK(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Xs=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,ei(n>e,"Short delay should be less than long delay!"),this.isMobile=uO()||hO()}get(){return nK()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Bb(t,e){ei(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var hg=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var iK={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var sK=new Xs(3e4,6e4);function Hb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function La(s,o,a,l){return E(this,arguments,function*(t,e,n,r,i={}){return u1(t,i,()=>E(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let h=xa(Object.assign({key:t.config.apiKey},d)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let p=Object.assign({method:e,headers:m},u);return dO()||(p.referrerPolicy="no-referrer"),hg.fetch()(d1(t,t.config.apiHost,n,h),p)}))})}function u1(t,e,n){return E(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},iK),e);try{let i=new Cb(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw ag(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw ag(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw ag(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw ag(t,"user-disabled",o);let d=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw jb(t,d,u);pr(t,d)}}catch(i){if(i instanceof zt)throw i;pr(t,"network-request-failed",{message:String(i)})}})}function oK(s,o,a,l){return E(this,arguments,function*(t,e,n,r,i={}){let u=yield La(t,e,n,r,i);return"mfaPendingCredential"in u&&pr(t,"multi-factor-auth-required",{_serverResponse:u}),u})}function d1(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Bb(t.config,i):`${t.config.apiScheme}://${i}`}var Cb=class{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($n(this.auth,"network-request-failed")),sK.get())})}};function ag(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=$n(t,e,r);return i.customData._tokenResponse=n,i}function aK(t,e){return E(this,null,function*(){return La(t,"POST","/v1/accounts:delete",e)})}function f1(t,e){return E(this,null,function*(){return La(t,"POST","/v1/accounts:lookup",e)})}function Eu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function $b(t,e=!1){return E(this,null,function*(){let n=lt(t),r=yield n.getIdToken(e),i=zb(r);re(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Eu(bb(i.auth_time)),issuedAtTime:Eu(bb(i.iat)),expirationTime:Eu(bb(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function bb(t){return Number(t)*1e3}function zb(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return lg("JWT malformed, contained fewer than 3 sections"),null;try{let i=Jp(n);return i?JSON.parse(i):(lg("Failed to decode base64 JWT payload"),null)}catch(i){return lg("Caught error parsing JWT payload as JSON",i?.toString()),null}}function KO(t){let e=zb(t);return re(e,"internal-error"),re(typeof e.exp<"u","internal-error"),re(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Iu(t,e,n=!1){return E(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof zt&&lK(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function lK({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Sb=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>E(this,null,function*(){yield this.iteration()}),n)}iteration(){return E(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var bu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Eu(this.lastLoginAt),this.creationTime=Eu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function pg(t){return E(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Iu(t,f1(n,{idToken:r}));re(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?h1(s.providerUserInfo):[],a=cK(t.providerData,o),l=t.isAnonymous,u=!(t.email&&s.passwordHash)&&!a?.length,d=l?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new bu(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)})}function qb(t){return E(this,null,function*(){let e=lt(t);yield pg(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function cK(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function h1(t){return t.map(e=>{var{providerId:n}=e,r=jd(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function uK(t,e){return E(this,null,function*(){let n=yield u1(t,{},()=>E(this,null,function*(){let r=xa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=d1(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",hg.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function dK(t,e){return E(this,null,function*(){return La(t,"POST","/v2/accounts:revokeToken",Hb(t,e))})}var wu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){re(e.idToken,"internal-error"),re(typeof e.idToken<"u","internal-error"),re(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):KO(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){re(e.length!==0,"internal-error");let n=KO(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return E(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(re(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return E(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield uK(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(re(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(re(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(re(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Jr("not implemented")}};function Wi(t,e){re(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Fa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=jd(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Sb(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new bu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return E(this,null,function*(){let n=yield Iu(this,this.stsTokenManager.getToken(this.auth,e));return re(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return $b(this,e)}reload(){return qb(this)}_assign(e){this!==e&&(re(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){re(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return E(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield pg(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return E(this,null,function*(){if(gn(this.auth.app))return Promise.reject(Js(this.auth));let e=yield this.getIdToken();return yield Iu(this,aK(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,l,u,d;let h=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,_=(o=n.photoURL)!==null&&o!==void 0?o:void 0,I=(a=n.tenantId)!==null&&a!==void 0?a:void 0,w=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,R=(u=n.createdAt)!==null&&u!==void 0?u:void 0,P=(d=n.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:O,emailVerified:B,isAnonymous:me,providerData:W,stsTokenManager:T}=n;re(O&&T,e,"internal-error");let v=wu.fromJSON(this.name,T);re(typeof O=="string",e,"internal-error"),Wi(h,e.name),Wi(m,e.name),re(typeof B=="boolean",e,"internal-error"),re(typeof me=="boolean",e,"internal-error"),Wi(p,e.name),Wi(_,e.name),Wi(I,e.name),Wi(w,e.name),Wi(R,e.name),Wi(P,e.name);let b=new t({uid:O,auth:e,email:m,emailVerified:B,displayName:h,isAnonymous:me,photoURL:_,phoneNumber:p,tenantId:I,stsTokenManager:v,createdAt:R,lastLoginAt:P});return W&&Array.isArray(W)&&(b.providerData=W.map(C=>Object.assign({},C))),w&&(b._redirectEventId=w),b}static _fromIdTokenResponse(e,n,r=!1){return E(this,null,function*(){let i=new wu;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield pg(s),s})}static _fromGetAccountInfoResponse(e,n,r){return E(this,null,function*(){let i=n.users[0];re(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?h1(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new wu;a.updateFromIdToken(r);let l=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new bu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(l,u),l})}};var QO=new Map;function Xr(t){ei(t instanceof Function,"Expected a class definition");let e=QO.get(t);return e?(ei(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,QO.set(t,e),e)}var fK=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return E(this,null,function*(){return!0})}_set(n,r){return E(this,null,function*(){this.storage[n]=r})}_get(n){return E(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return E(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Ab=fK;function cg(t,e,n){return`firebase:${t}:${e}:${n}`}var gg=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=cg(this.userKey,i.apiKey,s),this.fullPersistenceKey=cg("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return E(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Fa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return E(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return E(this,null,function*(){if(!n.length)return new t(Xr(Ab),e,r);let i=(yield Promise.all(n.map(u=>E(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Xr(Ab),o=cg(r,e.config.apiKey,e.name),a=null;for(let u of n)try{let d=yield u._get(o);if(d){let h=Fa._fromJSON(e,d);u!==s&&(a=h),s=u;break}}catch{}let l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new t(s,e,r):(s=l[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(u=>E(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new t(s,e,r))})}};function YO(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(y1(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(p1(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(_1(e))return"Blackberry";if(E1(e))return"Webos";if(g1(e))return"Safari";if((e.includes("chrome/")||m1(e))&&!e.includes("edge/"))return"Chrome";if(v1(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function p1(t=pt()){return/firefox\//i.test(t)}function g1(t=pt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function m1(t=pt()){return/crios\//i.test(t)}function y1(t=pt()){return/iemobile/i.test(t)}function v1(t=pt()){return/android/i.test(t)}function _1(t=pt()){return/blackberry/i.test(t)}function E1(t=pt()){return/webos/i.test(t)}function Wb(t=pt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hK(t=pt()){var e;return Wb(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function pK(){return pO()&&document.documentMode===10}function w1(t=pt()){return Wb(t)||v1(t)||E1(t)||_1(t)||/windows phone/i.test(t)||y1(t)}function I1(t,e=[]){let n;switch(t){case"Browser":n=YO(pt());break;case"Worker":n=`${YO(pt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${$i}/${r}`}var Rb=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return E(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function gK(n){return E(this,arguments,function*(t,e={}){return La(t,"GET","/v2/passwordPolicy",Hb(t,e))})}var mK=6,Mb=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:mK,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let l={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,l),this.validatePasswordCharacterOptions(e,l),l.isValid&&(l.isValid=(n=l.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),l.isValid&&(l.isValid=(r=l.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),l.isValid&&(l.isValid=(i=l.containsLowercaseLetter)!==null&&i!==void 0?i:!0),l.isValid&&(l.isValid=(s=l.containsUppercaseLetter)!==null&&s!==void 0?s:!0),l.isValid&&(l.isValid=(o=l.containsNumericCharacter)!==null&&o!==void 0?o:!0),l.isValid&&(l.isValid=(a=l.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),l}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Nb=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mg(this),this.idTokenSubscription=new mg(this),this.beforeStateQueue=new Rb(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(()=>E(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield gg.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return E(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return E(this,null,function*(){try{let n=yield f1(this,{idToken:e}),r=yield Fa._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return E(this,null,function*(){var n;if(gn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,l=yield this.tryRedirectSignIn(e);(!o||o===a)&&l?.user&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return re(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return E(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return E(this,null,function*(){try{yield pg(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=rK()}_delete(){return E(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return E(this,null,function*(){if(gn(this.app))return Promise.reject(Js(this));let n=e?lt(e):null;return n&&re(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return E(this,null,function*(){if(!this._deleted)return e&&re(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>E(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return E(this,null,function*(){return gn(this.app)?Promise.reject(Js(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return gn(this.app)?Promise.reject(Js(this)):this.queue(()=>E(this,null,function*(){yield this.assertedPersistence.setPersistence(Xr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return E(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return E(this,null,function*(){let e=yield gK(this),n=new Mb(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new qt("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return E(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield dK(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return E(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return E(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Xr(e)||this._popupRedirectResolver;re(n,this,"argument-error"),this.redirectPersistenceManager=yield gg.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return E(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>E(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return E(this,null,function*(){if(e===this.currentUser)return this.queue(()=>E(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(re(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{let l=e.addObserver(n);return()=>{o=!0,l()}}}directlySetCurrentUser(e){return E(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return re(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=I1(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return E(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return E(this,null,function*(){var e;if(gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&X8(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Dg(t){return lt(t)}var mg=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=vO(n=>this.observer=n)}get next(){return re(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Gb={loadJS(){return E(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yK(t){Gb=t}function vK(t){return Gb.loadJS(t)}function _K(){return Gb.gapiScript}function b1(t){return`__${t}${Math.floor(Math.random()*1e6)}`}function Kb(t,e){let n=Un(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Gs(s,e??{}))return i;pr(i,"already-initialized")}return n.initialize({options:e})}function EK(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Xr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Qb(t,e,n){let r=Dg(t);re(r._canInitEmulator,r,"emulator-config-failed"),re(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=D1(e),{host:o,port:a}=wK(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||IK()}function D1(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function wK(t){let e=D1(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:ZO(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:ZO(o)}}}function ZO(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function IK(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Du=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,n){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}};function Oa(t,e){return E(this,null,function*(){return oK(t,"POST","/v1/accounts:signInWithIdp",Hb(t,e))})}var bK="http://localhost",yg=class t extends Du{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let n=new t(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):pr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,s=jd(n,["providerId","signInMethod"]);if(!r||!i)return null;let o=new t(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let n=this.buildRequest();return Oa(e,n)}_linkToIdToken(e,n){let r=this.buildRequest();return r.idToken=n,Oa(e,r)}_getReauthenticationResolver(e){let n=this.buildRequest();return n.autoCreate=!1,Oa(e,n)}buildRequest(){let e={requestUri:bK,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=xa(n)}return e}};var Tu=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var vg=class extends Tu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var Yb=(()=>{class t extends vg{constructor(){super("google.com"),this.addScope("profile")}static credential(n,r){return yg._fromParams({providerId:t.PROVIDER_ID,signInMethod:t.GOOGLE_SIGN_IN_METHOD,idToken:n,accessToken:r})}static credentialFromResult(n){return t.credentialFromTaggedObject(n)}static credentialFromError(n){return t.credentialFromTaggedObject(n.customData||{})}static credentialFromTaggedObject({_tokenResponse:n}){if(!n)return null;let{oauthIdToken:r,oauthAccessToken:i}=n;if(!r&&!i)return null;try{return t.credential(r,i)}catch{return null}}}t.GOOGLE_SIGN_IN_METHOD="google.com",t.PROVIDER_ID="google.com";return t})();var Cu=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return E(this,null,function*(){let s=yield Fa._fromIdTokenResponse(e,r,i),o=JO(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return E(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=JO(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function JO(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var xb=class t extends zt{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function T1(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xb._fromErrorAndOperation(t,s,e,r):s})}function DK(t,e,n=!1){return E(this,null,function*(){let r=yield Iu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Cu._forOperation(t,"link",r)})}function TK(t,e,n=!1){return E(this,null,function*(){let{auth:r}=t;if(gn(r.app))return Promise.reject(Js(r));let i="reauthenticate";try{let s=yield Iu(t,T1(r,i,e,t),n);re(s.idToken,r,"internal-error");let o=zb(s.idToken);re(o,r,"internal-error");let{sub:a}=o;return re(t.uid===a,r,"user-mismatch"),Cu._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&pr(r,"user-mismatch"),s}})}function CK(t,e,n=!1){return E(this,null,function*(){if(gn(t.app))return Promise.reject(Js(t));let r="signIn",i=yield T1(t,r,e),s=yield Cu._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Au(t,e,n,r){return lt(t).onIdTokenChanged(e,n,r)}function Zb(t,e,n){return lt(t).beforeAuthStateChanged(e,n)}function Jb(t){return lt(t).signOut()}var _g="__sak";var Eg=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_g,"1"),this.storage.removeItem(_g),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var SK=1e3,AK=10,RK=(()=>{class t extends Eg{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=w1(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,l,u)=>{this.notifyListeners(a,u)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);pK()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,AK):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},SK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return E(this,null,function*(){yield hi(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return E(this,null,function*(){let r=yield hi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return E(this,null,function*(){yield hi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),C1=RK;var MK=(()=>{class t extends Eg{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Xb=MK;function NK(t){return Promise.all(t.map(e=>E(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var xK=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return E(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let l=Array.from(a).map(d=>E(this,null,function*(){return d(r.origin,o)})),u=yield NK(l);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function eD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var kb=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return E(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{let u=eD("",20);i.port1.start();let d=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let m=h;if(m.data.eventId===u)switch(m.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function hr(){return window}function kK(t){hr().location.href=t}function S1(){return typeof hr().WorkerGlobalScope<"u"&&typeof hr().importScripts=="function"}function PK(){return E(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function OK(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function FK(){return S1()?self:null}var A1="firebaseLocalStorageDb",LK=1,wg="firebaseLocalStorage",R1="fbase_key",eo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Tg(t,e){return t.transaction([wg],e?"readwrite":"readonly").objectStore(wg)}function VK(){let t=indexedDB.deleteDatabase(A1);return new eo(t).toPromise()}function Pb(){let t=indexedDB.open(A1,LK);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(wg,{keyPath:R1})}catch(i){n(i)}}),t.addEventListener("success",()=>E(this,null,function*(){let r=t.result;r.objectStoreNames.contains(wg)?e(r):(r.close(),yield VK(),e(yield Pb()))}))})}function XO(t,e,n){return E(this,null,function*(){let r=Tg(t,!0).put({[R1]:e,value:n});return new eo(r).toPromise()})}function jK(t,e){return E(this,null,function*(){let n=Tg(t,!1).get(e),r=yield new eo(n).toPromise();return r===void 0?null:r.value})}function e1(t,e){let n=Tg(t,!0).delete(e);return new eo(n).toPromise()}var UK=800,BK=3,HK=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return E(this,null,function*(){return this.db?this.db:(this.db=yield Pb(),this.db)})}_withRetries(n){return E(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>BK)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return E(this,null,function*(){return S1()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return E(this,null,function*(){this.receiver=xK._getInstance(FK()),this.receiver._subscribe("keyChanged",(n,r)=>E(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>E(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return E(this,null,function*(){var n,r;if(this.activeServiceWorker=yield PK(),!this.activeServiceWorker)return;this.sender=new kb(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return E(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||OK()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return E(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Pb();return yield XO(n,_g,"1"),yield e1(n,_g),!0}catch{}return!1})}_withPendingWrite(n){return E(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(i=>XO(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return E(this,null,function*(){let r=yield this._withRetries(i=>jK(i,n));return this.localCache[n]=r,r})}_remove(n){return E(this,null,function*(){return this._withPendingWrite(()=>E(this,null,function*(){return yield this._withRetries(r=>e1(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return E(this,null,function*(){let n=yield this._withRetries(s=>{let o=Tg(s,!1).getAll();return new eo(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>E(this,null,function*(){return this._poll()}),UK)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),M1=HK;var rde=b1("rcb"),ide=new Xs(3e4,6e4);function N1(t,e){return e?Xr(e):(re(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Su=class extends Du{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Oa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Oa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Oa(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function $K(t){return CK(t.auth,new Su(t),t.bypassAuthState)}function zK(t){let{auth:e,user:n}=t;return re(n,e,"internal-error"),TK(n,new Su(t),t.bypassAuthState)}function qK(t){return E(this,null,function*(){let{auth:e,user:n}=t;return re(n,e,"internal-error"),DK(n,new Su(t),t.bypassAuthState)})}var Ig=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>E(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return E(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(l))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $K;case"linkViaPopup":case"linkViaRedirect":return qK;case"reauthViaPopup":case"reauthViaRedirect":return zK;default:pr(this.auth,"internal-error")}}resolve(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ei(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var WK=new Xs(2e3,1e4);function tD(t,e,n){return E(this,null,function*(){if(gn(t.app))return Promise.reject($n(t,"operation-not-supported-in-this-environment"));let r=Dg(t);eK(t,e,Tu);let i=N1(r,n);return new GK(r,"signInViaPopup",e,i).executeNotNull()})}var GK=(()=>{class t extends Ig{constructor(n,r,i,s,o){super(n,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,t.currentPopupAction&&t.currentPopupAction.cancel(),t.currentPopupAction=this}executeNotNull(){return E(this,null,function*(){let n=yield this.execute();return re(n,this.auth,"internal-error"),n})}onExecution(){return E(this,null,function*(){ei(this.filter.length===1,"Popup operations only handle one event");let n=eD();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],n),this.authWindow.associatedEvent=n,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject($n(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var n;return((n=this.authWindow)===null||n===void 0?void 0:n.associatedEvent)||null}cancel(){this.reject($n(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,t.currentPopupAction=null}pollUserCancellation(){let n=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($n(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(n,WK.get())};n()}}t.currentPopupAction=null;return t})(),KK="pendingRedirect",ug=new Map,Ob=class t extends Ig{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return E(this,null,function*(){let e=ug.get(this.auth._key());if(!e){try{let r=(yield QK(this.resolver,this.auth))?yield hi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ug.set(this.auth._key(),e)}return this.bypassAuthState||ug.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return E(this,null,function*(){if(e.type==="signInViaRedirect")return hi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,hi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return E(this,null,function*(){})}cleanUp(){}};function QK(t,e){return E(this,null,function*(){let n=JK(e),r=ZK(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function YK(t,e){ug.set(t._key(),e)}function ZK(t){return Xr(t._redirectPersistence)}function JK(t){return cg(KK,t.config.apiKey,t.name)}function XK(t,e,n=!1){return E(this,null,function*(){if(gn(t.app))return Promise.reject(Js(t));let r=Dg(t),i=N1(r,e),o=yield new Ob(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var eQ=10*60*1e3,Fb=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!tQ(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!x1(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError($n(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eQ&&this.cachedEventUids.clear(),this.cachedEventUids.has(t1(e))}saveEventToCache(e){this.cachedEventUids.add(t1(e)),this.lastProcessedEventTime=Date.now()}};function t1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function x1({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function tQ(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return x1(t);default:return!1}}function nQ(n){return E(this,arguments,function*(t,e={}){return La(t,"GET","/v1/projects",e)})}var rQ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iQ=/^https?/;function sQ(t){return E(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield nQ(t);for(let n of e)try{if(oQ(n))return}catch{}pr(t,"unauthorized-domain")})}function oQ(t){let e=Tb(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!iQ.test(n))return!1;if(rQ.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var aQ=new Xs(3e4,6e4);function n1(){let t=hr().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function lQ(t){return new Promise((e,n)=>{var r,i,s;function o(){n1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{n1(),n($n(t,"network-request-failed"))},timeout:aQ.get()})}if(!((i=(r=hr().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=hr().gapi)===null||s===void 0)&&s.load)o();else{let a=b1("iframefcb");return hr()[a]=()=>{gapi.load?o():n($n(t,"network-request-failed"))},vK(`${_K()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw dg=null,e})}var dg=null;function cQ(t){return dg=dg||lQ(t),dg}var uQ=new Xs(5e3,15e3),dQ="__/auth/iframe",fQ="emulator/auth/iframe",hQ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pQ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gQ(t){let e=t.config;re(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Bb(e,fQ):`https://${t.config.authDomain}/${dQ}`,r={apiKey:e.apiKey,appName:t.name,v:$i},i=pQ.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${xa(r).slice(1)}`}function mQ(t){return E(this,null,function*(){let e=yield cQ(t),n=hr().gapi;return re(n,t,"internal-error"),e.open({where:document.body,url:gQ(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hQ,dontclear:!0},r=>new Promise((i,s)=>E(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=$n(t,"network-request-failed"),a=hr().setTimeout(()=>{s(o)},uQ.get());function l(){hr().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})})))})}var yQ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},vQ=500,_Q=600,EQ="_blank",wQ="http://localhost",bg=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function IQ(t,e,n,r=vQ,i=_Q){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",l=Object.assign(Object.assign({},yQ),{width:r.toString(),height:i.toString(),top:s,left:o}),u=pt().toLowerCase();n&&(a=m1(u)?EQ:n),p1(u)&&(e=e||wQ,l.scrollbars="yes");let d=Object.entries(l).reduce((m,[p,_])=>`${m}${p}=${_},`,"");if(hK(u)&&a!=="_self")return bQ(e||"",a),new bg(null);let h=window.open(e||"",a,d);re(h,t,"popup-blocked");try{h.focus()}catch{}return new bg(h)}function bQ(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var DQ="__/auth/handler",TQ="emulator/auth/handler",CQ=encodeURIComponent("fac");function r1(t,e,n,r,i,s){return E(this,null,function*(){re(t.config.authDomain,t,"auth-domain-config-required"),re(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:$i,eventId:i};if(e instanceof Tu){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",yO(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof vg){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let d of Object.keys(a))a[d]===void 0&&delete a[d];let l=yield t._getAppCheckToken(),u=l?`#${CQ}=${encodeURIComponent(l)}`:"";return`${SQ(t)}?${xa(a).slice(1)}${u}`})}function SQ({config:t}){return t.emulator?Bb(t,TQ):`https://${t.authDomain}/${DQ}`}var Db="webStorageSupport",Lb=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Xb,this._completeRedirectFn=XK,this._overrideRedirectResult=YK}_openPopup(e,n,r,i){return E(this,null,function*(){var s;ei((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield r1(e,n,r,Tb(),i);return IQ(e,o,eD())})}_openRedirect(e,n,r,i){return E(this,null,function*(){yield this._originValidation(e);let s=yield r1(e,n,r,Tb(),i);return kK(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(ei(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return E(this,null,function*(){let n=yield mQ(e),r=new Fb(e);return n.register("authEvent",i=>(re(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Db,{type:Db},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[Db];o!==void 0&&n(!!o),pr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sQ(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return w1()||g1()||Wb()}},k1=Lb;var i1="@firebase/auth",s1="1.9.0";var Vb=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return E(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){re(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function AQ(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function RQ(t){Dt(new Ze("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;re(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:I1(t)},u=new Nb(r,i,s,l);return EK(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dt(new Ze("auth-internal",e=>{let n=Dg(e.getProvider("auth").getImmediate());return(r=>new Vb(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Me(i1,s1,AQ(t)),Me(i1,s1,"esm2017")}var MQ=5*60,NQ=XI("authIdTokenMaxAge")||MQ,o1=null,xQ=t=>e=>E(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>NQ)return;let i=n?.token;o1!==i&&(o1=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function nD(t=ur()){let e=Un(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Kb(t,{popupRedirectResolver:k1,persistence:[M1,C1,Xb]}),r=XI("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=xQ(s.toString());Zb(n,o,()=>o(n.currentUser)),Au(n,a=>o(a))}}let i=ZI("auth");return i&&Qb(n,`http://${i}`),n}function kQ(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}yK({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=$n("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",kQ().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});RQ("Browser");function F1(t){return new ue(function(e){var n=Au(t,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:n}})}var L1="auth",to=class{constructor(e){return e}},Ru=class{constructor(){return zi(L1)}};var rD=new $("angularfire2.auth-instances");function I7(t,e){let n=Zs(L1,t,e);return n&&new to(n)}function b7(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new to(r)}}var D7={provide:Ru,deps:[[new dt,rD]]},T7={provide:to,useFactory:I7,deps:[[new dt,rD],Bn]};function V1(t,...e){return Me("angularfire",dr.full,"auth"),Zt([T7,D7,{provide:rD,useFactory:b7(t),multi:!0,deps:[Ae,Qe,fr,Zr,[new dt,Pa],...e]}])}var j1=Pt(F1,!0);var U1=Pt(nD,!0);var B1=Pt(tD,!0,2);var H1=Pt(Jb,!0,2);var $1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},z1={};var ti,iD;(function(){var t;function e(T,v){function b(){}b.prototype=v.prototype,T.D=v.prototype,T.prototype=new b,T.prototype.constructor=T,T.C=function(C,S,M){for(var D=Array(arguments.length-2),Ir=2;Ir<arguments.length;Ir++)D[Ir-2]=arguments[Ir];return v.prototype[S].apply(C,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,v,b){b||(b=0);var C=Array(16);if(typeof v=="string")for(var S=0;16>S;++S)C[S]=v.charCodeAt(b++)|v.charCodeAt(b++)<<8|v.charCodeAt(b++)<<16|v.charCodeAt(b++)<<24;else for(S=0;16>S;++S)C[S]=v[b++]|v[b++]<<8|v[b++]<<16|v[b++]<<24;v=T.g[0],b=T.g[1],S=T.g[2];var M=T.g[3],D=v+(M^b&(S^M))+C[0]+3614090360&4294967295;v=b+(D<<7&4294967295|D>>>25),D=M+(S^v&(b^S))+C[1]+3905402710&4294967295,M=v+(D<<12&4294967295|D>>>20),D=S+(b^M&(v^b))+C[2]+606105819&4294967295,S=M+(D<<17&4294967295|D>>>15),D=b+(v^S&(M^v))+C[3]+3250441966&4294967295,b=S+(D<<22&4294967295|D>>>10),D=v+(M^b&(S^M))+C[4]+4118548399&4294967295,v=b+(D<<7&4294967295|D>>>25),D=M+(S^v&(b^S))+C[5]+1200080426&4294967295,M=v+(D<<12&4294967295|D>>>20),D=S+(b^M&(v^b))+C[6]+2821735955&4294967295,S=M+(D<<17&4294967295|D>>>15),D=b+(v^S&(M^v))+C[7]+4249261313&4294967295,b=S+(D<<22&4294967295|D>>>10),D=v+(M^b&(S^M))+C[8]+1770035416&4294967295,v=b+(D<<7&4294967295|D>>>25),D=M+(S^v&(b^S))+C[9]+2336552879&4294967295,M=v+(D<<12&4294967295|D>>>20),D=S+(b^M&(v^b))+C[10]+4294925233&4294967295,S=M+(D<<17&4294967295|D>>>15),D=b+(v^S&(M^v))+C[11]+2304563134&4294967295,b=S+(D<<22&4294967295|D>>>10),D=v+(M^b&(S^M))+C[12]+1804603682&4294967295,v=b+(D<<7&4294967295|D>>>25),D=M+(S^v&(b^S))+C[13]+4254626195&4294967295,M=v+(D<<12&4294967295|D>>>20),D=S+(b^M&(v^b))+C[14]+2792965006&4294967295,S=M+(D<<17&4294967295|D>>>15),D=b+(v^S&(M^v))+C[15]+1236535329&4294967295,b=S+(D<<22&4294967295|D>>>10),D=v+(S^M&(b^S))+C[1]+4129170786&4294967295,v=b+(D<<5&4294967295|D>>>27),D=M+(b^S&(v^b))+C[6]+3225465664&4294967295,M=v+(D<<9&4294967295|D>>>23),D=S+(v^b&(M^v))+C[11]+643717713&4294967295,S=M+(D<<14&4294967295|D>>>18),D=b+(M^v&(S^M))+C[0]+3921069994&4294967295,b=S+(D<<20&4294967295|D>>>12),D=v+(S^M&(b^S))+C[5]+3593408605&4294967295,v=b+(D<<5&4294967295|D>>>27),D=M+(b^S&(v^b))+C[10]+38016083&4294967295,M=v+(D<<9&4294967295|D>>>23),D=S+(v^b&(M^v))+C[15]+3634488961&4294967295,S=M+(D<<14&4294967295|D>>>18),D=b+(M^v&(S^M))+C[4]+3889429448&4294967295,b=S+(D<<20&4294967295|D>>>12),D=v+(S^M&(b^S))+C[9]+568446438&4294967295,v=b+(D<<5&4294967295|D>>>27),D=M+(b^S&(v^b))+C[14]+3275163606&4294967295,M=v+(D<<9&4294967295|D>>>23),D=S+(v^b&(M^v))+C[3]+4107603335&4294967295,S=M+(D<<14&4294967295|D>>>18),D=b+(M^v&(S^M))+C[8]+1163531501&4294967295,b=S+(D<<20&4294967295|D>>>12),D=v+(S^M&(b^S))+C[13]+2850285829&4294967295,v=b+(D<<5&4294967295|D>>>27),D=M+(b^S&(v^b))+C[2]+4243563512&4294967295,M=v+(D<<9&4294967295|D>>>23),D=S+(v^b&(M^v))+C[7]+1735328473&4294967295,S=M+(D<<14&4294967295|D>>>18),D=b+(M^v&(S^M))+C[12]+2368359562&4294967295,b=S+(D<<20&4294967295|D>>>12),D=v+(b^S^M)+C[5]+4294588738&4294967295,v=b+(D<<4&4294967295|D>>>28),D=M+(v^b^S)+C[8]+2272392833&4294967295,M=v+(D<<11&4294967295|D>>>21),D=S+(M^v^b)+C[11]+1839030562&4294967295,S=M+(D<<16&4294967295|D>>>16),D=b+(S^M^v)+C[14]+4259657740&4294967295,b=S+(D<<23&4294967295|D>>>9),D=v+(b^S^M)+C[1]+2763975236&4294967295,v=b+(D<<4&4294967295|D>>>28),D=M+(v^b^S)+C[4]+1272893353&4294967295,M=v+(D<<11&4294967295|D>>>21),D=S+(M^v^b)+C[7]+4139469664&4294967295,S=M+(D<<16&4294967295|D>>>16),D=b+(S^M^v)+C[10]+3200236656&4294967295,b=S+(D<<23&4294967295|D>>>9),D=v+(b^S^M)+C[13]+681279174&4294967295,v=b+(D<<4&4294967295|D>>>28),D=M+(v^b^S)+C[0]+3936430074&4294967295,M=v+(D<<11&4294967295|D>>>21),D=S+(M^v^b)+C[3]+3572445317&4294967295,S=M+(D<<16&4294967295|D>>>16),D=b+(S^M^v)+C[6]+76029189&4294967295,b=S+(D<<23&4294967295|D>>>9),D=v+(b^S^M)+C[9]+3654602809&4294967295,v=b+(D<<4&4294967295|D>>>28),D=M+(v^b^S)+C[12]+3873151461&4294967295,M=v+(D<<11&4294967295|D>>>21),D=S+(M^v^b)+C[15]+530742520&4294967295,S=M+(D<<16&4294967295|D>>>16),D=b+(S^M^v)+C[2]+3299628645&4294967295,b=S+(D<<23&4294967295|D>>>9),D=v+(S^(b|~M))+C[0]+4096336452&4294967295,v=b+(D<<6&4294967295|D>>>26),D=M+(b^(v|~S))+C[7]+1126891415&4294967295,M=v+(D<<10&4294967295|D>>>22),D=S+(v^(M|~b))+C[14]+2878612391&4294967295,S=M+(D<<15&4294967295|D>>>17),D=b+(M^(S|~v))+C[5]+4237533241&4294967295,b=S+(D<<21&4294967295|D>>>11),D=v+(S^(b|~M))+C[12]+1700485571&4294967295,v=b+(D<<6&4294967295|D>>>26),D=M+(b^(v|~S))+C[3]+2399980690&4294967295,M=v+(D<<10&4294967295|D>>>22),D=S+(v^(M|~b))+C[10]+4293915773&4294967295,S=M+(D<<15&4294967295|D>>>17),D=b+(M^(S|~v))+C[1]+2240044497&4294967295,b=S+(D<<21&4294967295|D>>>11),D=v+(S^(b|~M))+C[8]+1873313359&4294967295,v=b+(D<<6&4294967295|D>>>26),D=M+(b^(v|~S))+C[15]+4264355552&4294967295,M=v+(D<<10&4294967295|D>>>22),D=S+(v^(M|~b))+C[6]+2734768916&4294967295,S=M+(D<<15&4294967295|D>>>17),D=b+(M^(S|~v))+C[13]+1309151649&4294967295,b=S+(D<<21&4294967295|D>>>11),D=v+(S^(b|~M))+C[4]+4149444226&4294967295,v=b+(D<<6&4294967295|D>>>26),D=M+(b^(v|~S))+C[11]+3174756917&4294967295,M=v+(D<<10&4294967295|D>>>22),D=S+(v^(M|~b))+C[2]+718787259&4294967295,S=M+(D<<15&4294967295|D>>>17),D=b+(M^(S|~v))+C[9]+3951481745&4294967295,T.g[0]=T.g[0]+v&4294967295,T.g[1]=T.g[1]+(S+(D<<21&4294967295|D>>>11))&4294967295,T.g[2]=T.g[2]+S&4294967295,T.g[3]=T.g[3]+M&4294967295}r.prototype.u=function(T,v){v===void 0&&(v=T.length);for(var b=v-this.blockSize,C=this.B,S=this.h,M=0;M<v;){if(S==0)for(;M<=b;)i(this,T,M),M+=this.blockSize;if(typeof T=="string"){for(;M<v;)if(C[S++]=T.charCodeAt(M++),S==this.blockSize){i(this,C),S=0;break}}else for(;M<v;)if(C[S++]=T[M++],S==this.blockSize){i(this,C),S=0;break}}this.h=S,this.o+=v},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var v=1;v<T.length-8;++v)T[v]=0;var b=8*this.o;for(v=T.length-8;v<T.length;++v)T[v]=b&255,b/=256;for(this.u(T),T=Array(16),v=b=0;4>v;++v)for(var C=0;32>C;C+=8)T[b++]=this.g[v]>>>C&255;return T};function s(T,v){var b=a;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=v(T)}function o(T,v){this.h=v;for(var b=[],C=!0,S=T.length-1;0<=S;S--){var M=T[S]|0;C&&M==v||(b[S]=M,C=!1)}this.g=b}var a={};function l(T){return-128<=T&&128>T?s(T,function(v){return new o([v|0],0>v?-1:0)}):new o([T|0],0>T?-1:0)}function u(T){if(isNaN(T)||!isFinite(T))return h;if(0>T)return w(u(-T));for(var v=[],b=1,C=0;T>=b;C++)v[C]=T/b|0,b*=4294967296;return new o(v,0)}function d(T,v){if(T.length==0)throw Error("number format error: empty string");if(v=v||10,2>v||36<v)throw Error("radix out of range: "+v);if(T.charAt(0)=="-")return w(d(T.substring(1),v));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=u(Math.pow(v,8)),C=h,S=0;S<T.length;S+=8){var M=Math.min(8,T.length-S),D=parseInt(T.substring(S,S+M),v);8>M?(M=u(Math.pow(v,M)),C=C.j(M).add(u(D))):(C=C.j(b),C=C.add(u(D)))}return C}var h=l(0),m=l(1),p=l(16777216);t=o.prototype,t.m=function(){if(I(this))return-w(this).m();for(var T=0,v=1,b=0;b<this.g.length;b++){var C=this.i(b);T+=(0<=C?C:4294967296+C)*v,v*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(_(this))return"0";if(I(this))return"-"+w(this).toString(T);for(var v=u(Math.pow(T,6)),b=this,C="";;){var S=B(b,v).g;b=R(b,S.j(v));var M=((0<b.g.length?b.g[0]:b.h)>>>0).toString(T);if(b=S,_(b))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function _(T){if(T.h!=0)return!1;for(var v=0;v<T.g.length;v++)if(T.g[v]!=0)return!1;return!0}function I(T){return T.h==-1}t.l=function(T){return T=R(this,T),I(T)?-1:_(T)?0:1};function w(T){for(var v=T.g.length,b=[],C=0;C<v;C++)b[C]=~T.g[C];return new o(b,~T.h).add(m)}t.abs=function(){return I(this)?w(this):this},t.add=function(T){for(var v=Math.max(this.g.length,T.g.length),b=[],C=0,S=0;S<=v;S++){var M=C+(this.i(S)&65535)+(T.i(S)&65535),D=(M>>>16)+(this.i(S)>>>16)+(T.i(S)>>>16);C=D>>>16,M&=65535,D&=65535,b[S]=D<<16|M}return new o(b,b[b.length-1]&-2147483648?-1:0)};function R(T,v){return T.add(w(v))}t.j=function(T){if(_(this)||_(T))return h;if(I(this))return I(T)?w(this).j(w(T)):w(w(this).j(T));if(I(T))return w(this.j(w(T)));if(0>this.l(p)&&0>T.l(p))return u(this.m()*T.m());for(var v=this.g.length+T.g.length,b=[],C=0;C<2*v;C++)b[C]=0;for(C=0;C<this.g.length;C++)for(var S=0;S<T.g.length;S++){var M=this.i(C)>>>16,D=this.i(C)&65535,Ir=T.i(S)>>>16,pl=T.i(S)&65535;b[2*C+2*S]+=D*pl,P(b,2*C+2*S),b[2*C+2*S+1]+=M*pl,P(b,2*C+2*S+1),b[2*C+2*S+1]+=D*Ir,P(b,2*C+2*S+1),b[2*C+2*S+2]+=M*Ir,P(b,2*C+2*S+2)}for(C=0;C<v;C++)b[C]=b[2*C+1]<<16|b[2*C];for(C=v;C<2*v;C++)b[C]=0;return new o(b,0)};function P(T,v){for(;(T[v]&65535)!=T[v];)T[v+1]+=T[v]>>>16,T[v]&=65535,v++}function O(T,v){this.g=T,this.h=v}function B(T,v){if(_(v))throw Error("division by zero");if(_(T))return new O(h,h);if(I(T))return v=B(w(T),v),new O(w(v.g),w(v.h));if(I(v))return v=B(T,w(v)),new O(w(v.g),v.h);if(30<T.g.length){if(I(T)||I(v))throw Error("slowDivide_ only works with positive integers.");for(var b=m,C=v;0>=C.l(T);)b=me(b),C=me(C);var S=W(b,1),M=W(C,1);for(C=W(C,2),b=W(b,2);!_(C);){var D=M.add(C);0>=D.l(T)&&(S=S.add(b),M=D),C=W(C,1),b=W(b,1)}return v=R(T,S.j(v)),new O(S,v)}for(S=h;0<=T.l(v);){for(b=Math.max(1,Math.floor(T.m()/v.m())),C=Math.ceil(Math.log(b)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=u(b),D=M.j(v);I(D)||0<D.l(T);)b-=C,M=u(b),D=M.j(v);_(M)&&(M=m),S=S.add(M),T=R(T,D)}return new O(S,T)}t.A=function(T){return B(this,T).h},t.and=function(T){for(var v=Math.max(this.g.length,T.g.length),b=[],C=0;C<v;C++)b[C]=this.i(C)&T.i(C);return new o(b,this.h&T.h)},t.or=function(T){for(var v=Math.max(this.g.length,T.g.length),b=[],C=0;C<v;C++)b[C]=this.i(C)|T.i(C);return new o(b,this.h|T.h)},t.xor=function(T){for(var v=Math.max(this.g.length,T.g.length),b=[],C=0;C<v;C++)b[C]=this.i(C)^T.i(C);return new o(b,this.h^T.h)};function me(T){for(var v=T.g.length+1,b=[],C=0;C<v;C++)b[C]=T.i(C)<<1|T.i(C-1)>>>31;return new o(b,T.h)}function W(T,v){var b=v>>5;v%=32;for(var C=T.g.length-b,S=[],M=0;M<C;M++)S[M]=0<v?T.i(M+b)>>>v|T.i(M+b+1)<<32-v:T.i(M+b);return new o(S,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iD=z1.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=d,ti=z1.Integer=o}).apply(typeof $1<"u"?$1:typeof self<"u"?self:typeof window<"u"?window:{});var Cg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ni={};var sD,S7,Va,oD,Mu,Sg,aD,lD,cD;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,g){return c==Array.prototype||c==Object.prototype||(c[f]=g.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cg=="object"&&Cg];for(var f=0;f<c.length;++f){var g=c[f];if(g&&g.Math==Math)return g}throw Error("Cannot find global object")}var r=n(this);function i(c,f){if(f)e:{var g=r;c=c.split(".");for(var y=0;y<c.length-1;y++){var A=c[y];if(!(A in g))break e;g=g[A]}c=c[c.length-1],y=g[c],f=f(y),f!=y&&f!=null&&e(g,c,{configurable:!0,writable:!0,value:f})}}function s(c,f){c instanceof String&&(c+="");var g=0,y=!1,A={next:function(){if(!y&&g<c.length){var k=g++;return{value:f(k,c[k]),done:!1}}return y=!0,{done:!0,value:void 0}}};return A[Symbol.iterator]=function(){return A},A}i("Array.prototype.values",function(c){return c||function(){return s(this,function(f,g){return g})}});var o=o||{},a=this||self;function l(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function u(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function d(c,f,g){return c.call.apply(c.bind,arguments)}function h(c,f,g){if(!c)throw Error();if(2<arguments.length){var y=Array.prototype.slice.call(arguments,2);return function(){var A=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(A,y),c.apply(f,A)}}return function(){return c.apply(f,arguments)}}function m(c,f,g){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?d:h,m.apply(null,arguments)}function p(c,f){var g=Array.prototype.slice.call(arguments,1);return function(){var y=g.slice();return y.push.apply(y,arguments),c.apply(this,y)}}function _(c,f){function g(){}g.prototype=f.prototype,c.aa=f.prototype,c.prototype=new g,c.prototype.constructor=c,c.Qb=function(y,A,k){for(var U=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)U[xe-2]=arguments[xe];return f.prototype[A].apply(y,U)}}function I(c){let f=c.length;if(0<f){let g=Array(f);for(let y=0;y<f;y++)g[y]=c[y];return g}return[]}function w(c,f){for(let g=1;g<arguments.length;g++){let y=arguments[g];if(l(y)){let A=c.length||0,k=y.length||0;c.length=A+k;for(let U=0;U<k;U++)c[A+U]=y[U]}else c.push(y)}}class R{constructor(f,g){this.i=f,this.j=g,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function P(c){return/^[\s\xa0]*$/.test(c)}function O(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function B(c){return B[" "](c),c}B[" "]=function(){};var me=O().indexOf("Gecko")!=-1&&!(O().toLowerCase().indexOf("webkit")!=-1&&O().indexOf("Edge")==-1)&&!(O().indexOf("Trident")!=-1||O().indexOf("MSIE")!=-1)&&O().indexOf("Edge")==-1;function W(c,f,g){for(let y in c)f.call(g,c[y],y,c)}function T(c,f){for(let g in c)f.call(void 0,c[g],g,c)}function v(c){let f={};for(let g in c)f[g]=c[g];return f}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(c,f){let g,y;for(let A=1;A<arguments.length;A++){y=arguments[A];for(g in y)c[g]=y[g];for(let k=0;k<b.length;k++)g=b[k],Object.prototype.hasOwnProperty.call(y,g)&&(c[g]=y[g])}}function S(c){var f=1;c=c.split(":");let g=[];for(;0<f&&c.length;)g.push(c.shift()),f--;return c.length&&g.push(c.join(":")),g}function M(c){a.setTimeout(()=>{throw c},0)}function D(){var c=Vm;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class Ir{constructor(){this.h=this.g=null}add(f,g){let y=pl.get();y.set(f,g),this.h?this.h.next=y:this.g=y,this.h=y}}var pl=new R(()=>new fj,c=>c.reset());class fj{constructor(){this.next=this.g=this.h=null}set(f,g){this.h=f,this.g=g,this.next=null}reset(){this.next=this.g=this.h=null}}let gl,ml=!1,Vm=new Ir,ZC=()=>{let c=a.Promise.resolve(void 0);gl=()=>{c.then(hj)}};var hj=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(g){M(g)}var f=pl;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}ml=!1};function ci(){this.s=this.s,this.C=this.C}ci.prototype.s=!1,ci.prototype.ma=function(){this.s||(this.s=!0,this.N())},ci.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ct(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}Ct.prototype.h=function(){this.defaultPrevented=!0};var pj=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let g=()=>{};a.addEventListener("test",g,f),a.removeEventListener("test",g,f)}catch{}return c}();function yl(c,f){if(Ct.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var g=this.type=c.type,y=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(me){e:{try{B(f.nodeName);var A=!0;break e}catch{}A=!1}A||(f=null)}}else g=="mouseover"?f=c.fromElement:g=="mouseout"&&(f=c.toElement);this.relatedTarget=f,y?(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:gj[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&yl.aa.h.call(this)}}_(yl,Ct);var gj={2:"touch",3:"pen",4:"mouse"};yl.prototype.h=function(){yl.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var vl="closure_listenable_"+(1e6*Math.random()|0),mj=0;function yj(c,f,g,y,A){this.listener=c,this.proxy=null,this.src=f,this.type=g,this.capture=!!y,this.ha=A,this.key=++mj,this.da=this.fa=!1}function od(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ad(c){this.src=c,this.g={},this.h=0}ad.prototype.add=function(c,f,g,y,A){var k=c.toString();c=this.g[k],c||(c=this.g[k]=[],this.h++);var U=Um(c,f,y,A);return-1<U?(f=c[U],g||(f.fa=!1)):(f=new yj(f,this.src,k,!!y,A),f.fa=g,c.push(f)),f};function jm(c,f){var g=f.type;if(g in c.g){var y=c.g[g],A=Array.prototype.indexOf.call(y,f,void 0),k;(k=0<=A)&&Array.prototype.splice.call(y,A,1),k&&(od(f),c.g[g].length==0&&(delete c.g[g],c.h--))}}function Um(c,f,g,y){for(var A=0;A<c.length;++A){var k=c[A];if(!k.da&&k.listener==f&&k.capture==!!g&&k.ha==y)return A}return-1}var Bm="closure_lm_"+(1e6*Math.random()|0),Hm={};function JC(c,f,g,y,A){if(y&&y.once)return eS(c,f,g,y,A);if(Array.isArray(f)){for(var k=0;k<f.length;k++)JC(c,f[k],g,y,A);return null}return g=Wm(g),c&&c[vl]?c.K(f,g,u(y)?!!y.capture:!!y,A):XC(c,f,g,!1,y,A)}function XC(c,f,g,y,A,k){if(!f)throw Error("Invalid event type");var U=u(A)?!!A.capture:!!A,xe=zm(c);if(xe||(c[Bm]=xe=new ad(c)),g=xe.add(f,g,y,U,k),g.proxy)return g;if(y=vj(),g.proxy=y,y.src=c,y.listener=g,c.addEventListener)pj||(A=U),A===void 0&&(A=!1),c.addEventListener(f.toString(),y,A);else if(c.attachEvent)c.attachEvent(nS(f.toString()),y);else if(c.addListener&&c.removeListener)c.addListener(y);else throw Error("addEventListener and attachEvent are unavailable.");return g}function vj(){function c(g){return f.call(c.src,c.listener,g)}let f=_j;return c}function eS(c,f,g,y,A){if(Array.isArray(f)){for(var k=0;k<f.length;k++)eS(c,f[k],g,y,A);return null}return g=Wm(g),c&&c[vl]?c.L(f,g,u(y)?!!y.capture:!!y,A):XC(c,f,g,!0,y,A)}function tS(c,f,g,y,A){if(Array.isArray(f))for(var k=0;k<f.length;k++)tS(c,f[k],g,y,A);else y=u(y)?!!y.capture:!!y,g=Wm(g),c&&c[vl]?(c=c.i,f=String(f).toString(),f in c.g&&(k=c.g[f],g=Um(k,g,y,A),-1<g&&(od(k[g]),Array.prototype.splice.call(k,g,1),k.length==0&&(delete c.g[f],c.h--)))):c&&(c=zm(c))&&(f=c.g[f.toString()],c=-1,f&&(c=Um(f,g,y,A)),(g=-1<c?f[c]:null)&&$m(g))}function $m(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[vl])jm(f.i,c);else{var g=c.type,y=c.proxy;f.removeEventListener?f.removeEventListener(g,y,c.capture):f.detachEvent?f.detachEvent(nS(g),y):f.addListener&&f.removeListener&&f.removeListener(y),(g=zm(f))?(jm(g,c),g.h==0&&(g.src=null,f[Bm]=null)):od(c)}}}function nS(c){return c in Hm?Hm[c]:Hm[c]="on"+c}function _j(c,f){if(c.da)c=!0;else{f=new yl(f,this);var g=c.listener,y=c.ha||c.src;c.fa&&$m(c),c=g.call(y,f)}return c}function zm(c){return c=c[Bm],c instanceof ad?c:null}var qm="__closure_events_fn_"+(1e9*Math.random()>>>0);function Wm(c){return typeof c=="function"?c:(c[qm]||(c[qm]=function(f){return c.handleEvent(f)}),c[qm])}function St(){ci.call(this),this.i=new ad(this),this.M=this,this.F=null}_(St,ci),St.prototype[vl]=!0,St.prototype.removeEventListener=function(c,f,g,y){tS(this,c,f,g,y)};function Lt(c,f){var g,y=c.F;if(y)for(g=[];y;y=y.F)g.push(y);if(c=c.M,y=f.type||f,typeof f=="string")f=new Ct(f,c);else if(f instanceof Ct)f.target=f.target||c;else{var A=f;f=new Ct(y,c),C(f,A)}if(A=!0,g)for(var k=g.length-1;0<=k;k--){var U=f.g=g[k];A=ld(U,y,!0,f)&&A}if(U=f.g=c,A=ld(U,y,!0,f)&&A,A=ld(U,y,!1,f)&&A,g)for(k=0;k<g.length;k++)U=f.g=g[k],A=ld(U,y,!1,f)&&A}St.prototype.N=function(){if(St.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var g=c.g[f],y=0;y<g.length;y++)od(g[y]);delete c.g[f],c.h--}}this.F=null},St.prototype.K=function(c,f,g,y){return this.i.add(String(c),f,!1,g,y)},St.prototype.L=function(c,f,g,y){return this.i.add(String(c),f,!0,g,y)};function ld(c,f,g,y){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var A=!0,k=0;k<f.length;++k){var U=f[k];if(U&&!U.da&&U.capture==g){var xe=U.listener,yt=U.ha||U.src;U.fa&&jm(c.i,U),A=xe.call(yt,y)!==!1&&A}}return A&&!y.defaultPrevented}function rS(c,f,g){if(typeof c=="function")g&&(c=m(c,g));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function iS(c){c.g=rS(()=>{c.g=null,c.i&&(c.i=!1,iS(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class Ej extends ci{constructor(f,g){super(),this.m=f,this.l=g,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:iS(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _l(c){ci.call(this),this.h=c,this.g={}}_(_l,ci);var sS=[];function oS(c){W(c.g,function(f,g){this.g.hasOwnProperty(g)&&$m(f)},c),c.g={}}_l.prototype.N=function(){_l.aa.N.call(this),oS(this)},_l.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Gm=a.JSON.stringify,wj=a.JSON.parse,Ij=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Km(){}Km.prototype.h=null;function aS(c){return c.h||(c.h=c.i())}function lS(){}var El={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Qm(){Ct.call(this,"d")}_(Qm,Ct);function Ym(){Ct.call(this,"c")}_(Ym,Ct);var Xi={},cS=null;function cd(){return cS=cS||new St}Xi.La="serverreachability";function uS(c){Ct.call(this,Xi.La,c)}_(uS,Ct);function wl(c){let f=cd();Lt(f,new uS(f))}Xi.STAT_EVENT="statevent";function dS(c,f){Ct.call(this,Xi.STAT_EVENT,c),this.stat=f}_(dS,Ct);function Vt(c){let f=cd();Lt(f,new dS(f,c))}Xi.Ma="timingevent";function fS(c,f){Ct.call(this,Xi.Ma,c),this.size=f}_(fS,Ct);function Il(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function bl(){this.g=!0}bl.prototype.xa=function(){this.g=!1};function bj(c,f,g,y,A,k){c.info(function(){if(c.g)if(k)for(var U="",xe=k.split("&"),yt=0;yt<xe.length;yt++){var Se=xe[yt].split("=");if(1<Se.length){var At=Se[0];Se=Se[1];var Rt=At.split("_");U=2<=Rt.length&&Rt[1]=="type"?U+(At+"="+Se+"&"):U+(At+"=redacted&")}}else U=null;else U=k;return"XMLHTTP REQ ("+y+") [attempt "+A+"]: "+f+`
`+g+`
`+U})}function Dj(c,f,g,y,A,k,U){c.info(function(){return"XMLHTTP RESP ("+y+") [ attempt "+A+"]: "+f+`
`+g+`
`+k+" "+U})}function yo(c,f,g,y){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+Cj(c,g)+(y?" "+y:"")})}function Tj(c,f){c.info(function(){return"TIMEOUT: "+f})}bl.prototype.info=function(){};function Cj(c,f){if(!c.g)return f;if(!f)return null;try{var g=JSON.parse(f);if(g){for(c=0;c<g.length;c++)if(Array.isArray(g[c])){var y=g[c];if(!(2>y.length)){var A=y[1];if(Array.isArray(A)&&!(1>A.length)){var k=A[0];if(k!="noop"&&k!="stop"&&k!="close")for(var U=1;U<A.length;U++)A[U]=""}}}}return Gm(g)}catch{return f}}var ud={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},hS={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zm;function dd(){}_(dd,Km),dd.prototype.g=function(){return new XMLHttpRequest},dd.prototype.i=function(){return{}},Zm=new dd;function ui(c,f,g,y){this.j=c,this.i=f,this.l=g,this.R=y||1,this.U=new _l(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pS}function pS(){this.i=null,this.g="",this.h=!1}var gS={},Jm={};function Xm(c,f,g){c.L=1,c.v=gd(br(f)),c.m=g,c.P=!0,mS(c,null)}function mS(c,f){c.F=Date.now(),fd(c),c.A=br(c.v);var g=c.A,y=c.R;Array.isArray(y)||(y=[String(y)]),MS(g.i,"t",y),c.C=0,g=c.j.J,c.h=new pS,c.g=KS(c.j,g?f:null,!c.m),0<c.O&&(c.M=new Ej(m(c.Y,c,c.g),c.O)),f=c.U,g=c.g,y=c.ca;var A="readystatechange";Array.isArray(A)||(A&&(sS[0]=A.toString()),A=sS);for(var k=0;k<A.length;k++){var U=JC(g,A[k],y||f.handleEvent,!1,f.h||f);if(!U)break;f.g[U.key]=U}f=c.H?v(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),wl(),bj(c.i,c.u,c.A,c.l,c.R,c.m)}ui.prototype.ca=function(c){c=c.target;let f=this.M;f&&Dr(c)==3?f.j():this.Y(c)},ui.prototype.Y=function(c){try{if(c==this.g)e:{let Rt=Dr(this.g);var f=this.g.Ba();let Eo=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||LS(this.g)))){this.J||Rt!=4||f==7||(f==8||0>=Eo?wl(3):wl(2)),ey(this);var g=this.g.Z();this.X=g;t:if(yS(this)){var y=LS(this.g);c="";var A=y.length,k=Dr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){es(this),Dl(this);var U="";break t}this.h.i=new a.TextDecoder}for(f=0;f<A;f++)this.h.h=!0,c+=this.h.i.decode(y[f],{stream:!(k&&f==A-1)});y.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=g==200,Dj(this.i,this.u,this.A,this.l,this.R,Rt,g),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,yt=this.g;if((xe=yt.g?yt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(xe)){var Se=xe;break t}}Se=null}if(g=Se)yo(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ty(this,g);else{this.o=!1,this.s=3,Vt(12),es(this),Dl(this);break e}}if(this.P){g=!0;let An;for(;!this.J&&this.C<U.length;)if(An=Sj(this,U),An==Jm){Rt==4&&(this.s=4,Vt(14),g=!1),yo(this.i,this.l,null,"[Incomplete Response]");break}else if(An==gS){this.s=4,Vt(15),yo(this.i,this.l,U,"[Invalid Chunk]"),g=!1;break}else yo(this.i,this.l,An,null),ty(this,An);if(yS(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||U.length!=0||this.h.h||(this.s=1,Vt(16),g=!1),this.o=this.o&&g,!g)yo(this.i,this.l,U,"[Invalid Chunked Response]"),es(this),Dl(this);else if(0<U.length&&!this.W){this.W=!0;var At=this.j;At.g==this&&At.ba&&!At.M&&(At.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),ay(At),At.M=!0,Vt(11))}}else yo(this.i,this.l,U,null),ty(this,U);Rt==4&&es(this),this.o&&!this.J&&(Rt==4?zS(this.j,this):(this.o=!1,fd(this)))}else zj(this.g),g==400&&0<U.indexOf("Unknown SID")?(this.s=3,Vt(12)):(this.s=0,Vt(13)),es(this),Dl(this)}}}catch{}finally{}};function yS(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Sj(c,f){var g=c.C,y=f.indexOf(`
`,g);return y==-1?Jm:(g=Number(f.substring(g,y)),isNaN(g)?gS:(y+=1,y+g>f.length?Jm:(f=f.slice(y,y+g),c.C=y+g,f)))}ui.prototype.cancel=function(){this.J=!0,es(this)};function fd(c){c.S=Date.now()+c.I,vS(c,c.I)}function vS(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Il(m(c.ba,c),f)}function ey(c){c.B&&(a.clearTimeout(c.B),c.B=null)}ui.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(Tj(this.i,this.A),this.L!=2&&(wl(),Vt(17)),es(this),this.s=2,Dl(this)):vS(this,this.S-c)};function Dl(c){c.j.G==0||c.J||zS(c.j,c)}function es(c){ey(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,oS(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function ty(c,f){try{var g=c.j;if(g.G!=0&&(g.g==c||ny(g.h,c))){if(!c.K&&ny(g.h,c)&&g.G==3){try{var y=g.Da.g.parse(f)}catch{y=null}if(Array.isArray(y)&&y.length==3){var A=y;if(A[0]==0){e:if(!g.u){if(g.g)if(g.g.F+3e3<c.F)Ed(g),vd(g);else break e;oy(g),Vt(18)}}else g.za=A[1],0<g.za-g.T&&37500>A[2]&&g.F&&g.v==0&&!g.C&&(g.C=Il(m(g.Za,g),6e3));if(1>=wS(g.h)&&g.ca){try{g.ca()}catch{}g.ca=void 0}}else ns(g,11)}else if((c.K||g.g==c)&&Ed(g),!P(f))for(A=g.Da.g.parse(f),f=0;f<A.length;f++){let Se=A[f];if(g.T=Se[0],Se=Se[1],g.G==2)if(Se[0]=="c"){g.K=Se[1],g.ia=Se[2];let At=Se[3];At!=null&&(g.la=At,g.j.info("VER="+g.la));let Rt=Se[4];Rt!=null&&(g.Aa=Rt,g.j.info("SVER="+g.Aa));let Eo=Se[5];Eo!=null&&typeof Eo=="number"&&0<Eo&&(y=1.5*Eo,g.L=y,g.j.info("backChannelRequestTimeoutMs_="+y)),y=g;let An=c.g;if(An){let Id=An.g?An.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Id){var k=y.h;k.g||Id.indexOf("spdy")==-1&&Id.indexOf("quic")==-1&&Id.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(ry(k,k.h),k.h=null))}if(y.D){let ly=An.g?An.g.getResponseHeader("X-HTTP-Session-Id"):null;ly&&(y.ya=ly,Le(y.I,y.D,ly))}}g.G=3,g.l&&g.l.ua(),g.ba&&(g.R=Date.now()-c.F,g.j.info("Handshake RTT: "+g.R+"ms")),y=g;var U=c;if(y.qa=GS(y,y.J?y.ia:null,y.W),U.K){IS(y.h,U);var xe=U,yt=y.L;yt&&(xe.I=yt),xe.B&&(ey(xe),fd(xe)),y.g=U}else HS(y);0<g.i.length&&_d(g)}else Se[0]!="stop"&&Se[0]!="close"||ns(g,7);else g.G==3&&(Se[0]=="stop"||Se[0]=="close"?Se[0]=="stop"?ns(g,7):sy(g):Se[0]!="noop"&&g.l&&g.l.ta(Se),g.v=0)}}wl(4)}catch{}}var Aj=class{constructor(c,f){this.g=c,this.map=f}};function _S(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function ES(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function wS(c){return c.h?1:c.g?c.g.size:0}function ny(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function ry(c,f){c.g?c.g.add(f):c.h=f}function IS(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}_S.prototype.cancel=function(){if(this.i=bS(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function bS(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let g of c.g.values())f=f.concat(g.D);return f}return I(c.i)}function Rj(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(l(c)){for(var f=[],g=c.length,y=0;y<g;y++)f.push(c[y]);return f}f=[],g=0;for(y in c)f[g++]=c[y];return f}function Mj(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(l(c)||typeof c=="string"){var f=[];c=c.length;for(var g=0;g<c;g++)f.push(g);return f}f=[],g=0;for(let y in c)f[g++]=y;return f}}}function DS(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(l(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var g=Mj(c),y=Rj(c),A=y.length,k=0;k<A;k++)f.call(void 0,y[k],g&&g[k],c)}var TS=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nj(c,f){if(c){c=c.split("&");for(var g=0;g<c.length;g++){var y=c[g].indexOf("="),A=null;if(0<=y){var k=c[g].substring(0,y);A=c[g].substring(y+1)}else k=c[g];f(k,A?decodeURIComponent(A.replace(/\+/g," ")):"")}}}function ts(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof ts){this.h=c.h,hd(this,c.j),this.o=c.o,this.g=c.g,pd(this,c.s),this.l=c.l;var f=c.i,g=new Sl;g.i=f.i,f.g&&(g.g=new Map(f.g),g.h=f.h),CS(this,g),this.m=c.m}else c&&(f=String(c).match(TS))?(this.h=!1,hd(this,f[1]||"",!0),this.o=Tl(f[2]||""),this.g=Tl(f[3]||"",!0),pd(this,f[4]),this.l=Tl(f[5]||"",!0),CS(this,f[6]||"",!0),this.m=Tl(f[7]||"")):(this.h=!1,this.i=new Sl(null,this.h))}ts.prototype.toString=function(){var c=[],f=this.j;f&&c.push(Cl(f,SS,!0),":");var g=this.g;return(g||f=="file")&&(c.push("//"),(f=this.o)&&c.push(Cl(f,SS,!0),"@"),c.push(encodeURIComponent(String(g)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g=this.s,g!=null&&c.push(":",String(g))),(g=this.l)&&(this.g&&g.charAt(0)!="/"&&c.push("/"),c.push(Cl(g,g.charAt(0)=="/"?Pj:kj,!0))),(g=this.i.toString())&&c.push("?",g),(g=this.m)&&c.push("#",Cl(g,Fj)),c.join("")};function br(c){return new ts(c)}function hd(c,f,g){c.j=g?Tl(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function pd(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function CS(c,f,g){f instanceof Sl?(c.i=f,Lj(c.i,c.h)):(g||(f=Cl(f,Oj)),c.i=new Sl(f,c.h))}function Le(c,f,g){c.i.set(f,g)}function gd(c){return Le(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Tl(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Cl(c,f,g){return typeof c=="string"?(c=encodeURI(c).replace(f,xj),g&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function xj(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var SS=/[#\/\?@]/g,kj=/[#\?:]/g,Pj=/[#\?]/g,Oj=/[#\?@]/g,Fj=/#/g;function Sl(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function di(c){c.g||(c.g=new Map,c.h=0,c.i&&Nj(c.i,function(f,g){c.add(decodeURIComponent(f.replace(/\+/g," ")),g)}))}t=Sl.prototype,t.add=function(c,f){di(this),this.i=null,c=vo(this,c);var g=this.g.get(c);return g||this.g.set(c,g=[]),g.push(f),this.h+=1,this};function AS(c,f){di(c),f=vo(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function RS(c,f){return di(c),f=vo(c,f),c.g.has(f)}t.forEach=function(c,f){di(this),this.g.forEach(function(g,y){g.forEach(function(A){c.call(f,A,y,this)},this)},this)},t.na=function(){di(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),g=[];for(let y=0;y<f.length;y++){let A=c[y];for(let k=0;k<A.length;k++)g.push(f[y])}return g},t.V=function(c){di(this);let f=[];if(typeof c=="string")RS(this,c)&&(f=f.concat(this.g.get(vo(this,c))));else{c=Array.from(this.g.values());for(let g=0;g<c.length;g++)f=f.concat(c[g])}return f},t.set=function(c,f){return di(this),this.i=null,c=vo(this,c),RS(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function MS(c,f,g){AS(c,f),0<g.length&&(c.i=null,c.g.set(vo(c,f),I(g)),c.h+=g.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var g=0;g<f.length;g++){var y=f[g];let k=encodeURIComponent(String(y)),U=this.V(y);for(y=0;y<U.length;y++){var A=k;U[y]!==""&&(A+="="+encodeURIComponent(String(U[y]))),c.push(A)}}return this.i=c.join("&")};function vo(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function Lj(c,f){f&&!c.j&&(di(c),c.i=null,c.g.forEach(function(g,y){var A=y.toLowerCase();y!=A&&(AS(this,y),MS(this,A,g))},c)),c.j=f}function Vj(c,f){let g=new bl;if(a.Image){let y=new Image;y.onload=p(fi,g,"TestLoadImage: loaded",!0,f,y),y.onerror=p(fi,g,"TestLoadImage: error",!1,f,y),y.onabort=p(fi,g,"TestLoadImage: abort",!1,f,y),y.ontimeout=p(fi,g,"TestLoadImage: timeout",!1,f,y),a.setTimeout(function(){y.ontimeout&&y.ontimeout()},1e4),y.src=c}else f(!1)}function jj(c,f){let g=new bl,y=new AbortController,A=setTimeout(()=>{y.abort(),fi(g,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:y.signal}).then(k=>{clearTimeout(A),k.ok?fi(g,"TestPingServer: ok",!0,f):fi(g,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(A),fi(g,"TestPingServer: error",!1,f)})}function fi(c,f,g,y,A){try{A&&(A.onload=null,A.onerror=null,A.onabort=null,A.ontimeout=null),y(g)}catch{}}function Uj(){this.g=new Ij}function Bj(c,f,g){let y=g||"";try{DS(c,function(A,k){let U=A;u(A)&&(U=Gm(A)),f.push(y+k+"="+encodeURIComponent(U))})}catch(A){throw f.push(y+"type="+encodeURIComponent("_badmap")),A}}function Al(c){this.l=c.Ub||null,this.j=c.eb||!1}_(Al,Km),Al.prototype.g=function(){return new md(this.l,this.j)},Al.prototype.i=function(c){return function(){return c}}({});function md(c,f){St.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}_(md,St),t=md.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,Ml(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rl(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ml(this)),this.g&&(this.readyState=3,Ml(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;NS(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function NS(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?Rl(this):Ml(this),this.readyState==3&&NS(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Rl(this))},t.Qa=function(c){this.g&&(this.response=c,Rl(this))},t.ga=function(){this.g&&Rl(this)};function Rl(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Ml(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var g=f.next();!g.done;)g=g.value,c.push(g[0]+": "+g[1]),g=f.next();return c.join(`\r
`)};function Ml(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(md.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function xS(c){let f="";return W(c,function(g,y){f+=y,f+=":",f+=g,f+=`\r
`}),f}function iy(c,f,g){e:{for(y in g){var y=!1;break e}y=!0}y||(g=xS(g),typeof c=="string"?g!=null&&encodeURIComponent(String(g)):Le(c,f,g))}function $e(c){St.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}_($e,St);var Hj=/^https?$/i,$j=["POST","PUT"];t=$e.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,g,y){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zm.g(),this.v=this.o?aS(this.o):aS(Zm),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(k){kS(this,k);return}if(c=g||"",g=new Map(this.headers),y)if(Object.getPrototypeOf(y)===Object.prototype)for(var A in y)g.set(A,y[A]);else if(typeof y.keys=="function"&&typeof y.get=="function")for(let k of y.keys())g.set(k,y.get(k));else throw Error("Unknown input type for opt_headers: "+String(y));y=Array.from(g.keys()).find(k=>k.toLowerCase()=="content-type"),A=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call($j,f,void 0))||y||A||g.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,U]of g)this.g.setRequestHeader(k,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{FS(this),this.u=!0,this.g.send(c),this.u=!1}catch(k){kS(this,k)}};function kS(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,PS(c),yd(c)}function PS(c){c.A||(c.A=!0,Lt(c,"complete"),Lt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Lt(this,"complete"),Lt(this,"abort"),yd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),yd(this,!0)),$e.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?OS(this):this.bb())},t.bb=function(){OS(this)};function OS(c){if(c.h&&typeof o<"u"&&(!c.v[1]||Dr(c)!=4||c.Z()!=2)){if(c.u&&Dr(c)==4)rS(c.Ea,0,c);else if(Lt(c,"readystatechange"),Dr(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var g;if(!(g=f)){var y;if(y=U===0){var A=String(c.D).match(TS)[1]||null;!A&&a.self&&a.self.location&&(A=a.self.location.protocol.slice(0,-1)),y=!Hj.test(A?A.toLowerCase():"")}g=y}if(g)Lt(c,"complete"),Lt(c,"success");else{c.m=6;try{var k=2<Dr(c)?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.Z()+"]",PS(c)}}finally{yd(c)}}}}function yd(c,f){if(c.g){FS(c);let g=c.g,y=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||Lt(c,"ready");try{g.onreadystatechange=y}catch{}}}function FS(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Dr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Dr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),wj(f)}};function LS(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function zj(c){let f={};c=(c.g&&2<=Dr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let y=0;y<c.length;y++){if(P(c[y]))continue;var g=S(c[y]);let A=g[0];if(g=g[1],typeof g!="string")continue;g=g.trim();let k=f[A]||[];f[A]=k,k.push(g)}T(f,function(y){return y.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nl(c,f,g){return g&&g.internalChannelParams&&g.internalChannelParams[c]||f}function VS(c){this.Aa=0,this.i=[],this.j=new bl,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Nl("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Nl("baseRetryDelayMs",5e3,c),this.cb=Nl("retryDelaySeedMs",1e4,c),this.Wa=Nl("forwardChannelMaxRetries",2,c),this.wa=Nl("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new _S(c&&c.concurrentRequestLimit),this.Da=new Uj,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=VS.prototype,t.la=8,t.G=1,t.connect=function(c,f,g,y){Vt(0),this.W=c,this.H=f||{},g&&y!==void 0&&(this.H.OSID=g,this.H.OAID=y),this.F=this.X,this.I=GS(this,null,this.W),_d(this)};function sy(c){if(jS(c),c.G==3){var f=c.U++,g=br(c.I);if(Le(g,"SID",c.K),Le(g,"RID",f),Le(g,"TYPE","terminate"),xl(c,g),f=new ui(c,c.j,f),f.L=2,f.v=gd(br(g)),g=!1,a.navigator&&a.navigator.sendBeacon)try{g=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!g&&a.Image&&(new Image().src=f.v,g=!0),g||(f.g=KS(f.j,null),f.g.ea(f.v)),f.F=Date.now(),fd(f)}WS(c)}function vd(c){c.g&&(ay(c),c.g.cancel(),c.g=null)}function jS(c){vd(c),c.u&&(a.clearTimeout(c.u),c.u=null),Ed(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function _d(c){if(!ES(c.h)&&!c.s){c.s=!0;var f=c.Ga;gl||ZC(),ml||(gl(),ml=!0),Vm.add(f,c),c.B=0}}function qj(c,f){return wS(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Il(m(c.Ga,c,f),qS(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let A=new ui(this,this.j,c),k=this.o;if(this.S&&(k?(k=v(k),C(k,this.S)):k=this.S),this.m!==null||this.O||(A.H=k,k=null),this.P)e:{for(var f=0,g=0;g<this.i.length;g++){t:{var y=this.i[g];if("__data__"in y.map&&(y=y.map.__data__,typeof y=="string")){y=y.length;break t}y=void 0}if(y===void 0)break;if(f+=y,4096<f){f=g;break e}if(f===4096||g===this.i.length-1){f=g+1;break e}}f=1e3}else f=1e3;f=BS(this,A,f),g=br(this.I),Le(g,"RID",c),Le(g,"CVER",22),this.D&&Le(g,"X-HTTP-Session-Id",this.D),xl(this,g),k&&(this.O?f="headers="+encodeURIComponent(String(xS(k)))+"&"+f:this.m&&iy(g,this.m,k)),ry(this.h,A),this.Ua&&Le(g,"TYPE","init"),this.P?(Le(g,"$req",f),Le(g,"SID","null"),A.T=!0,Xm(A,g,null)):Xm(A,g,f),this.G=2}}else this.G==3&&(c?US(this,c):this.i.length==0||ES(this.h)||US(this))};function US(c,f){var g;f?g=f.l:g=c.U++;let y=br(c.I);Le(y,"SID",c.K),Le(y,"RID",g),Le(y,"AID",c.T),xl(c,y),c.m&&c.o&&iy(y,c.m,c.o),g=new ui(c,c.j,g,c.B+1),c.m===null&&(g.H=c.o),f&&(c.i=f.D.concat(c.i)),f=BS(c,g,1e3),g.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),ry(c.h,g),Xm(g,y,f)}function xl(c,f){c.H&&W(c.H,function(g,y){Le(f,y,g)}),c.l&&DS({},function(g,y){Le(f,y,g)})}function BS(c,f,g){g=Math.min(c.i.length,g);var y=c.l?m(c.l.Na,c.l,c):null;e:{var A=c.i;let k=-1;for(;;){let U=["count="+g];k==-1?0<g?(k=A[0].g,U.push("ofs="+k)):k=0:U.push("ofs="+k);let xe=!0;for(let yt=0;yt<g;yt++){let Se=A[yt].g,At=A[yt].map;if(Se-=k,0>Se)k=Math.max(0,A[yt].g-100),xe=!1;else try{Bj(At,U,"req"+Se+"_")}catch{y&&y(At)}}if(xe){y=U.join("&");break e}}}return c=c.i.splice(0,g),f.D=c,y}function HS(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;gl||ZC(),ml||(gl(),ml=!0),Vm.add(f,c),c.v=0}}function oy(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Il(m(c.Fa,c),qS(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,$S(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Il(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Vt(10),vd(this),$S(this))};function ay(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function $S(c){c.g=new ui(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=br(c.qa);Le(f,"RID","rpc"),Le(f,"SID",c.K),Le(f,"AID",c.T),Le(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&Le(f,"TO",c.ja),Le(f,"TYPE","xmlhttp"),xl(c,f),c.m&&c.o&&iy(f,c.m,c.o),c.L&&(c.g.I=c.L);var g=c.g;c=c.ia,g.L=1,g.v=gd(br(f)),g.m=null,g.P=!0,mS(g,c)}t.Za=function(){this.C!=null&&(this.C=null,vd(this),oy(this),Vt(19))};function Ed(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function zS(c,f){var g=null;if(c.g==f){Ed(c),ay(c),c.g=null;var y=2}else if(ny(c.h,f))g=f.D,IS(c.h,f),y=1;else return;if(c.G!=0){if(f.o)if(y==1){g=f.m?f.m.length:0,f=Date.now()-f.F;var A=c.B;y=cd(),Lt(y,new fS(y,g)),_d(c)}else HS(c);else if(A=f.s,A==3||A==0&&0<f.X||!(y==1&&qj(c,f)||y==2&&oy(c)))switch(g&&0<g.length&&(f=c.h,f.i=f.i.concat(g)),A){case 1:ns(c,5);break;case 4:ns(c,10);break;case 3:ns(c,6);break;default:ns(c,2)}}}function qS(c,f){let g=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(g*=2),g*f}function ns(c,f){if(c.j.info("Error code "+f),f==2){var g=m(c.fb,c),y=c.Xa;let A=!y;y=new ts(y||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||hd(y,"https"),gd(y),A?Vj(y.toString(),g):jj(y.toString(),g)}else Vt(2);c.G=0,c.l&&c.l.sa(f),WS(c),jS(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),Vt(2)):(this.j.info("Failed to ping google.com"),Vt(1))};function WS(c){if(c.G=0,c.ka=[],c.l){let f=bS(c.h);(f.length!=0||c.i.length!=0)&&(w(c.ka,f),w(c.ka,c.i),c.h.i.length=0,I(c.i),c.i.length=0),c.l.ra()}}function GS(c,f,g){var y=g instanceof ts?br(g):new ts(g);if(y.g!="")f&&(y.g=f+"."+y.g),pd(y,y.s);else{var A=a.location;y=A.protocol,f=f?f+"."+A.hostname:A.hostname,A=+A.port;var k=new ts(null);y&&hd(k,y),f&&(k.g=f),A&&pd(k,A),g&&(k.l=g),y=k}return g=c.D,f=c.ya,g&&f&&Le(y,g,f),Le(y,"VER",c.la),xl(c,y),y}function KS(c,f,g){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new $e(new Al({eb:g})):new $e(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function QS(){}t=QS.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function wd(){}wd.prototype.g=function(c,f){return new rn(c,f)};function rn(c,f){St.call(this),this.g=new VS(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!P(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!P(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new _o(this)}_(rn,St),rn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},rn.prototype.close=function(){sy(this.g)},rn.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var g={};g.__data__=c,c=g}else this.u&&(g={},g.__data__=Gm(c),c=g);f.i.push(new Aj(f.Ya++,c)),f.G==3&&_d(f)},rn.prototype.N=function(){this.g.l=null,delete this.j,sy(this.g),delete this.g,rn.aa.N.call(this)};function YS(c){Qm.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let g in f){c=g;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}_(YS,Qm);function ZS(){Ym.call(this),this.status=1}_(ZS,Ym);function _o(c){this.g=c}_(_o,QS),_o.prototype.ua=function(){Lt(this.g,"a")},_o.prototype.ta=function(c){Lt(this.g,new YS(c))},_o.prototype.sa=function(c){Lt(this.g,new ZS)},_o.prototype.ra=function(){Lt(this.g,"b")},wd.prototype.createWebChannel=wd.prototype.g,rn.prototype.send=rn.prototype.o,rn.prototype.open=rn.prototype.m,rn.prototype.close=rn.prototype.close,cD=ni.createWebChannelTransport=function(){return new wd},lD=ni.getStatEventTarget=function(){return cd()},aD=ni.Event=Xi,Sg=ni.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ud.NO_ERROR=0,ud.TIMEOUT=8,ud.HTTP_ERROR=6,Mu=ni.ErrorCode=ud,hS.COMPLETE="complete",oD=ni.EventType=hS,lS.EventType=El,El.OPEN="a",El.CLOSE="b",El.ERROR="c",El.MESSAGE="d",St.prototype.listen=St.prototype.K,Va=ni.WebChannel=lS,S7=ni.FetchXmlHttpFactory=Al,$e.prototype.listenOnce=$e.prototype.L,$e.prototype.getLastError=$e.prototype.Ka,$e.prototype.getLastErrorCode=$e.prototype.Ba,$e.prototype.getStatus=$e.prototype.Z,$e.prototype.getResponseJson=$e.prototype.Oa,$e.prototype.getResponseText=$e.prototype.oa,$e.prototype.send=$e.prototype.ea,$e.prototype.setWithCredentials=$e.prototype.Ha,sD=ni.XhrIo=$e}).apply(typeof Cg<"u"?Cg:typeof self<"u"?self:typeof window<"u"?window:{});var q1="@firebase/firestore",W1="4.7.8";var gt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};gt.UNAUTHENTICATED=new gt(null),gt.GOOGLE_CREDENTIALS=new gt("google-credentials-uid"),gt.FIRST_PARTY=new gt("first-party-uid"),gt.MOCK_USER=new gt("mock-user");var ol="11.3.1";var io=new cr("@firebase/firestore");function ja(){return io.logLevel}function H(t,...e){if(io.logLevel<=ye.DEBUG){let n=e.map(XT);io.debug(`Firestore (${ol}): ${t}`,...n)}}function ri(t,...e){if(io.logLevel<=ye.ERROR){let n=e.map(XT);io.error(`Firestore (${ol}): ${t}`,...n)}}function qa(t,...e){if(io.logLevel<=ye.WARN){let n=e.map(XT);io.warn(`Firestore (${ol}): ${t}`,...n)}}function XT(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ee(t="Unexpected state"){let e=`FIRESTORE (${ol}) INTERNAL ASSERTION FAILED: `+t;throw ri(e),new Error(e)}function Ne(t,e){t||ee()}function se(t,e){return t}var L={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},K=class extends zt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var gr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var Pg=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},pD=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(gt.UNAUTHENTICATED))}shutdown(){}},gD=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},mD=class{constructor(e){this.t=e,this.currentUser=gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ne(this.o===void 0);let r=this.i,i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve(),s=new gr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new gr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let l=s;e.enqueueRetryable(()=>E(this,null,function*(){yield l.promise,yield i(this.currentUser)}))},a=l=>{H("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){let l=this.t.getImmediate({optional:!0});l?a(l):(H("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new gr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(H("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ne(typeof r.accessToken=="string"),new Pg(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Ne(e===null||typeof e=="string"),new gt(e)}},yD=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=gt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);let e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}},vD=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new yD(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},Og=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},_D=class{constructor(e,n){this.A=n,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,gn(e)&&e.settings.appCheckToken&&(this.V=e.settings.appCheckToken)}start(e,n){Ne(this.o===void 0);let r=s=>{s.error!=null&&H("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,H("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{H("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):H("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new Og(this.V));let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ne(typeof n.token=="string"),this.R=n.token,new Og(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function A7(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Fg=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516),r="";for(;r.length<20;){let i=A7(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}};function we(t,e){return t<e?-1:t>e?1:0}function Wa(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var G1=-62135596800,K1=1e6,Tt=class t{static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*K1);return new t(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new K(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new K(L.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<G1)throw new K(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new K(L.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K1}_compareTo(e){return this.seconds===e.seconds?we(this.nanoseconds,e.nanoseconds):we(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds-G1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class t{static fromTimestamp(e){return new t(e)}static min(){return new t(new Tt(0,0))}static max(){return new t(new Tt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Q1="__name__",Lg=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ee(),r===void 0?r=e.length-n:r>e.length-n&&ee(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=t.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Math.sign(e.length-n.length)}static compareSegments(e,n){let r=t.isNumericId(e),i=t.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?t.extractNumericId(e).compare(t.extractNumericId(n)):e<n?-1:e>n?1:0}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ti.fromString(e.substring(4,e.length-2))}},rt=class t extends Lg{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new K(L.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},R7=/^[_a-zA-Z][_a-zA-Z0-9]*$/,yn=class t extends Lg{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return R7.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Q1}static keyField(){return new t([Q1])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new K(L.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new K(L.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new K(L.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new K(L.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Z=class t{constructor(e){this.path=e}static fromPath(e){return new t(rt.fromString(e))}static fromName(e){return new t(rt.fromString(e).popFirst(5))}static empty(){return new t(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new rt(e.slice()))}};var Fu=-1,ED=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};ED.UNKNOWN_ID=-1;function M7(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new Tt(n+1,0):new Tt(n,r));return new so(i,Z.empty(),e)}function N7(t){return new so(t.readTime,t.key,Fu)}var so=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ae.min(),Z.empty(),Fu)}static max(){return new t(ae.max(),Z.empty(),Fu)}};function x7(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:we(t.largestBatchId,e.largestBatchId))}var k7="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",wD=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function al(t){return E(this,null,function*(){if(t.code!==L.FAILED_PRECONDITION||t.message!==k7)throw t;H("LocalStore","Unexpectedly lost primary lease")})}var F=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let l=0;l<s;l++){let u=l;n(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function P7(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ll(t){return t.name==="IndexedDbTransactionError"}var eC=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.oe(i),this._e=i=>r.writeSequenceNumber(i))}oe(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this._e&&this._e(n),n}}t.ae=-1;return t})(),tC=-1;function pm(t){return t==null}function Lu(t){return t===0&&1/t==-1/0}function O7(t){return typeof t=="number"&&Number.isInteger(t)&&!Lu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var NF="";function F7(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=Y1(e)),e=L7(t.get(n),e);return Y1(e)}function L7(t,e){let n=e,r=t.length;for(let i=0;i<r;i++){let s=t.charAt(i);switch(s){case"\0":n+="";break;case NF:n+="";break;default:n+=s}}return n}function Y1(t){return t+NF+""}var V7="remoteDocuments",xF="owner";var kF="mutationQueues";var PF="mutations";var OF="documentMutations",j7="remoteDocumentsV14";var FF="remoteDocumentGlobal";var LF="targets";var VF="targetDocuments";var jF="targetGlobal",UF="collectionParents";var BF="clientMetadata";var HF="bundles";var $F="namedQueries";var U7="indexConfiguration";var B7="indexState";var H7="indexEntries";var zF="documentOverlays";var $7="globals";var z7=[kF,PF,OF,V7,LF,xF,jF,VF,BF,FF,UF,HF,$F],lfe=[...z7,zF],q7=[kF,PF,OF,j7,LF,xF,jF,VF,BF,FF,UF,HF,$F,zF],W7=q7,G7=[...W7,U7,B7,H7];var cfe=[...G7,$7];function Z1(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Zi(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function qF(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var We=class t{constructor(e,n){this.comparator=e,this.root=n||mr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new $a(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new $a(this.root,e,this.comparator,!1)}getReverseIterator(){return new $a(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new $a(this.root,e,this.comparator,!0)}},$a=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},mr=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();let e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}};mr.EMPTY=null,mr.RED=!0,mr.BLACK=!1;mr.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,n,r,i,s){return this}insert(e,n,r){return new mr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var mt=class t{constructor(e){this.comparator=e,this.data=new We(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Vg(this.data.getIterator())}getIteratorFrom(e){return new Vg(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Vg=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Sn=class t{constructor(e){this.fields=e,e.sort(yn.comparator)}static empty(){return new t([])}unionWith(e){let n=new mt(yn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Wa(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var jg=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Ft=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new jg("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return we(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Ft.EMPTY_BYTE_STRING=new Ft("");var K7=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ii(t){if(Ne(!!t),typeof t=="string"){let e=0,n=K7.exec(t);if(Ne(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Be(t.seconds),nanos:Be(t.nanos)}}function Be(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function si(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}var WF="server_timestamp",GF="__type__",KF="__previous_value__",QF="__local_write_time__";function nC(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[GF])===null||n===void 0?void 0:n.stringValue)===WF}function gm(t){let e=t.mapValue.fields[KF];return nC(e)?gm(e):e}function Vu(t){let e=ii(t.mapValue.fields[QF].timestampValue);return new Tt(e.seconds,e.nanos)}var ID=class{constructor(e,n,r,i,s,o,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},Ug="(default)",Bg=class t{constructor(e,n){this.projectId=e,this.database=n||Ug}static empty(){return new t("","")}get isDefaultDatabase(){return this.database===Ug}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var rC="__type__",YF="__max__",Ag={mapValue:{fields:{__type__:{stringValue:YF}}}},iC="__vector__",Ga="value";function Ki(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?nC(t)?4:JF(t)?9007199254740991:ZF(t)?10:11:ee()}function _r(t,e){if(t===e)return!0;let n=Ki(t);if(n!==Ki(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Vu(t).isEqual(Vu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=ii(i.timestampValue),a=ii(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return si(i.bytesValue).isEqual(si(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return Be(i.geoPointValue.latitude)===Be(s.geoPointValue.latitude)&&Be(i.geoPointValue.longitude)===Be(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return Be(i.integerValue)===Be(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=Be(i.doubleValue),a=Be(s.doubleValue);return o===a?Lu(o)===Lu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Wa(t.arrayValue.values||[],e.arrayValue.values||[],_r);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(Z1(o)!==Z1(a))return!1;for(let l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!_r(o[l],a[l])))return!1;return!0}(t,e);default:return ee()}}function ju(t,e){return(t.values||[]).find(n=>_r(n,e))!==void 0}function Ka(t,e){if(t===e)return 0;let n=Ki(t),r=Ki(e);if(n!==r)return we(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return we(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=Be(s.integerValue||s.doubleValue),l=Be(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return J1(t.timestampValue,e.timestampValue);case 4:return J1(Vu(t),Vu(e));case 5:return we(t.stringValue,e.stringValue);case 6:return function(s,o){let a=si(s),l=si(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),l=o.split("/");for(let u=0;u<a.length&&u<l.length;u++){let d=we(a[u],l[u]);if(d!==0)return d}return we(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=we(Be(s.latitude),Be(o.latitude));return a!==0?a:we(Be(s.longitude),Be(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return X1(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,l,u,d;let h=s.fields||{},m=o.fields||{},p=(a=h[Ga])===null||a===void 0?void 0:a.arrayValue,_=(l=m[Ga])===null||l===void 0?void 0:l.arrayValue,I=we(((u=p?.values)===null||u===void 0?void 0:u.length)||0,((d=_?.values)===null||d===void 0?void 0:d.length)||0);return I!==0?I:X1(p,_)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===Ag.mapValue&&o===Ag.mapValue)return 0;if(s===Ag.mapValue)return 1;if(o===Ag.mapValue)return-1;let a=s.fields||{},l=Object.keys(a),u=o.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let h=0;h<l.length&&h<d.length;++h){let m=we(l[h],d[h]);if(m!==0)return m;let p=Ka(a[l[h]],u[d[h]]);if(p!==0)return p}return we(l.length,d.length)}(t.mapValue,e.mapValue);default:throw ee()}}function J1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return we(t,e);let n=ii(t),r=ii(e),i=we(n.seconds,r.seconds);return i!==0?i:we(n.nanos,r.nanos)}function X1(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Ka(n[i],r[i]);if(s)return s}return we(n.length,r.length)}function Qa(t){return bD(t)}function bD(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=ii(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return si(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=bD(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${bD(n.fields[o])}`;return i+"}"}(t.mapValue):ee()}function Ng(t){switch(Ki(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:let e=gm(t);return e?16+Ng(e):16;case 5:return 2*t.stringValue.length;case 6:return si(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Ng(s),0)}(t.arrayValue);case 10:case 11:return function(r){let i=0;return Zi(r.fields,(s,o)=>{i+=s.length+Ng(o)}),i}(t.mapValue);default:throw ee()}}function DD(t){return!!t&&"integerValue"in t}function sC(t){return!!t&&"arrayValue"in t}function eF(t){return!!t&&"nullValue"in t}function tF(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xg(t){return!!t&&"mapValue"in t}function ZF(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{})[rC])===null||n===void 0?void 0:n.stringValue)===iC}function xu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Zi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=xu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=xu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function JF(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===YF}var dfe={mapValue:{fields:{[rC]:{stringValue:iC},[Ga]:{arrayValue:{}}}}};var mn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xg(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=xu(n)}setAll(e){let n=yn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=xu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());xg(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return _r(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];xg(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Zi(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(xu(this.value))}};function XF(t){let e=[];return Zi(t.fields,(n,r)=>{let i=new yn([n]);if(xg(r)){let s=XF(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new Sn(e)}var zn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ae.min(),ae.min(),ae.min(),mn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ae.min(),ae.min(),mn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ae.min(),ae.min(),mn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var Ya=class{constructor(e,n){this.position=e,this.inclusive=n}};function nF(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Ka(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function rF(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!_r(t.position[n],e.position[n]))return!1;return!0}var Za=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function Q7(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Hg=class{},ct=class t extends Hg{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new CD(e,n,r):n==="array-contains"?new RD(e,r):n==="in"?new MD(e,r):n==="not-in"?new ND(e,r):n==="array-contains-any"?new xD(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new SD(e,r):new AD(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ka(n,this.value)):n!==null&&Ki(this.value)===Ki(n)&&this.matchesComparison(Ka(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Er=class t extends Hg{constructor(e,n){super(),this.filters=e,this.op=n,this.ce=null}static create(e,n){return new t(e,n)}matches(e){return eL(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}};function eL(t){return t.op==="and"}function tL(t){return Y7(t)&&eL(t)}function Y7(t){for(let e of t.filters)if(e instanceof Er)return!1;return!0}function TD(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+Qa(t.value);if(tL(t))return t.filters.map(e=>TD(e)).join(",");{let e=t.filters.map(n=>TD(n)).join(",");return`${t.op}(${e})`}}function nL(t,e){return t instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.field.isEqual(i.field)&&_r(r.value,i.value)}(t,e):t instanceof Er?function(r,i){return i instanceof Er&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&nL(o,i.filters[a]),!0):!1}(t,e):void ee()}function rL(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Qa(n.value)}`}(t):t instanceof Er?function(n){return n.op.toString()+" {"+n.getFilters().map(rL).join(" ,")+"}"}(t):"Filter"}var CD=class extends ct{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){let n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}},SD=class extends ct{constructor(e,n){super(e,"in",n),this.keys=iL("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},AD=class extends ct{constructor(e,n){super(e,"not-in",n),this.keys=iL("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function iL(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}var RD=class extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return sC(n)&&ju(n.arrayValue,this.value)}},MD=class extends ct{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ju(this.value.arrayValue,n)}},ND=class extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(ju(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ju(this.value.arrayValue,n)}},xD=class extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!sC(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ju(this.value.arrayValue,r))}};var kD=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.le=null}};function iF(t,e=null,n=[],r=[],i=null,s=null,o=null){return new kD(t,e,n,r,i,s,o)}function oC(t){let e=se(t);if(e.le===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>TD(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),pm(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Qa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Qa(r)).join(",")),e.le=n}return e.le}function aC(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!Q7(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!nL(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!rF(t.startAt,e.startAt)&&rF(t.endAt,e.endAt)}function PD(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Ja=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}};function Z7(t,e,n,r,i,s,o,a){return new Ja(t,e,n,r,i,s,o,a)}function lC(t){return new Ja(t)}function sF(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function J7(t){return t.collectionGroup!==null}function ku(t){let e=se(t);if(e.he===null){e.he=[];let n=new Set;for(let s of e.explicitOrderBy)e.he.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new mt(yn.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.he.push(new Za(s,r))}),n.has(yn.keyField().canonicalString())||e.he.push(new Za(yn.keyField(),r))}return e.he}function yr(t){let e=se(t);return e.Pe||(e.Pe=X7(e,ku(t))),e.Pe}function X7(t,e){if(t.limitType==="F")return iF(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Za(i.field,s)});let n=t.endAt?new Ya(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Ya(t.startAt.position,t.startAt.inclusive):null;return iF(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function OD(t,e,n){return new Ja(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function mm(t,e){return aC(yr(t),yr(e))&&t.limitType===e.limitType}function sL(t){return`${oC(yr(t))}|lt:${t.limitType}`}function Ua(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>rL(i)).join(", ")}]`),pm(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Qa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Qa(i)).join(",")),`Target(${r})`}(yr(t))}; limitType=${t.limitType})`}function ym(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of ku(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,l){let u=nF(o,a,l);return o.inclusive?u<=0:u<0}(r.startAt,ku(r),i)||r.endAt&&!function(o,a,l){let u=nF(o,a,l);return o.inclusive?u>=0:u>0}(r.endAt,ku(r),i))}(t,e)}function eY(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function oL(t){return(e,n)=>{let r=!1;for(let i of ku(t)){let s=tY(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function tY(t,e,n){let r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(s,o,a){let l=o.data.field(s),u=a.data.field(s);return l!==null&&u!==null?Ka(l,u):ee()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}var oi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Zi(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return qF(this.inner)}size(){return this.innerSize}};var nY=new We(Z.comparator);function ai(){return nY}var aL=new We(Z.comparator);function Nu(...t){let e=aL;for(let n of t)e=e.insert(n.key,n);return e}function lL(t){let e=aL;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function no(){return Pu()}function cL(){return Pu()}function Pu(){return new oi(t=>t.toString(),(t,e)=>t.isEqual(e))}var rY=new We(Z.comparator),iY=new mt(Z.comparator);function _e(...t){let e=iY;for(let n of t)e=e.add(n);return e}var sY=new mt(we);function oY(){return sY}function cC(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lu(e)?"-0":e}}function uL(t){return{integerValue:""+t}}function aY(t,e){return O7(e)?uL(e):cC(t,e)}var Xa=class{constructor(){this._=void 0}};function lY(t,e,n){return t instanceof el?function(i,s){let o={fields:{[GF]:{stringValue:WF},[QF]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&nC(s)&&(s=gm(s)),s&&(o.fields[KF]=s),{mapValue:o}}(n,e):t instanceof oo?fL(t,e):t instanceof ao?hL(t,e):function(i,s){let o=dL(i,s),a=oF(o)+oF(i.Ie);return DD(o)&&DD(i.Ie)?uL(a):cC(i.serializer,a)}(t,e)}function cY(t,e,n){return t instanceof oo?fL(t,e):t instanceof ao?hL(t,e):n}function dL(t,e){return t instanceof tl?function(r){return DD(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var el=class extends Xa{},oo=class extends Xa{constructor(e){super(),this.elements=e}};function fL(t,e){let n=pL(e);for(let r of t.elements)n.some(i=>_r(i,r))||n.push(r);return{arrayValue:{values:n}}}var ao=class extends Xa{constructor(e){super(),this.elements=e}};function hL(t,e){let n=pL(e);for(let r of t.elements)n=n.filter(i=>!_r(i,r));return{arrayValue:{values:n}}}var tl=class extends Xa{constructor(e,n){super(),this.serializer=e,this.Ie=n}};function oF(t){return Be(t.integerValue||t.doubleValue)}function pL(t){return sC(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function uY(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof oo&&i instanceof oo||r instanceof ao&&i instanceof ao?Wa(r.elements,i.elements,_r):r instanceof tl&&i instanceof tl?_r(r.Ie,i.Ie):r instanceof el&&i instanceof el}(t.transform,e.transform)}var FD=class{constructor(e,n){this.version=e,this.transformResults=n}},Gi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function kg(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var nl=class{};function gL(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new $g(t.key,Gi.none()):new lo(t.key,t.data,Gi.none());{let n=t.data,r=mn.empty(),i=new mt(yn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new wr(t.key,r,new Sn(i.toArray()),Gi.none())}}function dY(t,e,n){t instanceof lo?function(i,s,o){let a=i.value.clone(),l=lF(i.fieldTransforms,s,o.transformResults);a.setAll(l),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof wr?function(i,s,o){if(!kg(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=lF(i.fieldTransforms,s,o.transformResults),l=s.data;l.setAll(mL(i)),l.setAll(a),s.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Ou(t,e,n,r){return t instanceof lo?function(s,o,a,l){if(!kg(s.precondition,o))return a;let u=s.value.clone(),d=cF(s.fieldTransforms,l,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof wr?function(s,o,a,l){if(!kg(s.precondition,o))return a;let u=cF(s.fieldTransforms,l,o),d=o.data;return d.setAll(mL(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(h=>h.field))}(t,e,n,r):function(s,o,a){return kg(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function fY(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=dL(r.transform,i||null);s!=null&&(n===null&&(n=mn.empty()),n.set(r.field,s))}return n||null}function aF(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Wa(r,i,(s,o)=>uY(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var lo=class extends nl{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},wr=class extends nl{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function mL(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function lF(t,e,n){let r=new Map;Ne(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,cY(o,a,n[i]))}return r}function cF(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,lY(s,o,e))}return r}var $g=class extends nl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},LD=class extends nl{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var VD=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&dY(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Ou(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Ou(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=cL();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let l=gL(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),_e())}isEqual(e){return this.batchId===e.batchId&&Wa(this.mutations,e.mutations,(n,r)=>aF(n,r))&&Wa(this.baseMutations,e.baseMutations,(n,r)=>aF(n,r))}},jD=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Ne(e.mutations.length===r.length);let i=function(){return rY}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var UD=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var BD=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var tt,Ce;function hY(t){switch(t){case L.OK:return ee();case L.CANCELLED:case L.UNKNOWN:case L.DEADLINE_EXCEEDED:case L.RESOURCE_EXHAUSTED:case L.INTERNAL:case L.UNAVAILABLE:case L.UNAUTHENTICATED:return!1;case L.INVALID_ARGUMENT:case L.NOT_FOUND:case L.ALREADY_EXISTS:case L.PERMISSION_DENIED:case L.FAILED_PRECONDITION:case L.ABORTED:case L.OUT_OF_RANGE:case L.UNIMPLEMENTED:case L.DATA_LOSS:return!0;default:return ee()}}function yL(t){if(t===void 0)return ri("GRPC error has no .code"),L.UNKNOWN;switch(t){case tt.OK:return L.OK;case tt.CANCELLED:return L.CANCELLED;case tt.UNKNOWN:return L.UNKNOWN;case tt.DEADLINE_EXCEEDED:return L.DEADLINE_EXCEEDED;case tt.RESOURCE_EXHAUSTED:return L.RESOURCE_EXHAUSTED;case tt.INTERNAL:return L.INTERNAL;case tt.UNAVAILABLE:return L.UNAVAILABLE;case tt.UNAUTHENTICATED:return L.UNAUTHENTICATED;case tt.INVALID_ARGUMENT:return L.INVALID_ARGUMENT;case tt.NOT_FOUND:return L.NOT_FOUND;case tt.ALREADY_EXISTS:return L.ALREADY_EXISTS;case tt.PERMISSION_DENIED:return L.PERMISSION_DENIED;case tt.FAILED_PRECONDITION:return L.FAILED_PRECONDITION;case tt.ABORTED:return L.ABORTED;case tt.OUT_OF_RANGE:return L.OUT_OF_RANGE;case tt.UNIMPLEMENTED:return L.UNIMPLEMENTED;case tt.DATA_LOSS:return L.DATA_LOSS;default:return ee()}}(Ce=tt||(tt={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";var uF=null;function pY(){return new TextEncoder}var gY=new ti([4294967295,4294967295],0);function dF(t){let e=pY().encode(t),n=new iD;return n.update(e),new Uint8Array(n.digest())}function fF(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new ti([n,r],0),new ti([i,s],0)]}var HD=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ro(`Invalid padding: ${n}`);if(r<0)throw new ro(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ro(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ro(`Invalid padding when bitmap length is 0: ${n}`);this.Ee=8*e.length-n,this.de=ti.fromNumber(this.Ee)}Ae(e,n,r){let i=e.add(n.multiply(ti.fromNumber(r)));return i.compare(gY)===1&&(i=new ti([i.getBits(0),i.getBits(1)],0)),i.modulo(this.de).toNumber()}Re(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.Ee===0)return!1;let n=dF(e),[r,i]=fF(n);for(let s=0;s<this.hashCount;s++){let o=this.Ae(r,i,s);if(!this.Re(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ee===0)return;let n=dF(e),[r,i]=fF(n);for(let s=0;s<this.hashCount;s++){let o=this.Ae(r,i,s);this.Ve(o)}}Ve(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},ro=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var zg=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ae.min(),i,new We(we),ai(),_e())}},Uu=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,_e(),_e(),_e())}};var za=class{constructor(e,n,r,i){this.me=e,this.removedTargetIds=n,this.key=r,this.fe=i}},qg=class{constructor(e,n){this.targetId=e,this.ge=n}},Wg=class{constructor(e,n,r=Ft.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Gg=class{constructor(){this.pe=0,this.ye=hF(),this.we=Ft.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(e){e.approximateByteSize()>0&&(this.be=!0,this.we=e)}Fe(){let e=_e(),n=_e(),r=_e();return this.ye.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new Uu(this.we,this.Se,e,n,r)}Me(){this.be=!1,this.ye=hF()}xe(e,n){this.be=!0,this.ye=this.ye.insert(e,n)}Oe(e){this.be=!0,this.ye=this.ye.remove(e)}Ne(){this.pe+=1}Be(){this.pe-=1,Ne(this.pe>=0)}Le(){this.be=!0,this.Se=!0}},$D=class{constructor(e){this.ke=e,this.qe=new Map,this.Qe=ai(),this.$e=Rg(),this.Ke=Rg(),this.Ue=new We(we)}We(e){for(let n of e.me)e.fe&&e.fe.isFoundDocument()?this.Ge(n,e.fe):this.ze(n,e.key,e.fe);for(let n of e.removedTargetIds)this.ze(n,e.key,e.fe)}je(e){this.forEachTarget(e,n=>{let r=this.He(n);switch(e.state){case 0:this.Je(n)&&r.Ce(e.resumeToken);break;case 1:r.Be(),r.De||r.Me(),r.Ce(e.resumeToken);break;case 2:r.Be(),r.De||this.removeTarget(n);break;case 3:this.Je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.Je(n)&&(this.Ye(n),r.Ce(e.resumeToken));break;default:ee()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.qe.forEach((r,i)=>{this.Je(i)&&n(i)})}Ze(e){let n=e.targetId,r=e.ge.count,i=this.Xe(n);if(i){let s=i.target;if(PD(s))if(r===0){let o=new Z(s.path);this.ze(n,o,zn.newNoDocument(o,ae.min()))}else Ne(r===1);else{let o=this.et(n);if(o!==r){let a=this.tt(e),l=a?this.nt(a,e,o):1;if(l!==0){this.Ye(n);let u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(n,u)}uF?.rt(function(d,h,m,p,_){var I,w,R,P,O,B;let me={localCacheCount:d,existenceFilterCount:h.count,databaseId:m.database,projectId:m.projectId},W=h.unchangedNames;return W&&(me.bloomFilter={applied:_===0,hashCount:(I=W?.hashCount)!==null&&I!==void 0?I:0,bitmapLength:(P=(R=(w=W?.bits)===null||w===void 0?void 0:w.bitmap)===null||R===void 0?void 0:R.length)!==null&&P!==void 0?P:0,padding:(B=(O=W?.bits)===null||O===void 0?void 0:O.padding)!==null&&B!==void 0?B:0,mightContain:T=>{var v;return(v=p?.mightContain(T))!==null&&v!==void 0&&v}}),me}(o,e.ge,this.ke.it(),a,l))}}}}tt(e){let n=e.ge.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=si(r).toUint8Array()}catch(l){if(l instanceof jg)return qa("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new HD(o,i,s)}catch(l){return qa(l instanceof ro?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Ee===0?null:a}nt(e,n,r){return n.ge.count===r-this.st(e,n.targetId)?0:2}st(e,n){let r=this.ke.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.ke.it(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.ze(n,s,null),i++)}),i}ot(e){let n=new Map;this.qe.forEach((s,o)=>{let a=this.Xe(o);if(a){if(s.current&&PD(a.target)){let l=new Z(a.target.path);this._t(l).has(o)||this.ut(o,l)||this.ze(o,l,zn.newNoDocument(l,e))}s.ve&&(n.set(o,s.Fe()),s.Me())}});let r=_e();this.Ke.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{let u=this.Xe(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.Qe.forEach((s,o)=>o.setReadTime(e));let i=new zg(e,n,this.Ue,this.Qe,r);return this.Qe=ai(),this.$e=Rg(),this.Ke=Rg(),this.Ue=new We(we),i}Ge(e,n){if(!this.Je(e))return;let r=this.ut(e,n.key)?2:0;this.He(e).xe(n.key,r),this.Qe=this.Qe.insert(n.key,n),this.$e=this.$e.insert(n.key,this._t(n.key).add(e)),this.Ke=this.Ke.insert(n.key,this.ct(n.key).add(e))}ze(e,n,r){if(!this.Je(e))return;let i=this.He(e);this.ut(e,n)?i.xe(n,1):i.Oe(n),this.Ke=this.Ke.insert(n,this.ct(n).delete(e)),this.Ke=this.Ke.insert(n,this.ct(n).add(e)),r&&(this.Qe=this.Qe.insert(n,r))}removeTarget(e){this.qe.delete(e)}et(e){let n=this.He(e).Fe();return this.ke.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ne(e){this.He(e).Ne()}He(e){let n=this.qe.get(e);return n||(n=new Gg,this.qe.set(e,n)),n}ct(e){let n=this.Ke.get(e);return n||(n=new mt(we),this.Ke=this.Ke.insert(e,n)),n}_t(e){let n=this.$e.get(e);return n||(n=new mt(we),this.$e=this.$e.insert(e,n)),n}Je(e){let n=this.Xe(e)!==null;return n||H("WatchChangeAggregator","Detected inactive target",e),n}Xe(e){let n=this.qe.get(e);return n&&n.De?null:this.ke.lt(e)}Ye(e){this.qe.set(e,new Gg),this.ke.getRemoteKeysForTarget(e).forEach(n=>{this.ze(e,n,null)})}ut(e,n){return this.ke.getRemoteKeysForTarget(e).has(n)}};function Rg(){return new We(Z.comparator)}function hF(){return new We(Z.comparator)}var mY={asc:"ASCENDING",desc:"DESCENDING"},yY={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vY={and:"AND",or:"OR"},zD=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function qD(t,e){return t.useProto3Json||pm(e)?e:{value:e}}function Kg(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function vL(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function _Y(t,e){return Kg(t,e.toTimestamp())}function vr(t){return Ne(!!t),ae.fromTimestamp(function(n){let r=ii(n);return new Tt(r.seconds,r.nanos)}(t))}function uC(t,e){return WD(t,e).canonicalString()}function WD(t,e){let n=function(i){return new rt(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function _L(t){let e=rt.fromString(t);return Ne(DL(e)),e}function GD(t,e){return uC(t.databaseId,e.path)}function uD(t,e){let n=_L(e);if(n.get(1)!==t.databaseId.projectId)throw new K(L.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new K(L.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(wL(n))}function EL(t,e){return uC(t.databaseId,e)}function EY(t){let e=_L(t);return e.length===4?rt.emptyPath():wL(e)}function KD(t){return new rt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function wL(t){return Ne(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function pF(t,e,n){return{name:GD(t,e),fields:n.value.mapValue.fields}}function wY(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ne(d===void 0||typeof d=="string"),Ft.fromBase64String(d||"")):(Ne(d===void 0||d instanceof Buffer||d instanceof Uint8Array),Ft.fromUint8Array(d||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){let d=u.code===void 0?L.UNKNOWN:yL(u.code);return new K(d,u.message||"")}(o);n=new Wg(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=uD(t,r.document.name),s=vr(r.document.updateTime),o=r.document.createTime?vr(r.document.createTime):ae.min(),a=new mn({mapValue:{fields:r.document.fields}}),l=zn.newFoundDocument(i,s,o,a),u=r.targetIds||[],d=r.removedTargetIds||[];n=new za(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=uD(t,r.document),s=r.readTime?vr(r.readTime):ae.min(),o=zn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new za([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=uD(t,r.document),s=r.removedTargetIds||[];n=new za([],s,i,null)}else{if(!("filter"in e))return ee();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new BD(i,s),a=r.targetId;n=new qg(a,o)}}return n}function IY(t,e){let n;if(e instanceof lo)n={update:pF(t,e.key,e.value)};else if(e instanceof $g)n={delete:GD(t,e.key)};else if(e instanceof wr)n={update:pF(t,e.key,e.data),updateMask:NY(e.fieldMask)};else{if(!(e instanceof LD))return ee();n={verify:GD(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof el)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof oo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ao)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof tl)return{fieldPath:o.field.canonicalString(),increment:a.Ie};throw ee()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:_Y(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:ee()}(t,e.precondition)),n}function bY(t,e){return t&&t.length>0?(Ne(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?vr(i.updateTime):vr(s);return o.isEqual(ae.min())&&(o=vr(s)),new FD(o,i.transformResults||[])}(n,e))):[]}function DY(t,e){return{documents:[EL(t,e.path)]}}function TY(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=EL(t,i);let s=function(u){if(u.length!==0)return bL(Er.create(u,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(u){if(u.length!==0)return u.map(d=>function(m){return{field:Ba(m.field),direction:AY(m.dir)}}(d))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=qD(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ht:n,parent:i}}function CY(t){let e=EY(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Ne(r===1);let d=n.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];n.where&&(s=function(h){let m=IL(h);return m instanceof Er&&tL(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(h){return h.map(m=>function(_){return new Za(Ha(_.field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(h){let m;return m=typeof h=="object"?h.value:h,pm(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(h){let m=!!h.before,p=h.values||[];return new Ya(p,m)}(n.startAt));let u=null;return n.endAt&&(u=function(h){let m=!h.before,p=h.values||[];return new Ya(p,m)}(n.endAt)),Z7(e,i,o,s,a,"F",l,u)}function SY(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function IL(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ha(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ha(n.unaryFilter.field);return ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Ha(n.unaryFilter.field);return ct.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Ha(n.unaryFilter.field);return ct.create(o,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(t):t.fieldFilter!==void 0?function(n){return ct.create(Ha(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Er.create(n.compositeFilter.filters.map(r=>IL(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(n.compositeFilter.op))}(t):ee()}function AY(t){return mY[t]}function RY(t){return yY[t]}function MY(t){return vY[t]}function Ba(t){return{fieldPath:t.canonicalString()}}function Ha(t){return yn.fromServerFormat(t.fieldPath)}function bL(t){return t instanceof ct?function(n){if(n.op==="=="){if(tF(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NAN"}};if(eF(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(tF(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NAN"}};if(eF(n.value))return{unaryFilter:{field:Ba(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ba(n.field),op:RY(n.op),value:n.value}}}(t):t instanceof Er?function(n){let r=n.getFilters().map(i=>bL(i));return r.length===1?r[0]:{compositeFilter:{op:MY(n.op),filters:r}}}(t):ee()}function NY(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function DL(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Bu=class t{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=Ft.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var QD=class{constructor(e){this.Tt=e}};function xY(t){let e=CY({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?OD(e,e.limit,"L"):e}var Qg=class{constructor(){}At(e,n){this.Rt(e,n),n.Vt()}Rt(e,n){if("nullValue"in e)this.ft(n,5);else if("booleanValue"in e)this.ft(n,10),n.gt(e.booleanValue?1:0);else if("integerValue"in e)this.ft(n,15),n.gt(Be(e.integerValue));else if("doubleValue"in e){let r=Be(e.doubleValue);isNaN(r)?this.ft(n,13):(this.ft(n,15),Lu(r)?n.gt(0):n.gt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.ft(n,20),typeof r=="string"&&(r=ii(r)),n.yt(`${r.seconds||""}`),n.gt(r.nanos||0)}else if("stringValue"in e)this.wt(e.stringValue,n),this.St(n);else if("bytesValue"in e)this.ft(n,30),n.bt(si(e.bytesValue)),this.St(n);else if("referenceValue"in e)this.Dt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.ft(n,45),n.gt(r.latitude||0),n.gt(r.longitude||0)}else"mapValue"in e?JF(e)?this.ft(n,Number.MAX_SAFE_INTEGER):ZF(e)?this.vt(e.mapValue,n):(this.Ct(e.mapValue,n),this.St(n)):"arrayValue"in e?(this.Ft(e.arrayValue,n),this.St(n)):ee()}wt(e,n){this.ft(n,25),this.Mt(e,n)}Mt(e,n){n.yt(e)}Ct(e,n){let r=e.fields||{};this.ft(n,55);for(let i of Object.keys(r))this.wt(i,n),this.Rt(r[i],n)}vt(e,n){var r,i;let s=e.fields||{};this.ft(n,53);let o=Ga,a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.ft(n,15),n.gt(Be(a)),this.wt(o,n),this.Rt(s[o],n)}Ft(e,n){let r=e.values||[];this.ft(n,50);for(let i of r)this.Rt(i,n)}Dt(e,n){this.ft(n,37),Z.fromName(e).path.forEach(r=>{this.ft(n,60),this.Mt(r,n)})}ft(e,n){e.gt(n)}St(e){e.gt(2)}};Qg.xt=new Qg;var YD=class{constructor(){this.Tn=new ZD}addToCollectionParentIndex(e,n){return this.Tn.add(n),F.resolve()}getCollectionParents(e,n){return F.resolve(this.Tn.getEntries(n))}addFieldIndex(e,n){return F.resolve()}deleteFieldIndex(e,n){return F.resolve()}deleteAllFieldIndexes(e){return F.resolve()}createTargetIndexes(e,n){return F.resolve()}getDocumentsMatchingTarget(e,n){return F.resolve(null)}getIndexType(e,n){return F.resolve(0)}getFieldIndexes(e,n){return F.resolve([])}getNextCollectionGroupToUpdate(e){return F.resolve(null)}getMinOffset(e,n){return F.resolve(so.min())}getMinOffsetFromCollectionGroup(e,n){return F.resolve(so.min())}updateCollectionGroup(e,n,r){return F.resolve()}updateIndexEntries(e,n){return F.resolve()}},ZD=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new mt(rt.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mt(rt.comparator)).toArray()}};var ffe=new Uint8Array(0);var gF={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},TL=41943040,Cn=class t{static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}};Cn.DEFAULT_COLLECTION_PERCENTILE=10,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Cn.DEFAULT=new Cn(TL,Cn.DEFAULT_COLLECTION_PERCENTILE,Cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Cn.DISABLED=new Cn(-1,0,0);var Hu=class t{constructor(e){this.$n=e}next(){return this.$n+=2,this.$n}static Kn(){return new t(0)}static Un(){return new t(-1)}};var mF="LruGarbageCollector",kY=1048576;function yF([t,e],[n,r]){let i=we(t,n);return i===0?we(e,r):i}var JD=class{constructor(e){this.Hn=e,this.buffer=new mt(yF),this.Jn=0}Yn(){return++this.Jn}Zn(e){let n=[e,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(n);else{let r=this.buffer.last();yF(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}},XD=class{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(e){H(mF,`Garbage collection scheduled in ${e}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,()=>E(this,null,function*(){this.Xn=null;try{yield this.localStore.collectGarbage(this.garbageCollector)}catch(n){ll(n)?H(mF,"Ignoring IndexedDB error during garbage collection: ",n):yield al(n)}yield this.er(3e5)}))}},eT=class{constructor(e,n){this.tr=e,this.params=n}calculateTargetCount(e,n){return this.tr.nr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return F.resolve(eC.ae);let r=new JD(n);return this.tr.forEachTarget(e,i=>r.Zn(i.sequenceNumber)).next(()=>this.tr.rr(e,i=>r.Zn(i))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.tr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.tr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(H("LruGarbageCollector","Garbage collection skipped; disabled"),F.resolve(gF)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(H("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),gF):this.ir(e,n))}getCacheSize(e){return this.tr.getCacheSize(e)}ir(e,n){let r,i,s,o,a,l,u,d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(h=>(h>this.params.maximumSequenceNumbersToCollect?(H("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,o=Date.now(),this.nthSequenceNumber(e,i))).next(h=>(r=h,a=Date.now(),this.removeTargets(e,r,n))).next(h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(h=>(u=Date.now(),ja()<=ye.DEBUG&&H("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-d}ms
	Determined least recently used ${i} in `+(a-o)+`ms
	Removed ${s} targets in `+(l-a)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),F.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h})))}};function PY(t,e){return new eT(t,e)}var tT=class{constructor(){this.changes=new oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,zn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?F.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var nT=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var rT=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Ou(r.mutation,i,Sn.empty(),Tt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,_e()).next(()=>r))}getLocalViewOfDocuments(e,n,r=_e()){let i=no();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=Nu();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=no();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,_e()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=ai(),o=Pu(),a=function(){return Pu()}();return n.forEach((l,u)=>{let d=r.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof wr)?s=s.insert(u.key,u):d!==void 0?(o.set(u.key,d.mutation.getFieldMask()),Ou(d.mutation,u,d.mutation.getFieldMask(),Tt.now())):o.set(u.key,Sn.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,d)=>o.set(u,d)),n.forEach((u,d)=>{var h;return a.set(u,new nT(d,(h=o.get(u))!==null&&h!==void 0?h:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Pu(),i=new We((o,a)=>o-a),s=_e();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(l=>{let u=n.get(l);if(u===null)return;let d=r.get(l)||Sn.empty();d=a.applyToLocalView(u,d),r.set(l,d);let h=(i.get(a.batchId)||_e()).add(l);i=i.insert(a.batchId,h)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let l=a.getNext(),u=l.key,d=l.value,h=cL();d.forEach(m=>{if(!s.has(m)){let p=gL(n.get(m),r.get(m));p!==null&&h.set(m,p),s=s.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,h))}return F.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):J7(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):F.resolve(no()),a=Fu,l=s;return o.next(u=>F.forEach(u,(d,h)=>(a<h.largestBatchId&&(a=h.largestBatchId),s.get(d)?F.resolve():this.remoteDocumentCache.getEntry(e,d).next(m=>{l=l.insert(d,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,_e())).next(d=>({batchId:a,changes:lL(d)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=Nu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=Nu();return this.indexManager.getCollectionParents(e,s).next(a=>F.forEach(a,l=>{let u=function(h,m){return new Ja(m,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)}(n,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((h,m)=>{o=o.insert(h,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((l,u)=>{let d=u.getKey();o.get(d)===null&&(o=o.insert(d,zn.newInvalidDocument(d)))});let a=Nu();return o.forEach((l,u)=>{let d=s.get(l);d!==void 0&&Ou(d.mutation,u,Sn.empty(),Tt.now()),ym(n,u)&&(a=a.insert(l,u))}),a})}};var iT=class{constructor(e){this.serializer=e,this.dr=new Map,this.Ar=new Map}getBundleMetadata(e,n){return F.resolve(this.dr.get(n))}saveBundleMetadata(e,n){return this.dr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:vr(i.createTime)}}(n)),F.resolve()}getNamedQuery(e,n){return F.resolve(this.Ar.get(n))}saveNamedQuery(e,n){return this.Ar.set(n.name,function(i){return{name:i.name,query:xY(i.bundledQuery),readTime:vr(i.readTime)}}(n)),F.resolve()}};var sT=class{constructor(){this.overlays=new We(Z.comparator),this.Rr=new Map}getOverlay(e,n){return F.resolve(this.overlays.get(n))}getOverlays(e,n){let r=no();return F.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.Et(e,n,s)}),F.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Rr.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Rr.delete(r)),F.resolve()}getOverlaysForCollection(e,n,r){let i=no(),s=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return F.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new We((u,d)=>u-d),o=this.overlays.getIterator();for(;o.hasNext();){let u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let d=s.get(u.largestBatchId);d===null&&(d=no(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}let a=no(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return F.resolve(a)}Et(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Rr.get(i.largestBatchId).delete(r.key);this.Rr.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new UD(n,r));let s=this.Rr.get(n);s===void 0&&(s=_e(),this.Rr.set(n,s)),this.Rr.set(n,s.add(r.key))}};var oT=class{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return F.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,F.resolve()}};var $u=class{constructor(){this.Vr=new mt(nt.mr),this.gr=new mt(nt.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(e,n){let r=new nt(e,n);this.Vr=this.Vr.add(r),this.gr=this.gr.add(r)}yr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.wr(new nt(e,n))}Sr(e,n){e.forEach(r=>this.removeReference(r,n))}br(e){let n=new Z(new rt([])),r=new nt(n,e),i=new nt(n,e+1),s=[];return this.gr.forEachInRange([r,i],o=>{this.wr(o),s.push(o.key)}),s}Dr(){this.Vr.forEach(e=>this.wr(e))}wr(e){this.Vr=this.Vr.delete(e),this.gr=this.gr.delete(e)}vr(e){let n=new Z(new rt([])),r=new nt(n,e),i=new nt(n,e+1),s=_e();return this.gr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new nt(e,0),r=this.Vr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},nt=class{constructor(e,n){this.key=e,this.Cr=n}static mr(e,n){return Z.comparator(e.key,n.key)||we(e.Cr,n.Cr)}static pr(e,n){return we(e.Cr,n.Cr)||Z.comparator(e.key,n.key)}};var aT=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Fr=1,this.Mr=new mt(nt.mr)}checkEmpty(e){return F.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new VD(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.Mr=this.Mr.add(new nt(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return F.resolve(o)}lookupMutationBatch(e,n){return F.resolve(this.Or(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.Nr(r),s=i<0?0:i;return F.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return F.resolve(this.mutationQueue.length===0?tC:this.Fr-1)}getAllMutationBatches(e){return F.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new nt(n,0),i=new nt(n,Number.POSITIVE_INFINITY),s=[];return this.Mr.forEachInRange([r,i],o=>{let a=this.Or(o.Cr);s.push(a)}),F.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new mt(we);return n.forEach(i=>{let s=new nt(i,0),o=new nt(i,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([s,o],a=>{r=r.add(a.Cr)})}),F.resolve(this.Br(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;Z.isDocumentKey(s)||(s=s.child(""));let o=new nt(new Z(s),0),a=new mt(we);return this.Mr.forEachWhile(l=>{let u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.Cr)),!0)},o),F.resolve(this.Br(a))}Br(e){let n=[];return e.forEach(r=>{let i=this.Or(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Ne(this.Lr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Mr;return F.forEach(n.mutations,i=>{let s=new nt(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Mr=r})}qn(e){}containsKey(e,n){let r=new nt(n,0),i=this.Mr.firstAfterOrEqual(r);return F.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,F.resolve()}Lr(e,n){return this.Nr(e)}Nr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Or(e){let n=this.Nr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var lT=class{constructor(e){this.kr=e,this.docs=function(){return new We(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.kr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return F.resolve(r?r.document.mutableCopy():zn.newInvalidDocument(n))}getEntries(e,n){let r=ai();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():zn.newInvalidDocument(i))}),F.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=ai(),o=n.path,a=new Z(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){let{key:u,value:{document:d}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||x7(N7(d),r)<=0||(i.has(d.key)||ym(n,d))&&(s=s.insert(d.key,d.mutableCopy()))}return F.resolve(s)}getAllFromCollectionGroup(e,n,r,i){ee()}qr(e,n){return F.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new cT(this)}getSize(e){return F.resolve(this.size)}},cT=class extends tT{constructor(e){super(),this.Ir=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.Ir.addEntry(e,i)):this.Ir.removeEntry(r)}),F.waitFor(n)}getFromCache(e,n){return this.Ir.getEntry(e,n)}getAllFromCache(e,n){return this.Ir.getEntries(e,n)}};var uT=class{constructor(e){this.persistence=e,this.Qr=new oi(n=>oC(n),aC),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.$r=0,this.Kr=new $u,this.targetCount=0,this.Ur=Hu.Kn()}forEachTarget(e,n){return this.Qr.forEach((r,i)=>n(i)),F.resolve()}getLastRemoteSnapshotVersion(e){return F.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return F.resolve(this.$r)}allocateTargetId(e){return this.highestTargetId=this.Ur.next(),F.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.$r&&(this.$r=n),F.resolve()}zn(e){this.Qr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.Ur=new Hu(n),this.highestTargetId=n),e.sequenceNumber>this.$r&&(this.$r=e.sequenceNumber)}addTargetData(e,n){return this.zn(n),this.targetCount+=1,F.resolve()}updateTargetData(e,n){return this.zn(n),F.resolve()}removeTargetData(e,n){return this.Qr.delete(n.target),this.Kr.br(n.targetId),this.targetCount-=1,F.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Qr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Qr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),F.waitFor(s).next(()=>i)}getTargetCount(e){return F.resolve(this.targetCount)}getTargetData(e,n){let r=this.Qr.get(n)||null;return F.resolve(r)}addMatchingKeys(e,n,r){return this.Kr.yr(n,r),F.resolve()}removeMatchingKeys(e,n,r){this.Kr.Sr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),F.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Kr.br(n),F.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Kr.vr(n);return F.resolve(r)}containsKey(e,n){return F.resolve(this.Kr.containsKey(n))}};var Yg=class{constructor(e,n){this.Wr={},this.overlays={},this.Gr=new eC(0),this.zr=!1,this.zr=!0,this.jr=new oT,this.referenceDelegate=e(this),this.Hr=new uT(this),this.indexManager=new YD,this.remoteDocumentCache=function(i){return new lT(i)}(r=>this.referenceDelegate.Jr(r)),this.serializer=new QD(n),this.Yr=new iT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new sT,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Wr[e.toKey()];return r||(r=new aT(n,this.referenceDelegate),this.Wr[e.toKey()]=r),r}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(e,n,r){H("MemoryPersistence","Starting transaction:",e);let i=new dT(this.Gr.next());return this.referenceDelegate.Zr(),r(i).next(s=>this.referenceDelegate.Xr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}ei(e,n){return F.or(Object.values(this.Wr).map(r=>()=>r.containsKey(e,n)))}},dT=class extends wD{constructor(e){super(),this.currentSequenceNumber=e}},fT=class t{constructor(e){this.persistence=e,this.ti=new $u,this.ni=null}static ri(e){return new t(e)}get ii(){if(this.ni)return this.ni;throw ee()}addReference(e,n,r){return this.ti.addReference(r,n),this.ii.delete(r.toString()),F.resolve()}removeReference(e,n,r){return this.ti.removeReference(r,n),this.ii.add(r.toString()),F.resolve()}markPotentiallyOrphaned(e,n){return this.ii.add(n.toString()),F.resolve()}removeTarget(e,n){this.ti.br(n.targetId).forEach(i=>this.ii.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.ii.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}Zr(){this.ni=new Set}Xr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return F.forEach(this.ii,r=>{let i=Z.fromPath(r);return this.si(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.ni=null,n.apply(e)))}updateLimboDocument(e,n){return this.si(e,n).next(r=>{r?this.ii.delete(n.toString()):this.ii.add(n.toString())})}Jr(e){return 0}si(e,n){return F.or([()=>F.resolve(this.ti.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.ei(e,n)])}},Zg=class t{constructor(e,n){this.persistence=e,this.oi=new oi(r=>F7(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=PY(this,n)}static ri(e,n){return new t(e,n)}Zr(){}Xr(e){return F.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}nr(e){let n=this.sr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(i=>r+i))}sr(e){let n=0;return this.rr(e,r=>{n++}).next(()=>n)}rr(e,n){return F.forEach(this.oi,(r,i)=>this.ar(e,r,i).next(s=>s?F.resolve():n(i)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0,i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.qr(e,o=>this.ar(e,o,n).next(a=>{a||(r++,s.removeEntry(o,ae.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.oi.set(n,e.currentSequenceNumber),F.resolve()}removeTarget(e,n){let r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),F.resolve()}removeReference(e,n,r){return this.oi.set(r,e.currentSequenceNumber),F.resolve()}updateLimboDocument(e,n){return this.oi.set(n,e.currentSequenceNumber),F.resolve()}Jr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Ng(e.data.value)),n}ar(e,n,r){return F.or([()=>this.persistence.ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{let i=this.oi.get(n);return F.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}};var hT=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Hi=r,this.Ji=i}static Yi(e,n){let r=_e(),i=_e();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var pT=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var gT=class{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return gO()?8:P7(pt())>0?6:4}()}initialize(e,n){this.ns=e,this.indexManager=n,this.Zi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.rs(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.ss(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new pT;return this._s(e,n,o).next(a=>{if(s.result=a,this.Xi)return this.us(e,n,o,a.size)})}).next(()=>s.result)}us(e,n,r,i){return r.documentReadCount<this.es?(ja()<=ye.DEBUG&&H("QueryEngine","SDK will not create cache indexes for query:",Ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),F.resolve()):(ja()<=ye.DEBUG&&H("QueryEngine","Query:",Ua(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ts*i?(ja()<=ye.DEBUG&&H("QueryEngine","The SDK decides to create cache indexes for query:",Ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,yr(n))):F.resolve())}rs(e,n){if(sF(n))return F.resolve(null);let r=yr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=OD(n,null,"F"),r=yr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=_e(...s);return this.ns.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{let u=this.cs(n,a);return this.ls(n,u,o,l.readTime)?this.rs(e,OD(n,null,"F")):this.hs(e,u,n,l)}))})))}ss(e,n,r,i){return sF(n)||i.isEqual(ae.min())?F.resolve(null):this.ns.getDocuments(e,r).next(s=>{let o=this.cs(n,s);return this.ls(n,o,r,i)?F.resolve(null):(ja()<=ye.DEBUG&&H("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ua(n)),this.hs(e,o,n,M7(i,Fu)).next(a=>a))})}cs(e,n){let r=new mt(oL(e));return n.forEach((i,s)=>{ym(e,s)&&(r=r.add(s))}),r}ls(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}_s(e,n,r){return ja()<=ye.DEBUG&&H("QueryEngine","Using full collection scan to execute query:",Ua(n)),this.ns.getDocumentsMatchingQuery(e,n,so.min(),r)}hs(e,n,r,i){return this.ns.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var dC="LocalStore",OY=3e8,mT=class{constructor(e,n,r,i){this.persistence=e,this.Ps=n,this.serializer=i,this.Ts=new We(we),this.Is=new oi(s=>oC(s),aC),this.Es=new Map,this.ds=e.getRemoteDocumentCache(),this.Hr=e.getTargetCache(),this.Yr=e.getBundleCache(),this.As(r)}As(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rT(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ts))}};function FY(t,e,n,r){return new mT(t,e,n,r)}function CL(t,e){return E(this,null,function*(){let n=se(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.As(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],l=_e();for(let u of i){o.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}for(let u of s){a.push(u.batchId);for(let d of u.mutations)l=l.add(d.key)}return n.localDocuments.getDocuments(r,l).next(u=>({Rs:u,removedBatchIds:o,addedBatchIds:a}))})})})}function LY(t,e){let n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.ds.newChangeBuffer({trackRemovals:!0});return function(a,l,u,d){let h=u.batch,m=h.keys(),p=F.resolve();return m.forEach(_=>{p=p.next(()=>d.getEntry(l,_)).next(I=>{let w=u.docVersions.get(_);Ne(w!==null),I.version.compareTo(w)<0&&(h.applyToRemoteDocument(I,u),I.isValidDocument()&&(I.setReadTime(u.commitVersion),d.addEntry(I)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,h))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=_e();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function SL(t){let e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Hr.getLastRemoteSnapshotVersion(n))}function VY(t,e){let n=se(t),r=e.snapshotVersion,i=n.Ts;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.ds.newChangeBuffer({trackRemovals:!0});i=n.Ts;let a=[];e.targetChanges.forEach((d,h)=>{let m=i.get(h);if(!m)return;a.push(n.Hr.removeMatchingKeys(s,d.removedDocuments,h).next(()=>n.Hr.addMatchingKeys(s,d.addedDocuments,h)));let p=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?p=p.withResumeToken(Ft.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):d.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(d.resumeToken,r)),i=i.insert(h,p),function(I,w,R){return I.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=OY?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(m,p,d)&&a.push(n.Hr.updateTargetData(s,p))});let l=ai(),u=_e();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(jY(s,o,e.documentUpdates).next(d=>{l=d.Vs,u=d.fs})),!r.isEqual(ae.min())){let d=n.Hr.getLastRemoteSnapshotVersion(s).next(h=>n.Hr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return F.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ts=i,s))}function jY(t,e,n){let r=_e(),i=_e();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=ai();return n.forEach((a,l)=>{let u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(ae.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):H(dC,"Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Vs:o,fs:i}})}function UY(t,e){let n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=tC),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function BY(t,e){let n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Hr.getTargetData(r,e).next(s=>s?(i=s,F.resolve(i)):n.Hr.allocateTargetId(r).next(o=>(i=new Bu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Hr.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.Ts.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ts=n.Ts.insert(r.targetId,r),n.Is.set(e,r.targetId)),r})}function yT(t,e,n){return E(this,null,function*(){let r=se(t),i=r.Ts.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!ll(o))throw o;H(dC,`Failed to update sequence numbers for target ${e}: ${o}`)}r.Ts=r.Ts.remove(e),r.Is.delete(i.target)})}function vF(t,e,n){let r=se(t),i=ae.min(),s=_e();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,u,d){let h=se(l),m=h.Is.get(d);return m!==void 0?F.resolve(h.Ts.get(m)):h.Hr.getTargetData(u,d)}(r,o,yr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Hr.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Ps.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:_e())).next(a=>(HY(r,eY(e),a),{documents:a,gs:s})))}function HY(t,e,n){let r=t.Es.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.Es.set(e,r)}var Jg=class{constructor(){this.activeTargetIds=oY()}Ds(e){this.activeTargetIds=this.activeTargetIds.add(e)}vs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}bs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var vT=class{constructor(){this.ho=new Jg,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.ho.Ds(e),this.Po[e]||"not-current"}updateQueryState(e,n,r){this.Po[e]=n}removeLocalQueryTarget(e){this.ho.vs(e)}isLocalQueryTarget(e){return this.ho.activeTargetIds.has(e)}clearQueryState(e){delete this.Po[e]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(e){return this.ho.activeTargetIds.has(e)}start(){return this.ho=new Jg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var _T=class{To(e){}shutdown(){}};var _F="ConnectivityMonitor",Xg=class{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(e){this.Vo.push(e)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){H(_F,"Network connectivity changed: AVAILABLE");for(let e of this.Vo)e(0)}Ro(){H(_F,"Network connectivity changed: UNAVAILABLE");for(let e of this.Vo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Mg=null;function ET(){return Mg===null?Mg=function(){return 268435456+Math.round(2147483648*Math.random())}():Mg++,"0x"+Mg.toString(16)}var dD="RestConnection",$Y={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},wT=class{get fo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;let n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.po=n+"://"+e.host,this.yo=`projects/${r}/databases/${i}`,this.wo=this.databaseId.database===Ug?`project_id=${r}`:`project_id=${r}&database_id=${i}`}So(e,n,r,i,s){let o=ET(),a=this.bo(e,n.toUriEncodedString());H(dD,`Sending RPC '${e}' ${o}:`,a,r);let l={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(l,i,s),this.vo(e,a,l,r).then(u=>(H(dD,`Received RPC '${e}' ${o}: `,u),u),u=>{throw qa(dD,`RPC '${e}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}Co(e,n,r,i,s,o){return this.So(e,n,r,i,s)}Do(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ol}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>e[s]=i),r&&r.headers.forEach((i,s)=>e[s]=i)}bo(e,n){let r=$Y[e];return`${this.po}/v1/${n}:${r}`}terminate(){}};var IT=class{constructor(e){this.Fo=e.Fo,this.Mo=e.Mo}xo(e){this.Oo=e}No(e){this.Bo=e}Lo(e){this.ko=e}onMessage(e){this.qo=e}close(){this.Mo()}send(e){this.Fo(e)}Qo(){this.Oo()}$o(){this.Bo()}Ko(e){this.ko(e)}Uo(e){this.qo(e)}};var Ot="WebChannelConnection",bT=class extends wT{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}vo(e,n,r,i){let s=ET();return new Promise((o,a)=>{let l=new sD;l.setWithCredentials(!0),l.listenOnce(oD.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case Mu.NO_ERROR:let d=l.getResponseJson();H(Ot,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Mu.TIMEOUT:H(Ot,`RPC '${e}' ${s} timed out`),a(new K(L.DEADLINE_EXCEEDED,"Request time out"));break;case Mu.HTTP_ERROR:let h=l.getStatus();if(H(Ot,`RPC '${e}' ${s} failed with status:`,h,"response text:",l.getResponseText()),h>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);let p=m?.error;if(p&&p.status&&p.message){let _=function(w){let R=w.toLowerCase().replace(/_/g,"-");return Object.values(L).indexOf(R)>=0?R:L.UNKNOWN}(p.status);a(new K(_,p.message))}else a(new K(L.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new K(L.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{H(Ot,`RPC '${e}' ${s} completed.`)}});let u=JSON.stringify(i);H(Ot,`RPC '${e}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Wo(e,n,r){let i=ET(),s=[this.po,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=cD(),a=lD(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;let d=s.join("");H(Ot,`Creating RPC '${e}' stream ${i}: ${d}`,l);let h=o.createWebChannel(d,l),m=!1,p=!1,_=new IT({Fo:w=>{p?H(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(m||(H(Ot,`Opening RPC '${e}' stream ${i} transport.`),h.open(),m=!0),H(Ot,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},Mo:()=>h.close()}),I=(w,R,P)=>{w.listen(R,O=>{try{P(O)}catch(B){setTimeout(()=>{throw B},0)}})};return I(h,Va.EventType.OPEN,()=>{p||(H(Ot,`RPC '${e}' stream ${i} transport opened.`),_.Qo())}),I(h,Va.EventType.CLOSE,()=>{p||(p=!0,H(Ot,`RPC '${e}' stream ${i} transport closed`),_.Ko())}),I(h,Va.EventType.ERROR,w=>{p||(p=!0,qa(Ot,`RPC '${e}' stream ${i} transport errored:`,w),_.Ko(new K(L.UNAVAILABLE,"The operation could not be completed")))}),I(h,Va.EventType.MESSAGE,w=>{var R;if(!p){let P=w.data[0];Ne(!!P);let O=P,B=O?.error||((R=O[0])===null||R===void 0?void 0:R.error);if(B){H(Ot,`RPC '${e}' stream ${i} received error:`,B);let me=B.status,W=function(b){let C=tt[b];if(C!==void 0)return yL(C)}(me),T=B.message;W===void 0&&(W=L.INTERNAL,T="Unknown error status: "+me+" with message "+B.message),p=!0,_.Ko(new K(W,T)),h.close()}else H(Ot,`RPC '${e}' stream ${i} received:`,P),_.Uo(P)}}),I(a,aD.STAT_EVENT,w=>{w.stat===Sg.PROXY?H(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===Sg.NOPROXY&&H(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{_.$o()},0),_}};function fD(){return typeof document<"u"?document:null}function vm(t){return new zD(t,!0)}var em=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.Ti=e,this.timerId=n,this.Go=r,this.zo=i,this.jo=s,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(e){this.cancel();let n=Math.floor(this.Ho+this.e_()),r=Math.max(0,Date.now()-this.Yo),i=Math.max(0,n-r);i>0&&H("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ho} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,i,()=>(this.Yo=Date.now(),e())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}};var EF="PersistentStream",tm=class{constructor(e,n,r,i,s,o,a,l){this.Ti=e,this.n_=r,this.r_=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new em(e,n)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}stop(){return E(this,null,function*(){this.u_()&&(yield this.close(0))})}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(e){this.E_(),this.stream.send(e)}T_(){return E(this,null,function*(){if(this.c_())return this.close(0)})}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}close(e,n){return E(this,null,function*(){this.E_(),this.d_(),this.a_.cancel(),this.i_++,e!==4?this.a_.reset():n&&n.code===L.RESOURCE_EXHAUSTED?(ri(n.toString()),ri("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):n&&n.code===L.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.Lo(n)})}A_(){}auth(){this.state=1;let e=this.R_(this.i_),n=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.i_===n&&this.V_(r,i)},r=>{e(()=>{let i=new K(L.UNKNOWN,"Fetching auth token failed: "+r.message);return this.m_(i)})})}V_(e,n){let r=this.R_(this.i_);this.stream=this.f_(e,n),this.stream.xo(()=>{r(()=>this.listener.xo())}),this.stream.No(()=>{r(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(i=>{r(()=>this.m_(i))}),this.stream.onMessage(i=>{r(()=>++this.__==1?this.g_(i):this.onNext(i))})}l_(){this.state=5,this.a_.Xo(()=>E(this,null,function*(){this.state=0,this.start()}))}m_(e){return H(EF,`close with error: ${e}`),this.stream=null,this.close(4,e)}R_(e){return n=>{this.Ti.enqueueAndForget(()=>this.i_===e?n():(H(EF,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},DT=class extends tm{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}f_(e,n){return this.connection.Wo("Listen",e,n)}g_(e){return this.onNext(e)}onNext(e){this.a_.reset();let n=wY(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?vr(o.readTime):ae.min()}(e);return this.listener.p_(n,r)}y_(e){let n={};n.database=KD(this.serializer),n.addTarget=function(s,o){let a,l=o.target;if(a=PD(l)?{documents:DY(s,l)}:{query:TY(s,l).ht},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=vL(s,o.resumeToken);let u=qD(s,o.expectedCount);u!==null&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=Kg(s,o.snapshotVersion.toTimestamp());let u=qD(s,o.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);let r=SY(this.serializer,e);r&&(n.labels=r),this.I_(n)}w_(e){let n={};n.database=KD(this.serializer),n.removeTarget=e,this.I_(n)}},TT=class extends tm{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get S_(){return this.__>0}start(){this.lastStreamToken=void 0,super.start()}A_(){this.S_&&this.b_([])}f_(e,n){return this.connection.Wo("Write",e,n)}g_(e){return Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,Ne(!e.writeResults||e.writeResults.length===0),this.listener.D_()}onNext(e){Ne(!!e.streamToken),this.lastStreamToken=e.streamToken,this.a_.reset();let n=bY(e.writeResults,e.commitTime),r=vr(e.commitTime);return this.listener.v_(r,n)}C_(){let e={};e.database=KD(this.serializer),this.I_(e)}b_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>IY(this.serializer,r))};this.I_(n)}};var CT=class{},ST=class extends CT{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.F_=!1}M_(){if(this.F_)throw new K(L.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,i){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.So(e,WD(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new K(L.UNKNOWN,s.toString())})}Co(e,n,r,i,s){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Co(e,WD(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===L.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new K(L.UNKNOWN,o.toString())})}terminate(){this.F_=!0,this.connection.terminate()}},AT=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(e){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.L_("Offline")))}set(e){this.Q_(),this.x_=0,e==="Online"&&(this.N_=!1),this.L_(e)}L_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}k_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(ri(n),this.N_=!1):H("OnlineStateTracker",n)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}};var co="RemoteStore",RT=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.K_=[],this.U_=new Map,this.W_=new Set,this.G_=[],this.z_=s,this.z_.To(o=>{r.enqueueAndForget(()=>E(this,null,function*(){fo(this)&&(H(co,"Restarting streams for network reachability change."),yield function(l){return E(this,null,function*(){let u=se(l);u.W_.add(4),yield Yu(u),u.j_.set("Unknown"),u.W_.delete(4),yield _m(u)})}(this))}))}),this.j_=new AT(r,i)}};function _m(t){return E(this,null,function*(){if(fo(t))for(let e of t.G_)yield e(!0)})}function Yu(t){return E(this,null,function*(){for(let e of t.G_)yield e(!1)})}function AL(t,e){let n=se(t);n.U_.has(e.targetId)||(n.U_.set(e.targetId,e),gC(n)?pC(n):cl(n).c_()&&hC(n,e))}function fC(t,e){let n=se(t),r=cl(n);n.U_.delete(e),r.c_()&&RL(n,e),n.U_.size===0&&(r.c_()?r.P_():fo(n)&&n.j_.set("Unknown"))}function hC(t,e){if(t.H_.Ne(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}cl(t).y_(e)}function RL(t,e){t.H_.Ne(e),cl(t).w_(e)}function pC(t){t.H_=new $D({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),lt:e=>t.U_.get(e)||null,it:()=>t.datastore.serializer.databaseId}),cl(t).start(),t.j_.B_()}function gC(t){return fo(t)&&!cl(t).u_()&&t.U_.size>0}function fo(t){return se(t).W_.size===0}function ML(t){t.H_=void 0}function zY(t){return E(this,null,function*(){t.j_.set("Online")})}function qY(t){return E(this,null,function*(){t.U_.forEach((e,n)=>{hC(t,e)})})}function WY(t,e){return E(this,null,function*(){ML(t),gC(t)?(t.j_.q_(e),pC(t)):t.j_.set("Unknown")})}function GY(t,e,n){return E(this,null,function*(){if(t.j_.set("Online"),e instanceof Wg&&e.state===2&&e.cause)try{yield function(i,s){return E(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.U_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.U_.delete(a),i.H_.removeTarget(a))})}(t,e)}catch(r){H(co,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield nm(t,r)}else if(e instanceof za?t.H_.We(e):e instanceof qg?t.H_.Ze(e):t.H_.je(e),!n.isEqual(ae.min()))try{let r=yield SL(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.H_.ot(o);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){let d=s.U_.get(u);d&&s.U_.set(u,d.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,u)=>{let d=s.U_.get(l);if(!d)return;s.U_.set(l,d.withResumeToken(Ft.EMPTY_BYTE_STRING,d.snapshotVersion)),RL(s,l);let h=new Bu(d.target,l,u,d.sequenceNumber);hC(s,h)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){H(co,"Failed to raise snapshot:",r),yield nm(t,r)}})}function nm(t,e,n){return E(this,null,function*(){if(!ll(e))throw e;t.W_.add(1),yield Yu(t),t.j_.set("Offline"),n||(n=()=>SL(t.localStore)),t.asyncQueue.enqueueRetryable(()=>E(this,null,function*(){H(co,"Retrying IndexedDB access"),yield n(),t.W_.delete(1),yield _m(t)}))})}function NL(t,e){return e().catch(n=>nm(t,n,e))}function Em(t){return E(this,null,function*(){let e=se(t),n=Qi(e),r=e.K_.length>0?e.K_[e.K_.length-1].batchId:tC;for(;KY(e);)try{let i=yield UY(e.localStore,r);if(i===null){e.K_.length===0&&n.P_();break}r=i.batchId,QY(e,i)}catch(i){yield nm(e,i)}xL(e)&&kL(e)})}function KY(t){return fo(t)&&t.K_.length<10}function QY(t,e){t.K_.push(e);let n=Qi(t);n.c_()&&n.S_&&n.b_(e.mutations)}function xL(t){return fo(t)&&!Qi(t).u_()&&t.K_.length>0}function kL(t){Qi(t).start()}function YY(t){return E(this,null,function*(){Qi(t).C_()})}function ZY(t){return E(this,null,function*(){let e=Qi(t);for(let n of t.K_)e.b_(n.mutations)})}function JY(t,e,n){return E(this,null,function*(){let r=t.K_.shift(),i=jD.from(r,e,n);yield NL(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Em(t)})}function XY(t,e){return E(this,null,function*(){e&&Qi(t).S_&&(yield function(r,i){return E(this,null,function*(){if(function(o){return hY(o)&&o!==L.ABORTED}(i.code)){let s=r.K_.shift();Qi(r).h_(),yield NL(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Em(r)}})}(t,e)),xL(t)&&kL(t)})}function wF(t,e){return E(this,null,function*(){let n=se(t);n.asyncQueue.verifyOperationInProgress(),H(co,"RemoteStore received new credentials");let r=fo(n);n.W_.add(3),yield Yu(n),r&&n.j_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.W_.delete(3),yield _m(n)})}function eZ(t,e){return E(this,null,function*(){let n=se(t);e?(n.W_.delete(2),yield _m(n)):e||(n.W_.add(2),yield Yu(n),n.j_.set("Unknown"))})}function cl(t){return t.J_||(t.J_=function(n,r,i){let s=se(n);return s.M_(),new DT(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:zY.bind(null,t),No:qY.bind(null,t),Lo:WY.bind(null,t),p_:GY.bind(null,t)}),t.G_.push(e=>E(this,null,function*(){e?(t.J_.h_(),gC(t)?pC(t):t.j_.set("Unknown")):(yield t.J_.stop(),ML(t))}))),t.J_}function Qi(t){return t.Y_||(t.Y_=function(n,r,i){let s=se(n);return s.M_(),new TT(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{xo:()=>Promise.resolve(),No:YY.bind(null,t),Lo:XY.bind(null,t),D_:ZY.bind(null,t),v_:JY.bind(null,t)}),t.G_.push(e=>E(this,null,function*(){e?(t.Y_.h_(),yield Em(t)):(yield t.Y_.stop(),t.K_.length>0&&(H(co,`Stopping write stream with ${t.K_.length} pending writes`),t.K_=[]))}))),t.Y_}var MT=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new gr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new K(L.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function mC(t,e){if(ri("AsyncQueue",`${e}: ${t}`),ll(t))return new K(L.UNAVAILABLE,`${e}: ${t}`);throw t}var rm=class t{static emptySet(e){return new t(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=Nu(),this.sortedSet=new We(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var im=class{constructor(){this.Z_=new We(Z.comparator)}track(e){let n=e.doc.key,r=this.Z_.get(n);r?e.type!==0&&r.type===3?this.Z_=this.Z_.insert(n,e):e.type===3&&r.type!==1?this.Z_=this.Z_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.Z_=this.Z_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.Z_=this.Z_.remove(n):e.type===1&&r.type===2?this.Z_=this.Z_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.Z_=this.Z_.insert(n,{type:2,doc:e.doc}):ee():this.Z_=this.Z_.insert(n,e)}X_(){let e=[];return this.Z_.inorderTraversal((n,r)=>{e.push(r)}),e}},rl=class t{constructor(e,n,r,i,s,o,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,rm.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&mm(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var NT=class{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(e=>e.ra())}},xT=class{constructor(){this.queries=IF(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(n,r){let i=se(n),s=i.queries;i.queries=IF(),s.forEach((o,a)=>{for(let l of a.ta)l.onError(r)})})(this,new K(L.ABORTED,"Firestore shutting down"))}};function IF(){return new oi(t=>sL(t),mm)}function tZ(t,e){return E(this,null,function*(){let n=se(t),r=3,i=e.query,s=n.queries.get(i);s?!s.na()&&e.ra()&&(r=2):(s=new NT,r=e.ra()?0:1);try{switch(r){case 0:s.ea=yield n.onListen(i,!0);break;case 1:s.ea=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=mC(o,`Initialization of query '${Ua(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.ta.push(e),e.sa(n.onlineState),s.ea&&e.oa(s.ea)&&yC(n)})}function nZ(t,e){return E(this,null,function*(){let n=se(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.ta.indexOf(e);o>=0&&(s.ta.splice(o,1),s.ta.length===0?i=e.ra()?0:1:!s.na()&&e.ra()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function rZ(t,e){let n=se(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.ta)a.oa(i)&&(r=!0);o.ea=i}}r&&yC(n)}function iZ(t,e,n){let r=se(t),i=r.queries.get(e);if(i)for(let s of i.ta)s.onError(n);r.queries.delete(e)}function yC(t){t.ia.forEach(e=>{e.next()})}var kT,bF;(bF=kT||(kT={}))._a="default",bF.Cache="cache";var PT=class{constructor(e,n,r){this.query=e,this.aa=n,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=r||{}}oa(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new rl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ua?this.la(e)&&(this.aa.next(e),n=!0):this.ha(e,this.onlineState)&&(this.Pa(e),n=!0),this.ca=e,n}onError(e){this.aa.error(e)}sa(e){this.onlineState=e;let n=!1;return this.ca&&!this.ua&&this.ha(this.ca,e)&&(this.Pa(this.ca),n=!0),n}ha(e,n){if(!e.fromCache||!this.ra())return!0;let r=n!=="Offline";return(!this.options.Ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}la(e){if(e.docChanges.length>0)return!0;let n=this.ca&&this.ca.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Pa(e){e=rl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ua=!0,this.aa.next(e)}ra(){return this.options.source!==kT.Cache}};var sm=class{constructor(e){this.key=e}},om=class{constructor(e){this.key=e}},OT=class{constructor(e,n){this.query=e,this.fa=n,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=_e(),this.mutatedKeys=_e(),this.ya=oL(e),this.wa=new rm(this.ya)}get Sa(){return this.fa}ba(e,n){let r=n?n.Da:new im,i=n?n.wa:this.wa,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,h)=>{let m=i.get(d),p=ym(this.query,h)?h:null,_=!!m&&this.mutatedKeys.has(m.key),I=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations),w=!1;m&&p?m.data.isEqual(p.data)?_!==I&&(r.track({type:3,doc:p}),w=!0):this.va(m,p)||(r.track({type:2,doc:p}),w=!0,(l&&this.ya(p,l)>0||u&&this.ya(p,u)<0)&&(a=!0)):!m&&p?(r.track({type:0,doc:p}),w=!0):m&&!p&&(r.track({type:1,doc:m}),w=!0,(l||u)&&(a=!0)),w&&(p?(o=o.add(p),s=I?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let d=this.query.limitType==="F"?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{wa:o,Da:r,ls:a,mutatedKeys:s}}va(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.wa;this.wa=e.wa,this.mutatedKeys=e.mutatedKeys;let o=e.Da.X_();o.sort((d,h)=>function(p,_){let I=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return I(p)-I(_)}(d.type,h.type)||this.ya(d.doc,h.doc)),this.Ca(r),i=i!=null&&i;let a=n&&!i?this.Fa():[],l=this.pa.size===0&&this.current&&!i?1:0,u=l!==this.ga;return this.ga=l,o.length!==0||u?{snapshot:new rl(this.query,e.wa,s,o,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Ma:a}:{Ma:a}}sa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new im,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(e){return!this.fa.has(e)&&!!this.wa.has(e)&&!this.wa.get(e).hasLocalMutations}Ca(e){e&&(e.addedDocuments.forEach(n=>this.fa=this.fa.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.fa=this.fa.delete(n)),this.current=e.current)}Fa(){if(!this.current)return[];let e=this.pa;this.pa=_e(),this.wa.forEach(r=>{this.xa(r.key)&&(this.pa=this.pa.add(r.key))});let n=[];return e.forEach(r=>{this.pa.has(r)||n.push(new om(r))}),this.pa.forEach(r=>{e.has(r)||n.push(new sm(r))}),n}Oa(e){this.fa=e.gs,this.pa=_e();let n=this.ba(e.documents);return this.applyChanges(n,!0)}Na(){return rl.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}},vC="SyncEngine",FT=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},LT=class{constructor(e){this.key=e,this.Ba=!1}},VT=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.La={},this.ka=new oi(a=>sL(a),mm),this.qa=new Map,this.Qa=new Set,this.$a=new We(Z.comparator),this.Ka=new Map,this.Ua=new $u,this.Wa={},this.Ga=new Map,this.za=Hu.Un(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}};function sZ(t,e,n=!0){return E(this,null,function*(){let r=jL(t),i,s=r.ka.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Na()):i=yield PL(r,e,n,!0),i})}function oZ(t,e){return E(this,null,function*(){let n=jL(t);yield PL(n,e,!0,!1)})}function PL(t,e,n,r){return E(this,null,function*(){let i=yield BY(t.localStore,yr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield aZ(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&AL(t.remoteStore,i),a})}function aZ(t,e,n,r,i){return E(this,null,function*(){t.Ha=(h,m,p)=>function(I,w,R,P){return E(this,null,function*(){let O=w.view.ba(R);O.ls&&(O=yield vF(I.localStore,w.query,!1).then(({documents:T})=>w.view.ba(T,O)));let B=P&&P.targetChanges.get(w.targetId),me=P&&P.targetMismatches.get(w.targetId)!=null,W=w.view.applyChanges(O,I.isPrimaryClient,B,me);return TF(I,w.targetId,W.Ma),W.snapshot})}(t,h,m,p);let s=yield vF(t.localStore,e,!0),o=new OT(e,s.gs),a=o.ba(s.documents),l=Uu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),u=o.applyChanges(a,t.isPrimaryClient,l);TF(t,n,u.Ma);let d=new FT(e,n,o);return t.ka.set(e,d),t.qa.has(n)?t.qa.get(n).push(e):t.qa.set(n,[e]),u.snapshot})}function lZ(t,e,n){return E(this,null,function*(){let r=se(t),i=r.ka.get(e),s=r.qa.get(i.targetId);if(s.length>1)return r.qa.set(i.targetId,s.filter(o=>!mm(o,e))),void r.ka.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield yT(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&fC(r.remoteStore,i.targetId),jT(r,i.targetId)}).catch(al))):(jT(r,i.targetId),yield yT(r.localStore,i.targetId,!0))})}function cZ(t,e){return E(this,null,function*(){let n=se(t),r=n.ka.get(e),i=n.qa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),fC(n.remoteStore,r.targetId))})}function uZ(t,e,n){return E(this,null,function*(){let r=yZ(t);try{let i=yield function(o,a){let l=se(o),u=Tt.now(),d=a.reduce((p,_)=>p.add(_.key),_e()),h,m;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let _=ai(),I=_e();return l.ds.getEntries(p,d).next(w=>{_=w,_.forEach((R,P)=>{P.isValidDocument()||(I=I.add(R))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,_)).next(w=>{h=w;let R=[];for(let P of a){let O=fY(P,h.get(P.key).overlayedDocument);O!=null&&R.push(new wr(P.key,O,XF(O.value.mapValue),Gi.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,R,a)}).next(w=>{m=w;let R=w.applyToLocalDocumentSet(h,I);return l.documentOverlayCache.saveOverlays(p,w.batchId,R)})}).then(()=>({batchId:m.batchId,changes:lL(h)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,l){let u=o.Wa[o.currentUser.toKey()];u||(u=new We(we)),u=u.insert(a,l),o.Wa[o.currentUser.toKey()]=u}(r,i.batchId,n),yield Zu(r,i.changes),yield Em(r.remoteStore)}catch(i){let s=mC(i,"Failed to persist write");n.reject(s)}})}function OL(t,e){return E(this,null,function*(){let n=se(t);try{let r=yield VY(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Ka.get(s);o&&(Ne(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Ba=!0:i.modifiedDocuments.size>0?Ne(o.Ba):i.removedDocuments.size>0&&(Ne(o.Ba),o.Ba=!1))}),yield Zu(n,r,e)}catch(r){yield al(r)}})}function DF(t,e,n){let r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.ka.forEach((s,o)=>{let a=o.view.sa(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let l=se(o);l.onlineState=a;let u=!1;l.queries.forEach((d,h)=>{for(let m of h.ta)m.sa(a)&&(u=!0)}),u&&yC(l)}(r.eventManager,e),i.length&&r.La.p_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function dZ(t,e,n){return E(this,null,function*(){let r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Ka.get(e),s=i&&i.key;if(s){let o=new We(Z.comparator);o=o.insert(s,zn.newNoDocument(s,ae.min()));let a=_e().add(s),l=new zg(ae.min(),new Map,new We(we),o,a);yield OL(r,l),r.$a=r.$a.remove(s),r.Ka.delete(e),_C(r)}else yield yT(r.localStore,e,!1).then(()=>jT(r,e,n)).catch(al)})}function fZ(t,e){return E(this,null,function*(){let n=se(t),r=e.batch.batchId;try{let i=yield LY(n.localStore,e);LL(n,r,null),FL(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Zu(n,i)}catch(i){yield al(i)}})}function hZ(t,e,n){return E(this,null,function*(){let r=se(t);try{let i=yield function(o,a){let l=se(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return l.mutationQueue.lookupMutationBatch(u,a).next(h=>(Ne(h!==null),d=h.keys(),l.mutationQueue.removeMutationBatch(u,h))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>l.localDocuments.getDocuments(u,d))})}(r.localStore,e);LL(r,e,n),FL(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Zu(r,i)}catch(i){yield al(i)}})}function FL(t,e){(t.Ga.get(e)||[]).forEach(n=>{n.resolve()}),t.Ga.delete(e)}function LL(t,e,n){let r=se(t),i=r.Wa[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Wa[r.currentUser.toKey()]=i}}function jT(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.qa.get(e))t.ka.delete(r),n&&t.La.Ja(r,n);t.qa.delete(e),t.isPrimaryClient&&t.Ua.br(e).forEach(r=>{t.Ua.containsKey(r)||VL(t,r)})}function VL(t,e){t.Qa.delete(e.path.canonicalString());let n=t.$a.get(e);n!==null&&(fC(t.remoteStore,n),t.$a=t.$a.remove(e),t.Ka.delete(n),_C(t))}function TF(t,e,n){for(let r of n)r instanceof sm?(t.Ua.addReference(r.key,e),pZ(t,r)):r instanceof om?(H(vC,"Document no longer in limbo: "+r.key),t.Ua.removeReference(r.key,e),t.Ua.containsKey(r.key)||VL(t,r.key)):ee()}function pZ(t,e){let n=e.key,r=n.path.canonicalString();t.$a.get(n)||t.Qa.has(r)||(H(vC,"New document in limbo: "+n),t.Qa.add(r),_C(t))}function _C(t){for(;t.Qa.size>0&&t.$a.size<t.maxConcurrentLimboResolutions;){let e=t.Qa.values().next().value;t.Qa.delete(e);let n=new Z(rt.fromString(e)),r=t.za.next();t.Ka.set(r,new LT(n)),t.$a=t.$a.insert(n,r),AL(t.remoteStore,new Bu(yr(lC(n.path)),r,"TargetPurposeLimboResolution",eC.ae))}}function Zu(t,e,n){return E(this,null,function*(){let r=se(t),i=[],s=[],o=[];r.ka.isEmpty()||(r.ka.forEach((a,l)=>{o.push(r.Ha(l,e,n).then(u=>{var d;if((u||n)&&r.isPrimaryClient){let h=u?!u.fromCache:(d=n?.targetChanges.get(l.targetId))===null||d===void 0?void 0:d.current;r.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);let h=hT.Yi(l.targetId,u);s.push(h)}}))}),yield Promise.all(o),r.La.p_(i),yield function(l,u){return E(this,null,function*(){let d=se(l);try{yield d.persistence.runTransaction("notifyLocalViewChanges","readwrite",h=>F.forEach(u,m=>F.forEach(m.Hi,p=>d.persistence.referenceDelegate.addReference(h,m.targetId,p)).next(()=>F.forEach(m.Ji,p=>d.persistence.referenceDelegate.removeReference(h,m.targetId,p)))))}catch(h){if(!ll(h))throw h;H(dC,"Failed to update sequence numbers: "+h)}for(let h of u){let m=h.targetId;if(!h.fromCache){let p=d.Ts.get(m),_=p.snapshotVersion,I=p.withLastLimboFreeSnapshotVersion(_);d.Ts=d.Ts.insert(m,I)}}})}(r.localStore,s))})}function gZ(t,e){return E(this,null,function*(){let n=se(t);if(!n.currentUser.isEqual(e)){H(vC,"User change. New user:",e.toKey());let r=yield CL(n.localStore,e);n.currentUser=e,function(s,o){s.Ga.forEach(a=>{a.forEach(l=>{l.reject(new K(L.CANCELLED,o))})}),s.Ga.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Zu(n,r.Rs)}})}function mZ(t,e){let n=se(t),r=n.Ka.get(e);if(r&&r.Ba)return _e().add(r.key);{let i=_e(),s=n.qa.get(e);if(!s)return i;for(let o of s){let a=n.ka.get(o);i=i.unionWith(a.view.Sa)}return i}}function jL(t){let e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=OL.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mZ.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=dZ.bind(null,e),e.La.p_=rZ.bind(null,e.eventManager),e.La.Ja=iZ.bind(null,e.eventManager),e}function yZ(t){let e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=fZ.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=hZ.bind(null,e),e}var UL=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return E(this,null,function*(){this.serializer=vm(n.databaseInfo.databaseId),this.sharedClientState=this.Za(n),this.persistence=this.Xa(n),yield this.persistence.start(),this.localStore=this.eu(n),this.gcScheduler=this.tu(n,this.localStore),this.indexBackfillerScheduler=this.nu(n,this.localStore)})}tu(n,r){return null}nu(n,r){return null}eu(n){return FY(this.persistence,new gT,n.initialUser,this.serializer)}Xa(n){return new Yg(fT.ri,this.serializer)}Za(n){return new vT}terminate(){return E(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})(),UT=class extends UL{constructor(e){super(),this.cacheSizeBytes=e}tu(e,n){Ne(this.persistence.referenceDelegate instanceof Zg);let r=this.persistence.referenceDelegate.garbageCollector;return new XD(r,e.asyncQueue,n)}Xa(e){let n=this.cacheSizeBytes!==void 0?Cn.withCacheSize(this.cacheSizeBytes):Cn.DEFAULT;return new Yg(r=>Zg.ri(r,n),this.serializer)}};var vZ=(()=>{class t{initialize(n,r){return E(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>DF(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=gZ.bind(null,this.syncEngine),yield eZ(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new xT}()}createDatastore(n){let r=vm(n.databaseInfo.databaseId),i=function(o){return new bT(o)}(n.databaseInfo);return function(o,a,l,u){return new ST(o,a,l,u)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,l){return new RT(i,s,o,a,l)}(this.localStore,this.datastore,n.asyncQueue,r=>DF(this.syncEngine,r,0),function(){return Xg.D()?new Xg:new _T}())}createSyncEngine(n,r){return function(s,o,a,l,u,d,h){let m=new VT(s,o,a,l,u,d);return h&&(m.ja=!0),m}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return E(this,null,function*(){var n,r;yield function(s){return E(this,null,function*(){let o=se(s);H(co,"RemoteStore shutting down."),o.W_.add(5),yield Yu(o),o.z_.shutdown(),o.j_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var BT=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.iu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.iu(this.observer.error,e):ri("Uncaught Error in snapshot listener:",e.toString()))}su(){this.muted=!0}iu(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var Yi="FirestoreClient",HT=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=gt.UNAUTHENTICATED,this.clientId=Fg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>E(this,null,function*(){H(Yi,"Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(H(Yi,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new gr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>E(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=mC(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function hD(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),H(Yi,"Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>E(this,null,function*(){r.isEqual(i)||(yield CL(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function CF(t,e){return E(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield _Z(t);H(Yi,"Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>wF(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>wF(e.remoteStore,i)),t._onlineComponents=e})}function _Z(t){return E(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){H(Yi,"Using user provided OfflineComponentProvider");try{yield hD(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===L.FAILED_PRECONDITION||i.code===L.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;qa("Error using user provided cache. Falling back to memory cache: "+n),yield hD(t,new UL)}}else H(Yi,"Using default OfflineComponentProvider"),yield hD(t,new UT(void 0));return t._offlineComponents})}function BL(t){return E(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(H(Yi,"Using user provided OnlineComponentProvider"),yield CF(t,t._uninitializedComponentsProvider._online)):(H(Yi,"Using default OnlineComponentProvider"),yield CF(t,new vZ))),t._onlineComponents})}function EZ(t){return BL(t).then(e=>e.syncEngine)}function wZ(t){return E(this,null,function*(){let e=yield BL(t),n=e.eventManager;return n.onListen=sZ.bind(null,e.syncEngine),n.onUnlisten=lZ.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=oZ.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=cZ.bind(null,e.syncEngine),n})}function IZ(t,e,n={}){let r=new gr;return t.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return function(s,o,a,l,u){let d=new BT({next:m=>{d.su(),o.enqueueAndForget(()=>nZ(s,h));let p=m.docs.has(a);!p&&m.fromCache?u.reject(new K(L.UNAVAILABLE,"Failed to get document because the client is offline.")):p&&m.fromCache&&l&&l.source==="server"?u.reject(new K(L.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(m)},error:m=>u.reject(m)}),h=new PT(lC(a.path),d,{includeMetadataChanges:!0,Ta:!0});return tZ(s,h)}(yield wZ(t),t.asyncQueue,e,n,r)})),r.promise}function HL(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var SF=new Map;function bZ(t,e,n){if(!n)throw new K(L.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function DZ(t,e,n,r){if(e===!0&&r===!0)throw new K(L.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function AF(t){if(!Z.isDocumentKey(t))throw new K(L.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function EC(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ee()}function uo(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new K(L.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=EC(t);throw new K(L.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var $L="firestore.googleapis.com",RF=!0,am=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new K(L.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$L,this.ssl=RF}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:RF;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=TL;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<kY)throw new K(L.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}DZ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=HL((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new K(L.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},zu=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new am({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new K(L.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new K(L.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new am(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new pD;switch(r.type){case"firstParty":return new vD(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new K(L.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return E(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=SF.get(n);r&&(H("ComponentProvider","Removing Datastore"),SF.delete(n),r.terminate())}(this),Promise.resolve()}};function zL(t,e,n,r={}){var i;let s=(t=uo(t,zu))._getSettings(),o=`${e}:${n}`;if(s.host!==$L&&s.host!==o&&qa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=gt.MOCK_USER;else{a=cO(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new K(L.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new gt(u)}t._authCredentials=new gD(new Pg(a,l))}}var $T=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},vn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},qu=class t extends $T{constructor(e,n,r){super(e,n,lC(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new Z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function qL(t,e,...n){if(t=lt(t),arguments.length===1&&(e=Fg.newId()),bZ("doc","path",e),t instanceof zu){let r=rt.fromString(e,...n);return AF(r),new vn(t,null,new Z(r))}{if(!(t instanceof vn||t instanceof qu))throw new K(L.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(rt.fromString(e,...n));return AF(r),new vn(t.firestore,t instanceof qu?t.converter:null,new Z(r))}}var MF="AsyncQueue",lm=class{constructor(e=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new em(this,"async_queue_retry"),this.Su=()=>{let r=fD();r&&H(MF,"Visibility state changed to "+r.visibilityState),this.a_.t_()},this.bu=e;let n=fD();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Du(),this.vu(e)}enterRestrictedMode(e){if(!this.mu){this.mu=!0,this.yu=e||!1;let n=fD();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Su)}}enqueue(e){if(this.Du(),this.mu)return new Promise(()=>{});let n=new gr;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Vu.push(e),this.Cu()))}Cu(){return E(this,null,function*(){if(this.Vu.length!==0){try{yield this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(e){if(!ll(e))throw e;H(MF,"Operation failed with retryable error: "+e)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}})}vu(e){let n=this.bu.then(()=>(this.pu=!0,e().catch(r=>{this.gu=r,this.pu=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw ri("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.pu=!1,r))));return this.bu=n,n}enqueueAfterDelay(e,n,r){this.Du(),this.wu.indexOf(e)>-1&&(n=0);let i=MT.createAndSchedule(this,e,n,r,s=>this.Fu(s));return this.fu.push(i),i}Du(){this.gu&&ee()}verifyOperationInProgress(){}Mu(){return E(this,null,function*(){let e;do e=this.bu,yield e;while(e!==this.bu)})}xu(e){for(let n of this.fu)if(n.timerId===e)return!0;return!1}Ou(e){return this.Mu().then(()=>{this.fu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.fu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Mu()})}Nu(e){this.wu.push(e)}Fu(e){let n=this.fu.indexOf(e);this.fu.splice(n,1)}};var il=class extends zu{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new lm,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return E(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new lm(e),this._firestoreClient=void 0,yield e}})}};function WL(t,e){let n=typeof t=="object"?t:ur(),r=typeof t=="string"?t:e||Ug,i=Un(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=lO("firestore");s&&zL(i,...s)}return i}function GL(t){if(t._terminated)throw new K(L.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||TZ(t),t._firestoreClient}function TZ(t){var e,n,r;let i=t._freezeSettings(),s=function(a,l,u,d){return new ID(a,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,HL(d.experimentalLongPollingOptions),d.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new HT(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let l=a?._online.build();return{_offline:a?._offline.build(l),_online:l}}(t._componentsProvider))}var Wu=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Ft.fromBase64String(e))}catch(n){throw new K(L.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var sl=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new K(L.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Gu=class{constructor(e){this._methodName=e}};var Ku=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new K(L.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new K(L.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return we(this._lat,e._lat)||we(this._long,e._long)}};var Qu=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var CZ=/^__.*__$/,zT=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new wr(e,this.data,this.fieldMask,n,this.fieldTransforms):new lo(e,this.data,n,this.fieldTransforms)}},cm=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new wr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function KL(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var qT=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Bu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Lu(){return this.settings.Lu}ku(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}qu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.$u(e),i}Ku(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.ku({path:r,Qu:!1});return i.Bu(),i}Uu(e){return this.ku({path:void 0,Qu:!0})}Wu(e){return dm(e,this.settings.methodName,this.settings.Gu||!1,this.path,this.settings.zu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Bu(){if(this.path)for(let e=0;e<this.path.length;e++)this.$u(this.path.get(e))}$u(e){if(e.length===0)throw this.Wu("Document fields must not be empty");if(KL(this.Lu)&&CZ.test(e))throw this.Wu('Document fields cannot begin and end with "__"')}},WT=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||vm(e)}ju(e,n,r,i=!1){return new qT({Lu:e,methodName:n,zu:r,path:yn.emptyPath(),Qu:!1,Gu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function QL(t){let e=t._freezeSettings(),n=vm(t._databaseId);return new WT(t._databaseId,!!e.ignoreUndefinedProperties,n)}function SZ(t,e,n,r,i,s={}){let o=t.ju(s.merge||s.mergeFields?2:0,e,n,i);wC("Data must be an object, but it was:",o,r);let a=YL(r,o),l,u;if(s.merge)l=new Sn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){let d=[];for(let h of s.mergeFields){let m=GT(e,h,n);if(!o.contains(m))throw new K(L.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);JL(d,m)||d.push(m)}l=new Sn(d),u=o.fieldTransforms.filter(h=>l.covers(h.field))}else l=null,u=o.fieldTransforms;return new zT(new mn(a),l,u)}var um=class t extends Gu{_toFieldTransform(e){if(e.Lu!==2)throw e.Lu===1?e.Wu(`${this._methodName}() can only appear at the top level of your update data`):e.Wu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function AZ(t,e,n,r){let i=t.ju(1,e,n);wC("Data must be an object, but it was:",i,r);let s=[],o=mn.empty();Zi(r,(l,u)=>{let d=IC(e,l,n);u=lt(u);let h=i.Ku(d);if(u instanceof um)s.push(d);else{let m=wm(u,h);m!=null&&(s.push(d),o.set(d,m))}});let a=new Sn(s);return new cm(o,a,i.fieldTransforms)}function RZ(t,e,n,r,i,s){let o=t.ju(1,e,n),a=[GT(e,r,n)],l=[i];if(s.length%2!=0)throw new K(L.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)a.push(GT(e,s[m])),l.push(s[m+1]);let u=[],d=mn.empty();for(let m=a.length-1;m>=0;--m)if(!JL(u,a[m])){let p=a[m],_=l[m];_=lt(_);let I=o.Ku(p);if(_ instanceof um)u.push(p);else{let w=wm(_,I);w!=null&&(u.push(p),d.set(p,w))}}let h=new Sn(u);return new cm(d,h,o.fieldTransforms)}function wm(t,e){if(ZL(t=lt(t)))return wC("Unsupported field value:",e,t),YL(t,e);if(t instanceof Gu)return function(r,i){if(!KL(i.Lu))throw i.Wu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Wu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Qu&&e.Lu!==4)throw e.Wu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let l=wm(a,i.Uu(o));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=lt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return aY(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=Tt.fromDate(r);return{timestampValue:Kg(i.serializer,s)}}if(r instanceof Tt){let s=new Tt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Kg(i.serializer,s)}}if(r instanceof Ku)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Wu)return{bytesValue:vL(i.serializer,r._byteString)};if(r instanceof vn){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Wu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uC(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Qu)return function(o,a){return{mapValue:{fields:{[rC]:{stringValue:iC},[Ga]:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Wu("VectorValues must only contain numeric values.");return cC(a.serializer,u)})}}}}}}(r,i);throw i.Wu(`Unsupported field value: ${EC(r)}`)}(t,e)}function YL(t,e){let n={};return qF(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Zi(t,(r,i)=>{let s=wm(i,e.qu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function ZL(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tt||t instanceof Ku||t instanceof Wu||t instanceof vn||t instanceof Gu||t instanceof Qu)}function wC(t,e,n){if(!ZL(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=EC(n);throw r==="an object"?e.Wu(t+" a custom object"):e.Wu(t+" "+r)}}function GT(t,e,n){if((e=lt(e))instanceof sl)return e._internalPath;if(typeof e=="string")return IC(t,e);throw dm("Field path arguments must be of type string or ",t,!1,void 0,n)}var MZ=new RegExp("[~\\*/\\[\\]]");function IC(t,e,n){if(e.search(MZ)>=0)throw dm(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new sl(...e.split("."))._internalPath}catch{throw dm(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function dm(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new K(L.INVALID_ARGUMENT,a+t+l)}function JL(t,e){return t.some(n=>n.isEqual(e))}var fm=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new KT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(XL("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},KT=class extends fm{data(){return super.data()}};function XL(t,e){return typeof e=="string"?IC(t,e):e instanceof sl?e._internalPath:e._delegate._internalPath}var QT=class{convertValue(e,n="none"){switch(Ki(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Be(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(si(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Zi(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n[Ga].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>Be(o.doubleValue));return new Qu(s)}convertGeoPoint(e){return new Ku(Be(e.latitude),Be(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=gm(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Vu(e));default:return null}}convertTimestamp(e){let n=ii(e);return new Tt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=rt.fromString(e);Ne(DL(r));let i=new Bg(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||ri(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function NZ(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var YT=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},hm=class extends fm{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new ZT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(XL("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},ZT=class extends hm{data(e={}){return super.data(e)}};function eV(t){t=uo(t,vn);let e=uo(t.firestore,il);return IZ(GL(e),t._key).then(n=>xZ(e,t,n))}var JT=class extends QT{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wu(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,n)}};function tV(t,e,n){t=uo(t,vn);let r=uo(t.firestore,il),i=NZ(t.converter,e,n);return rV(r,[SZ(QL(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,Gi.none())])}function nV(t,e,n,...r){t=uo(t,vn);let i=uo(t.firestore,il),s=QL(i),o;return o=typeof(e=lt(e))=="string"||e instanceof sl?RZ(s,"updateDoc",t._key,e,n,r):AZ(s,"updateDoc",t._key,e),rV(i,[o.toMutation(t._key,Gi.exists(!0))])}function rV(t,e){return function(r,i){let s=new gr;return r.asyncQueue.enqueueAndForget(()=>E(this,null,function*(){return uZ(yield EZ(r),i,s)})),s.promise}(GL(t),e)}function xZ(t,e,n){let r=n.docs.get(e._key),i=new JT(t);return new hm(t,i,e._key,r,new YT(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){ol=i})($i),Dt(new Ze("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new il(new mD(r.getProvider("auth-internal")),new _D(o,r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new K(L.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bg(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Me(q1,W1,e),Me(q1,W1,"esm2017")})();var ho=class{constructor(e){return e}},iV="firestore",bC=class{constructor(){return zi(iV)}};var DC=new $("angularfire2.firestore-instances");function kZ(t,e){let n=Zs(iV,t,e);return n&&new ho(n)}function PZ(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ho(r)}}var OZ={provide:bC,deps:[[new dt,DC]]},FZ={provide:ho,useFactory:kZ,deps:[[new dt,DC],Bn]};function sV(t,...e){return Me("angularfire",dr.full,"fst"),Zt([FZ,OZ,{provide:DC,useFactory:PZ(t),multi:!0,deps:[Ae,Qe,fr,Zr,[new dt,Ru],[new dt,Pa],...e]}])}var Im=Pt(qL,!0,2);var TC=Pt(eV,!0);var oV=Pt(WL,!0);var aV=Pt(tV,!0,2);var lV=Pt(nV,!0,2);var dV="@firebase/installations",RC="0.6.12";var fV=1e4,hV=`w:${RC}`,pV="FIS_v2",VZ="https://firebaseinstallations.googleapis.com/v1",jZ=60*60*1e3,UZ="installations",BZ="Installations";var HZ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},go=new qt(UZ,BZ,HZ);function gV(t){return t instanceof zt&&t.code.includes("request-failed")}function mV({projectId:t}){return`${VZ}/projects/${t}/installations`}function yV(t){return{token:t.token,requestStatus:2,expiresIn:zZ(t.expiresIn),creationTime:Date.now()}}function vV(t,e){return E(this,null,function*(){let r=(yield e.json()).error;return go.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})}function _V({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function $Z(t,{refreshToken:e}){let n=_V(t);return n.append("Authorization",qZ(e)),n}function EV(t){return E(this,null,function*(){let e=yield t();return e.status>=500&&e.status<600?t():e})}function zZ(t){return Number(t.replace("s","000"))}function qZ(t){return`${pV} ${t}`}function WZ(r,i){return E(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){let s=mV(t),o=_V(t),a=e.getImmediate({optional:!0});if(a){let h=yield a.getHeartbeatsHeader();h&&o.append("x-firebase-client",h)}let l={fid:n,authVersion:pV,appId:t.appId,sdkVersion:hV},u={method:"POST",headers:o,body:JSON.stringify(l)},d=yield EV(()=>fetch(s,u));if(d.ok){let h=yield d.json();return{fid:h.fid||n,registrationStatus:2,refreshToken:h.refreshToken,authToken:yV(h.authToken)}}else throw yield vV("Create Installation",d)})}function wV(t){return new Promise(e=>{setTimeout(e,t)})}function GZ(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}var KZ=/^[cdef][\w-]{21}$/,AC="";function QZ(){try{let t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;let n=YZ(t);return KZ.test(n)?n:AC}catch{return AC}}function YZ(t){return GZ(t).substr(0,22)}function Dm(t){return`${t.appName}!${t.appId}`}var IV=new Map;function bV(t,e){let n=Dm(t);DV(n,e),ZZ(n,e)}function DV(t,e){let n=IV.get(t);if(n)for(let r of n)r(e)}function ZZ(t,e){let n=JZ();n&&n.postMessage({key:t,fid:e}),XZ()}var po=null;function JZ(){return!po&&"BroadcastChannel"in self&&(po=new BroadcastChannel("[Firebase] FID Change"),po.onmessage=t=>{DV(t.data.key,t.data.fid)}),po}function XZ(){IV.size===0&&po&&(po.close(),po=null)}var eJ="firebase-installations-database",tJ=1,mo="firebase-installations-store",CC=null;function MC(){return CC||(CC=Qs(eJ,tJ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(mo)}}})),CC}function bm(t,e){return E(this,null,function*(){let n=Dm(t),i=(yield MC()).transaction(mo,"readwrite"),s=i.objectStore(mo),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&bV(t,e.fid),e})}function TV(t){return E(this,null,function*(){let e=Dm(t),r=(yield MC()).transaction(mo,"readwrite");yield r.objectStore(mo).delete(e),yield r.done})}function Tm(t,e){return E(this,null,function*(){let n=Dm(t),i=(yield MC()).transaction(mo,"readwrite"),s=i.objectStore(mo),o=yield s.get(n),a=e(o);return a===void 0?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&bV(t,a.fid),a})}function NC(t){return E(this,null,function*(){let e,n=yield Tm(t.appConfig,r=>{let i=nJ(r),s=rJ(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===AC?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}})}function nJ(t){let e=t||{fid:QZ(),registrationStatus:0};return CV(e)}function rJ(t,e){if(e.registrationStatus===0){if(!navigator.onLine){let i=Promise.reject(go.create("app-offline"));return{installationEntry:e,registrationPromise:i}}let n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=iJ(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:sJ(t)}:{installationEntry:e}}function iJ(t,e){return E(this,null,function*(){try{let n=yield WZ(t,e);return bm(t.appConfig,n)}catch(n){throw gV(n)&&n.customData.serverCode===409?yield TV(t.appConfig):yield bm(t.appConfig,{fid:e.fid,registrationStatus:0}),n}})}function sJ(t){return E(this,null,function*(){let e=yield cV(t.appConfig);for(;e.registrationStatus===1;)yield wV(100),e=yield cV(t.appConfig);if(e.registrationStatus===0){let{installationEntry:n,registrationPromise:r}=yield NC(t);return r||n}return e})}function cV(t){return Tm(t,e=>{if(!e)throw go.create("installation-not-found");return CV(e)})}function CV(t){return oJ(t)?{fid:t.fid,registrationStatus:0}:t}function oJ(t){return t.registrationStatus===1&&t.registrationTime+fV<Date.now()}function aJ(r,i){return E(this,arguments,function*({appConfig:t,heartbeatServiceProvider:e},n){let s=lJ(t,n),o=$Z(t,n),a=e.getImmediate({optional:!0});if(a){let h=yield a.getHeartbeatsHeader();h&&o.append("x-firebase-client",h)}let l={installation:{sdkVersion:hV,appId:t.appId}},u={method:"POST",headers:o,body:JSON.stringify(l)},d=yield EV(()=>fetch(s,u));if(d.ok){let h=yield d.json();return yV(h)}else throw yield vV("Generate Auth Token",d)})}function lJ(t,{fid:e}){return`${mV(t)}/${e}/authTokens:generate`}function xC(t,e=!1){return E(this,null,function*(){let n,r=yield Tm(t.appConfig,s=>{if(!SV(s))throw go.create("not-registered");let o=s.authToken;if(!e&&dJ(o))return s;if(o.requestStatus===1)return n=cJ(t,e),s;{if(!navigator.onLine)throw go.create("app-offline");let a=hJ(s);return n=uJ(t,a),a}});return n?yield n:r.authToken})}function cJ(t,e){return E(this,null,function*(){let n=yield uV(t.appConfig);for(;n.authToken.requestStatus===1;)yield wV(100),n=yield uV(t.appConfig);let r=n.authToken;return r.requestStatus===0?xC(t,e):r})}function uV(t){return Tm(t,e=>{if(!SV(e))throw go.create("not-registered");let n=e.authToken;return pJ(n)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function uJ(t,e){return E(this,null,function*(){try{let n=yield aJ(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield bm(t.appConfig,r),n}catch(n){if(gV(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))yield TV(t.appConfig);else{let r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield bm(t.appConfig,r)}throw n}})}function SV(t){return t!==void 0&&t.registrationStatus===2}function dJ(t){return t.requestStatus===2&&!fJ(t)}function fJ(t){let e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+jZ}function hJ(t){let e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}function pJ(t){return t.requestStatus===1&&t.requestTime+fV<Date.now()}function gJ(t){return E(this,null,function*(){let e=t,{installationEntry:n,registrationPromise:r}=yield NC(e);return r?r.catch(console.error):xC(e).catch(console.error),n.fid})}function mJ(t,e=!1){return E(this,null,function*(){let n=t;return yield yJ(n),(yield xC(n,e)).token})}function yJ(t){return E(this,null,function*(){let{registrationPromise:e}=yield NC(t);e&&(yield e)})}function vJ(t){if(!t||!t.options)throw SC("App Configuration");if(!t.name)throw SC("App Name");let e=["projectId","apiKey","appId"];for(let n of e)if(!t.options[n])throw SC(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function SC(t){return go.create("missing-app-config-values",{valueName:t})}var AV="installations",_J="installations-internal",EJ=t=>{let e=t.getProvider("app").getImmediate(),n=vJ(e),r=Un(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},wJ=t=>{let e=t.getProvider("app").getImmediate(),n=Un(e,AV).getImmediate();return{getId:()=>gJ(n),getToken:i=>mJ(n,i)}};function IJ(){Dt(new Ze(AV,EJ,"PUBLIC")),Dt(new Ze(_J,wJ,"PRIVATE"))}IJ();Me(dV,RC);Me(dV,RC,"esm2017");var bJ="/firebase-messaging-sw.js",DJ="/firebase-cloud-messaging-push-scope",OV="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",TJ="https://fcmregistrations.googleapis.com/v1",FV="google.c.a.c_id",CJ="google.c.a.c_l",SJ="google.c.a.ts",AJ="google.c.a.e",RV=1e4;var Cm=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Cm||{});function li(t){let e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function RJ(t){let e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}var kC="fcm_token_details_db",MJ=5,MV="fcm_token_object_Store";function NJ(t){return E(this,null,function*(){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(kC))return null;let e=null;return(yield Qs(kC,MJ,{upgrade:(r,i,s,o)=>E(this,null,function*(){var a;if(i<2||!r.objectStoreNames.contains(MV))return;let l=o.objectStore(MV),u=yield l.index("fcmSenderId").get(t);if(yield l.clear(),!!u){if(i===2){let d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:(a=d.createTime)!==null&&a!==void 0?a:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:typeof d.vapidKey=="string"?d.vapidKey:li(d.vapidKey)}}}else if(i===3){let d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:li(d.auth),p256dh:li(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:li(d.vapidKey)}}}else if(i===4){let d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:li(d.auth),p256dh:li(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:li(d.vapidKey)}}}}})})).close(),yield rg(kC),yield rg("fcm_vapid_details_db"),yield rg("undefined"),xJ(e)?e:null})}function xJ(t){if(!t||!t.subscriptionOptions)return!1;let{subscriptionOptions:e}=t;return typeof t.createTime=="number"&&t.createTime>0&&typeof t.token=="string"&&t.token.length>0&&typeof e.auth=="string"&&e.auth.length>0&&typeof e.p256dh=="string"&&e.p256dh.length>0&&typeof e.endpoint=="string"&&e.endpoint.length>0&&typeof e.swScope=="string"&&e.swScope.length>0&&typeof e.vapidKey=="string"&&e.vapidKey.length>0}var kJ="firebase-messaging-database",PJ=1,Ju="firebase-messaging-store",PC=null;function LV(){return PC||(PC=Qs(kJ,PJ,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ju)}}})),PC}function OJ(t){return E(this,null,function*(){let e=VV(t),r=yield(yield LV()).transaction(Ju).objectStore(Ju).get(e);if(r)return r;{let i=yield NJ(t.appConfig.senderId);if(i)return yield LC(t,i),i}})}function LC(t,e){return E(this,null,function*(){let n=VV(t),i=(yield LV()).transaction(Ju,"readwrite");return yield i.objectStore(Ju).put(e,n),yield i.done,e})}function VV({appConfig:t}){return t.appId}var FJ={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."},Wt=new qt("messaging","Messaging",FJ);function LJ(t,e){return E(this,null,function*(){let n=yield jC(t),r=jV(e),i={method:"POST",headers:n,body:JSON.stringify(r)},s;try{s=yield(yield fetch(VC(t.appConfig),i)).json()}catch(o){throw Wt.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw Wt.create("token-subscribe-failed",{errorInfo:o})}if(!s.token)throw Wt.create("token-subscribe-no-token");return s.token})}function VJ(t,e){return E(this,null,function*(){let n=yield jC(t),r=jV(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},s;try{s=yield(yield fetch(`${VC(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Wt.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error){let o=s.error.message;throw Wt.create("token-update-failed",{errorInfo:o})}if(!s.token)throw Wt.create("token-update-no-token");return s.token})}function jJ(t,e){return E(this,null,function*(){let r={method:"DELETE",headers:yield jC(t)};try{let s=yield(yield fetch(`${VC(t.appConfig)}/${e}`,r)).json();if(s.error){let o=s.error.message;throw Wt.create("token-unsubscribe-failed",{errorInfo:o})}}catch(i){throw Wt.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})}function VC({projectId:t}){return`${TJ}/projects/${t}/registrations`}function jC(n){return E(this,arguments,function*({appConfig:t,installations:e}){let r=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${r}`})})}function jV({p256dh:t,auth:e,endpoint:n,vapidKey:r}){let i={web:{endpoint:n,auth:e,p256dh:t}};return r!==OV&&(i.web.applicationPubKey=r),i}var UJ=7*24*60*60*1e3;function BJ(t){return E(this,null,function*(){let e=yield $J(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:li(e.getKey("auth")),p256dh:li(e.getKey("p256dh"))},r=yield OJ(t.firebaseDependencies);if(r){if(zJ(r.subscriptionOptions,n))return Date.now()>=r.createTime+UJ?HJ(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield jJ(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return NV(t.firebaseDependencies,n)}else return NV(t.firebaseDependencies,n)})}function HJ(t,e){return E(this,null,function*(){try{let n=yield VJ(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield LC(t.firebaseDependencies,r),n}catch(n){throw n}})}function NV(t,e){return E(this,null,function*(){let r={token:yield LJ(t,e),createTime:Date.now(),subscriptionOptions:e};return yield LC(t,r),r.token})}function $J(t,e){return E(this,null,function*(){let n=yield t.pushManager.getSubscription();return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:RJ(e)})})}function zJ(t,e){let n=e.vapidKey===t.vapidKey,r=e.endpoint===t.endpoint,i=e.auth===t.auth,s=e.p256dh===t.p256dh;return n&&r&&i&&s}function xV(t){let e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return qJ(e,t),WJ(e,t),GJ(e,t),e}function qJ(t,e){if(!e.notification)return;t.notification={};let n=e.notification.title;n&&(t.notification.title=n);let r=e.notification.body;r&&(t.notification.body=r);let i=e.notification.image;i&&(t.notification.image=i);let s=e.notification.icon;s&&(t.notification.icon=s)}function WJ(t,e){e.data&&(t.data=e.data)}function GJ(t,e){var n,r,i,s,o;if(!e.fcmOptions&&!(!((n=e.notification)===null||n===void 0)&&n.click_action))return;t.fcmOptions={};let a=(i=(r=e.fcmOptions)===null||r===void 0?void 0:r.link)!==null&&i!==void 0?i:(s=e.notification)===null||s===void 0?void 0:s.click_action;a&&(t.fcmOptions.link=a);let l=(o=e.fcmOptions)===null||o===void 0?void 0:o.analytics_label;l&&(t.fcmOptions.analyticsLabel=l)}function KJ(t){return typeof t=="object"&&!!t&&FV in t}QJ("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");function QJ(t,e){let n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function YJ(t){if(!t||!t.options)throw OC("App Configuration Object");if(!t.name)throw OC("App Name");let e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(let r of e)if(!n[r])throw OC(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}function OC(t){return Wt.create("missing-app-config-values",{valueName:t})}var FC=class{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;let i=YJ(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}};function ZJ(t){return E(this,null,function*(){try{t.swRegistration=yield navigator.serviceWorker.register(bJ,{scope:DJ}),t.swRegistration.update().catch(()=>{}),yield JJ(t.swRegistration)}catch(e){throw Wt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})}function JJ(t){return E(this,null,function*(){return new Promise((e,n)=>{let r=setTimeout(()=>n(new Error(`Service worker not registered after ${RV} ms`)),RV),i=t.installing||t.waiting;t.active?(clearTimeout(r),e()):i?i.onstatechange=s=>{var o;((o=s.target)===null||o===void 0?void 0:o.state)==="activated"&&(i.onstatechange=null,clearTimeout(r),e())}:(clearTimeout(r),n(new Error("No incoming service worker found.")))})})}function XJ(t,e){return E(this,null,function*(){if(!e&&!t.swRegistration&&(yield ZJ(t)),!(!e&&t.swRegistration)){if(!(e instanceof ServiceWorkerRegistration))throw Wt.create("invalid-sw-registration");t.swRegistration=e}})}function eX(t,e){return E(this,null,function*(){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=OV)})}function tX(t,e){return E(this,null,function*(){if(!navigator)throw Wt.create("only-available-in-window");if(Notification.permission==="default"&&(yield Notification.requestPermission()),Notification.permission!=="granted")throw Wt.create("permission-blocked");return yield eX(t,e?.vapidKey),yield XJ(t,e?.serviceWorkerRegistration),BJ(t)})}function nX(t,e,n){return E(this,null,function*(){let r=rX(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[FV],message_name:n[CJ],message_time:n[SJ],message_device_time:Math.floor(Date.now()/1e3)})})}function rX(t){switch(t){case Cm.NOTIFICATION_CLICKED:return"notification_open";case Cm.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function iX(t,e){return E(this,null,function*(){let n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Cm.PUSH_RECEIVED&&(typeof t.onMessageHandler=="function"?t.onMessageHandler(xV(n)):t.onMessageHandler.next(xV(n)));let r=n.data;KJ(r)&&r[AJ]==="1"&&(yield nX(t,n.messageType,r))})}var kV="@firebase/messaging",PV="0.12.16";var sX=t=>{let e=new FC(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>iX(e,n)),e},oX=t=>{let e=t.getProvider("messaging").getImmediate();return{getToken:r=>tX(e,r)}};function aX(){Dt(new Ze("messaging",sX,"PUBLIC")),Dt(new Ze("messaging-internal",oX,"PRIVATE")),Me(kV,PV),Me(kV,PV,"esm2017")}function UV(){return E(this,null,function*(){try{yield eg()}catch{return!1}return typeof window<"u"&&Ws()&&mO()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})}function BV(t=ur()){return UV().then(e=>{if(!e)throw Wt.create("unsupported-browser")},e=>{throw Wt.create("indexed-db-unsupported")}),Un(lt(t),"messaging").getImmediate()}aX();var Xu=class{constructor(e){return e}},HV="messaging",UC=class{constructor(){return zi(HV)}};var BC=new $("angularfire2.messaging-instances");function lX(t,e,n){if(ra(n))return null;let r=Zs(HV,t,e);return r&&new Xu(r)}function cX(t){return(e,n,r)=>{if(ra(r))return null;let i=e.runOutsideAngular(()=>t(n));return new Xu(i)}}var uX={provide:UC,deps:[[new dt,BC]]},dX={provide:Xu,useFactory:lX,deps:[[new dt,BC],Bn,bn]};function $V(t,...e){return Me("angularfire",dr.full,"fcm"),Zt([dX,uX,{provide:BC,useFactory:cX(t),multi:!0,deps:[Ae,Qe,bn,fr,Zr,...e]}])}var zV=Pt(BV,!0);var qV={providers:[kN(),nN({eventCoalescing:!0}),Sx(iO),PO(()=>OO({projectId:"pcirm-a4062",appId:"1:482879199226:web:c5c9b0187a76e29ea33643",storageBucket:"pcirm-a4062.firebasestorage.app",apiKey:"AIzaSyAkOLYay1ARwxeeTri3u0rtumbanP0OHc0",authDomain:"pcirm-a4062.firebaseapp.com",messagingSenderId:"482879199226"})),V1(()=>U1()),sV(()=>oV()),$V(()=>zV())]};var XV=(()=>{class t{_renderer;_elementRef;onChange=n=>{};onTouched=()=>{};constructor(n,r){this._renderer=n,this._elementRef=r}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static \u0275fac=function(r){return new(r||t)(J(Lr),J(xt))};static \u0275dir=Ht({type:t})}return t})(),fX=(()=>{class t extends XV{static \u0275fac=(()=>{let n;return function(i){return(n||(n=ec(t)))(i||t)}})();static \u0275dir=Ht({type:t,features:[Xo]})}return t})(),ej=new $("");var hX={provide:ej,useExisting:Zl(()=>Nm),multi:!0};function pX(){let t=Ur()?Ur().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var gX=new $(""),Nm=(()=>{class t extends XV{_compositionMode;_composing=!1;constructor(n,r,i){super(n,r),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!pX())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static \u0275fac=function(r){return new(r||t)(J(Lr),J(xt),J(gX,8))};static \u0275dir=Ht({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Xt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[j_([hX]),Xo]})}return t})();var mX=new $(""),yX=new $("");function tj(t){return t!=null}function nj(t){return Si(t)?Ue(t):t}function rj(t){let e={};return t.forEach(n=>{e=n!=null?j(j({},e),n):e}),Object.keys(e).length===0?null:e}function ij(t,e){return e.map(n=>n(t))}function vX(t){return!t.validate}function sj(t){return t.map(e=>vX(e)?e:n=>e.validate(n))}function _X(t){if(!t)return null;let e=t.filter(tj);return e.length==0?null:function(n){return rj(ij(n,e))}}function oj(t){return t!=null?_X(sj(t)):null}function EX(t){if(!t)return null;let e=t.filter(tj);return e.length==0?null:function(n){let r=ij(n,e).map(nj);return My(r).pipe(le(rj))}}function aj(t){return t!=null?EX(sj(t)):null}function WV(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function wX(t){return t._rawValidators}function IX(t){return t._rawAsyncValidators}function HC(t){return t?Array.isArray(t)?t:[t]:[]}function Am(t,e){return Array.isArray(t)?t.includes(e):t===e}function GV(t,e){let n=HC(e);return HC(t).forEach(i=>{Am(n,i)||n.push(i)}),n}function KV(t,e){return HC(e).filter(n=>!Am(t,n))}var Rm=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=oj(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=aj(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},$C=class extends Rm{name;get formDirective(){return null}get path(){return null}},id=class extends Rm{_parent=null;name=null;valueAccessor=null},zC=class{_cd;constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},bX={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Ipe=pe(j({},bX),{"[class.ng-submitted]":"isSubmitted"}),lj=(()=>{class t extends zC{constructor(n){super(n)}static \u0275fac=function(r){return new(r||t)(J(id,2))};static \u0275dir=Ht({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&oc("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Xo]})}return t})();var ed="VALID",Sm="INVALID",ul="PENDING",td="DISABLED",fl=class{},Mm=class extends fl{value;source;constructor(e,n){super(),this.value=e,this.source=n}},nd=class extends fl{pristine;source;constructor(e,n){super(),this.pristine=e,this.source=n}},rd=class extends fl{touched;source;constructor(e,n){super(),this.touched=e,this.source=n}},dl=class extends fl{status;source;constructor(e,n){super(),this.status=e,this.source=n}};function DX(t){return(xm(t)?t.validators:t)||null}function TX(t){return Array.isArray(t)?oj(t):t||null}function CX(t,e){return(xm(e)?e.asyncValidators:t)||null}function SX(t){return Array.isArray(t)?aj(t):t||null}function xm(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}var qC=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(e,n){this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return kn(this.statusReactive)}set status(e){kn(()=>this.statusReactive.set(e))}_status=lc(()=>this.statusReactive());statusReactive=nc(void 0);get valid(){return this.status===ed}get invalid(){return this.status===Sm}get pending(){return this.status==ul}get disabled(){return this.status===td}get enabled(){return this.status!==td}errors;get pristine(){return kn(this.pristineReactive)}set pristine(e){kn(()=>this.pristineReactive.set(e))}_pristine=lc(()=>this.pristineReactive());pristineReactive=nc(!0);get dirty(){return!this.pristine}get touched(){return kn(this.touchedReactive)}set touched(e){kn(()=>this.touchedReactive.set(e))}_touched=lc(()=>this.touchedReactive());touchedReactive=nc(!1);get untouched(){return!this.touched}_events=new Ge;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(GV(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(GV(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(KV(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(KV(e,this._rawAsyncValidators))}hasValidator(e){return Am(this._rawValidators,e)}hasAsyncValidator(e){return Am(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(pe(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new rd(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new rd(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(pe(j({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new nd(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new nd(!0,r))}markAsPending(e={}){this.status=ul;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new dl(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(pe(j({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=td,this.errors=null,this._forEachChild(i=>{i.disable(pe(j({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Mm(this.value,r)),this._events.next(new dl(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(pe(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=ed,this._forEachChild(r=>{r.enable(pe(j({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(pe(j({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ed||this.status===ul)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Mm(this.value,n)),this._events.next(new dl(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(pe(j({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?td:ed}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ul,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=nj(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new dl(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new _t,this.statusChanges=new _t}_calculateStatus(){return this._allControlsDisabled()?td:this.errors?Sm:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ul)?ul:this._anyControlsHaveStatus(Sm)?Sm:ed}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new nd(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new rd(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_onDisabledChange=[];_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xm(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=TX(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=SX(this._rawAsyncValidators)}};var cj=new $("",{providedIn:"root",factory:()=>WC}),WC="always";function AX(t,e){return[...e.path,t]}function RX(t,e,n=WC){NX(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),xX(t,e),PX(t,e),kX(t,e),MX(t,e)}function QV(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function MX(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function NX(t,e){let n=wX(t);e.validator!==null?t.setValidators(WV(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=IX(t);e.asyncValidator!==null?t.setAsyncValidators(WV(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();QV(e._rawValidators,i),QV(e._rawAsyncValidators,i)}function xX(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&uj(t,e)})}function kX(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&uj(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function uj(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function PX(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function OX(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function FX(t){return Object.getPrototypeOf(t.constructor)===fX}function LX(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===Nm?n=s:FX(s)?r=s:i=s}),i||r||n||null}function YV(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function ZV(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var VX=class extends qC{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(e=null,n,r){super(DX(n),CX(r,n)),this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xm(n)&&(n.nonNullable||n.initialValueIsDefault)&&(ZV(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){YV(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){YV(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){ZV(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var jX={provide:id,useExisting:Zl(()=>GC)},JV=Promise.resolve(),GC=(()=>{class t extends id{_changeDetectorRef;callSetDisabledState;control=new VX;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new _t;constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=LX(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),OX(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){RX(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){JV.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&Ds(r);JV.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?AX(n,this._parent):[n]}static \u0275fac=function(r){return new(r||t)(J($C,9),J(mX,10),J(yX,10),J(ej,10),J(Jn,8),J(cj,8))};static \u0275dir=Ht({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[j_([jX]),Xo,Or]})}return t})();var UX=(()=>{class t{static \u0275fac=function(r){return new(r||t)};static \u0275mod=Zn({type:t});static \u0275inj=Yn({})}return t})();var hl=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:cj,useValue:n.callSetDisabledState??WC}]}}static \u0275fac=function(r){return new(r||t)};static \u0275mod=Zn({type:t});static \u0275inj=Yn({imports:[UX]})}return t})();var Ji=class t{constructor(e,n){this.auth=e;this.firestore=n;this.user$=j1(e)}user$;signInWithGoogle(){return E(this,null,function*(){try{let e=new Yb,r=(yield B1(this.auth,e)).user;if(r){let i=Im(this.firestore,"users",r.uid);(yield TC(i)).exists()||(yield aV(i,{uid:r.uid,email:r.email,displayName:r.displayName,photoURL:r.photoURL,phoneNumber:"",role:"parent"}))}}catch(e){console.error("Login Error:",e)}})}checkPhoneNumber(e){return E(this,null,function*(){try{let n=Im(this.firestore,"users",e),r=yield TC(n);return r.exists()?!!r.data().phoneNumber:!1}catch(n){return console.error("Error checking phone number:",n),!1}})}updatePhoneNumber(e,n){return E(this,null,function*(){try{let r=Im(this.firestore,"users",e);yield lV(r,{phoneNumber:n}),console.log("Phone number updated in Firestore."),console.log(e)}catch(r){console.error("Error updating phone number:",r)}})}signOut(){return E(this,null,function*(){yield H1(this.auth)})}static \u0275fac=function(n){return new(n||t)(Q(to),Q(ho))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};var km=class t{constructor(e){this.http=e}apiUrl="http://localhost:3000/send-otp";sendOTP(e,n){return this.http.post(this.apiUrl,{phoneNumber:e,otp:n})}static \u0275fac=function(n){return new(n||t)(Q(rE))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})};function $X(t,e){if(t&1){let n=ih();te(0,"button",8),Xt("click",function(){Es(n);let i=qe();return ws(i.login())}),te(1,"span",9),He(2,"Sign in with"),Y(),Ve(3,"img",10),Y()}}function zX(t,e){if(t&1&&(te(0,"p",24),He(1),Y()),t&2){let n=qe(2);de(),ac(n.phoneMessage)}}function qX(t,e){if(t&1&&(te(0,"p",29),He(1),Y()),t&2){let n=qe(3);de(),sh("\u23F3 OTP expires in ",n.timer,"s")}}function WX(t,e){if(t&1&&(te(0,"p",24),He(1),Y()),t&2){let n=qe(3);de(),ac(n.otpMessage)}}function GX(t,e){if(t&1){let n=ih();te(0,"div",17)(1,"label",25),He(2,"Enter OTP:"),Y(),te(3,"div",19)(4,"input",26),ah("ngModelChange",function(i){Es(n);let s=qe(2);return V_(s.otp,i)||(s.otp=i),ws(i)}),Y(),te(5,"button",27),Xt("click",function(){Es(n);let i=qe(2);return ws(i.verifyOTP())}),He(6," Verify OTP "),Y()(),et(7,qX,2,1,"p",28)(8,WX,2,1,"p",22),Y()}if(t&2){let n=qe(2);de(4),oh("ngModel",n.otp),de(3),X("ngIf",n.isTimerRunning),de(),X("ngIf",n.otpMessage)}}function KX(t,e){if(t&1){let n=ih();te(0,"div",11)(1,"div",12)(2,"div",13),Ve(3,"img",14),te(4,"button",15),Xt("click",function(){Es(n);let i=qe();return ws(i.signOut())}),He(5," Sign Out "),Y()(),te(6,"span",16),He(7),Y()(),te(8,"div",17)(9,"label",18),He(10,"Phone Number:"),Y(),te(11,"div",19)(12,"input",20),ah("ngModelChange",function(i){Es(n);let s=qe();return V_(s.phoneNumber,i)||(s.phoneNumber=i),ws(i)}),Y(),te(13,"button",21),Xt("click",function(){Es(n);let i=qe();return ws(i.sendOTP())}),He(14," Send OTP "),Y()(),et(15,zX,2,1,"p",22),Y(),et(16,GX,9,3,"div",23),Y()}if(t&2){let n=e.ngIf,r=qe();de(3),X("src",(n==null?null:n.photoURL)||"assets/default-profile.png",ic),de(4),ac(n.displayName),de(5),oh("ngModel",r.phoneNumber),de(3),X("ngIf",r.phoneMessage),de(),X("ngIf",r.showOTPInput)}}var Pm=class t{constructor(e,n){this.authService=e;this.twilioService=n;this.user$=this.authService.user$}phoneNumber="";otp="";showOTPInput=!1;user$;generatedOTP=null;otpMessage=null;phoneMessage=null;otpExpirationTime=null;timer=60;isTimerRunning=!1;otpExpired=!1;interval;login(){return E(this,null,function*(){yield this.authService.signInWithGoogle()})}ngOnInit(){this.authService.user$.subscribe(e=>{e||this.login()})}signOut(){return E(this,null,function*(){yield this.authService.signOut()})}validatePhoneNumber(){let e=/^\+639\d{9}$/;return this.phoneNumber.trim()?e.test(this.phoneNumber)?(this.phoneMessage=null,!0):(this.phoneMessage="\u274C Invalid format",!1):(this.phoneMessage="\u274C Please enter a phone number.",!1)}sendOTP(){this.validatePhoneNumber()&&(this.generatedOTP=this.generateOTP(),this.otpExpirationTime=Date.now()+6e4,this.showOTPInput=!0,this.otpExpired=!1,this.startTimer(),this.twilioService.sendOTP(this.phoneNumber,this.generatedOTP).subscribe(e=>{console.log("\u2705 OTP sent:",e),console.log("Generated OTP:",this.generatedOTP)},e=>{console.error("\u274C Error sending OTP:",e)}))}verifyOTP(){if(!this.generatedOTP||Date.now()>(this.otpExpirationTime||0)){this.otpMessage="\u274C OTP expired. Please request a new one.",this.clearOTP();return}this.otp===this.generatedOTP?(this.otpMessage="\u2705 Correct OTP!",this.clearOTP()):this.otpMessage="\u274C Incorrect OTP. Try again."}generateOTP(){return Math.floor(1e5+Math.random()*9e5).toString()}startTimer(){this.isTimerRunning||(this.timer=60,this.isTimerRunning=!0,this.otpExpired=!1,this.interval=setInterval(()=>{this.timer>0?this.timer--:(this.clearTimer(),this.otpExpired=!0,this.otpMessage="\u274C OTP Expired! Please request a new one.")},1e3))}clearTimer(){clearInterval(this.interval),this.isTimerRunning=!1}clearOTP(){this.generatedOTP=null,this.otpExpirationTime=null,this.clearTimer()}static \u0275fac=function(n){return new(n||t)(J(Ji),J(km))};static \u0275cmp=kt({type:t,selectors:[["app-login"]],decls:12,vars:6,consts:[[1,"min-h-screen","flex","items-center","justify-center","bg-cover","bg-center","relative",2,"background-image","url('images/icons/login-bg.jpg')"],[1,"absolute","inset-0","bg-black","bg-opacity-60"],[1,"relative","z-10","w-full","max-w-md","bg-white/90","shadow-2xl","rounded-xl","p-8","backdrop-blur-md"],[1,"text-2xl","font-bold","text-gray-800","text-center","mb-6"],[1,"text-lg","font-medium","text-gray-600","text-center","mb-6"],["class","w-full flex items-center justify-center gap-2 bg-gray-200  hover:bg-red-800 text-gray-800 px-4 py-3 rounded-lg shadow-md transition duration-300",3,"click",4,"ngIf"],["class","flex flex-col items-center mt-6 space-y-4",4,"ngIf"],["id","recaptcha-container",1,"mt-4"],[1,"w-full","flex","items-center","justify-center","gap-2","bg-gray-200","hover:bg-red-800","text-gray-800","px-4","py-3","rounded-lg","shadow-md","transition","duration-300",3,"click"],[1,"ml-2","font-medium"],["src","images/icons/google-logo.png",1,"w-13","h-5"],[1,"flex","flex-col","items-center","mt-6","space-y-4"],[1,"flex","flex-col","items-center","relative","group"],[1,"relative","w-20","h-20","rounded-full","border-4","border-gray-300","shadow-lg","overflow-hidden"],[1,"w-full","h-full","object-cover","transition","duration-300","group-hover:blur-md",3,"src"],[1,"absolute","inset-0","flex","items-center","justify-center","bg-black/50","text-red-600","font-semibold","opacity-0","group-hover:opacity-100","transition","duration-300",3,"click"],[1,"font-semibold","text-lg","mt-2","text-gray-800"],[1,"w-full"],["for","phone",1,"block","text-sm","font-medium","text-gray-700"],[1,"relative","mt-1"],["type","tel","id","phone","placeholder","+639123456789",1,"w-full","border","border-gray-300","rounded-lg","px-4","py-2","focus:outline-none","focus:ring-2","focus:ring-blue-400",3,"ngModelChange","ngModel"],[1,"absolute","right-2","top-1/2","transform","-translate-y-1/2","bg-blue-500","text-white","px-4","py-1","rounded-md","hover:bg-blue-600","transition",3,"click"],["class","text-lg font-semibold text-center mt-2",4,"ngIf"],["class","w-full",4,"ngIf"],[1,"text-lg","font-semibold","text-center","mt-2"],["for","otp",1,"block","text-sm","font-medium","text-gray-700"],["type","text","id","otp","placeholder","Enter OTP",1,"w-full","border","border-gray-300","rounded-lg","px-4","py-2","focus:outline-none","focus:ring-2","focus:ring-green-400",3,"ngModelChange","ngModel"],[1,"absolute","right-2","top-1/2","transform","-translate-y-1/2","bg-green-500","text-white","px-4","py-1","rounded-md","hover:bg-green-600","transition",3,"click"],["class","text-sm text-gray-600 text-center mt-2",4,"ngIf"],[1,"text-sm","text-gray-600","text-center","mt-2"]],template:function(n,r){n&1&&(te(0,"div",0),Ve(1,"div",1),te(2,"div",2)(3,"h1",3),He(4," Web-Based Prenatal & Child Immunization "),Y(),te(5,"h2",4),He(6,"LOGIN"),Y(),et(7,$X,4,0,"button",5),B_(8,"async"),et(9,KX,17,5,"div",6),B_(10,"async"),Ve(11,"div",7),Y()()),n&2&&(de(7),X("ngIf",!H_(8,2,r.user$)),de(2),X("ngIf",H_(10,4,r.user$)))},dependencies:[hl,Nm,lj,GC,Pn,Ri,vN],encapsulation:2})};var sd=function(t){return t[t.State=0]="State",t[t.Transition=1]="Transition",t[t.Sequence=2]="Sequence",t[t.Group=3]="Group",t[t.Animate=4]="Animate",t[t.Keyframes=5]="Keyframes",t[t.Style=6]="Style",t[t.Trigger=7]="Trigger",t[t.Reference=8]="Reference",t[t.AnimateChild=9]="AnimateChild",t[t.AnimateRef=10]="AnimateRef",t[t.Query=11]="Query",t[t.Stagger=12]="Stagger",t}(sd||{});function dj(t,e){return{type:sd.Trigger,name:t,definitions:e,options:{}}}function QC(t,e=null){return{type:sd.Animate,styles:e,timings:t}}function Om(t){return{type:sd.Style,styles:t,offset:null}}function YC(t,e,n=null){return{type:sd.Transition,expr:t,animation:e,options:n}}var QX=()=>["/appointment"],YX=()=>["/immunization"],ZX=t=>({"rotate-180":t});function JX(t,e){t&1&&(te(0,"h1",20),He(1,"Prenatal & Child Immunization"),Y())}function XX(t,e){t&1&&(te(0,"span"),He(1,"Appointments"),Y())}function eee(t,e){t&1&&(te(0,"span"),He(1,"Child Immunization"),Y())}function tee(t,e){if(t&1&&(vR(),te(0,"svg",21),Ve(1,"path",22),Y()),t&2){let n=qe();X("ngClass",jr(1,ZX,n.isChildImmunizationOpen))}}function nee(t,e){t&1&&(te(0,"div",23)(1,"button",24),Ve(2,"img",25),te(3,"span"),He(4,"Add Child"),Y()()()),t&2&&X("@dropdownAnimation",void 0)}function ree(t,e){t&1&&(te(0,"span"),He(1,"Profile"),Y())}function iee(t,e){t&1&&(te(0,"span"),He(1,"Settings"),Y())}function see(t,e){t&1&&(te(0,"span"),He(1,"Sign Out"),Y())}var Fm=class t{constructor(e,n){this.authService=e;this.router=n;this.user$=this.authService.user$}isOpen=!0;user$;isChildImmunizationOpen=!1;activeRoute;toggleSidebar(){this.isOpen=!this.isOpen}signOut(){return E(this,null,function*(){yield this.authService.signOut()})}toggleChildImmunization(){this.isChildImmunizationOpen=!this.isChildImmunizationOpen}navigateToChildImmunization(){this.router.navigate(["/immunization"])}static \u0275fac=function(n){return new(n||t)(J(Ji),J(kc))};static \u0275cmp=kt({type:t,selectors:[["app-side-panel"]],decls:27,vars:17,consts:[[1,"flex"],[1,"bg-gray-900","text-white","h-screen","transition-all","duration-300","flex","flex-col","justify-between"],[1,"flex","items-center","justify-between","p-4"],["class","text-lg font-bold",4,"ngIf"],[1,"p-2","rounded-md","bg-gray-800","hover:bg-gray-700",3,"click"],["src","images/icons/hamburger.png","alt","Menu",1,"h-5","w-6"],[1,"mt-4"],["routerLinkActive","router-link-active",1,"flex","items-center","p-3","hover:bg-gray-700","rounded-md","transition",3,"routerLink"],["src","images/icons/appoinments.png","alt","Appointments",1,"h-8","w-8","mr-2"],[4,"ngIf"],[1,"flex","items-center","p-3","hover:bg-gray-700","rounded-md","transition",3,"click","routerLink"],["src","images/icons/immune.png","alt","Child Immunization",1,"h-8","w-8","mr-2"],["class","w-5 h-5 ml-auto transition-transform  duration-300","fill","currentColor","viewBox","0 0 20 20",3,"ngClass",4,"ngIf"],["class","ml-10 mt-1 space-y-2 transition-all",4,"ngIf"],[1,"mt-auto","border-t","border-gray-70"],[1,"flex","items-center","p-3","hover:bg-gray-700","rounded-md","transition"],["alt","Child Immunization",1,"h-8","w-8","mr-2",3,"src"],["src","images/icons/setting.png","alt","Settings",1,"h-5","w-5","mr-2"],[1,"flex","items-center","p-3","hover:bg-gray-700","rounded-md","transition",3,"click"],["src","images/icons/signout.png","alt","Settings",1,"h-5","w-5","mr-2"],[1,"text-lg","font-bold"],["fill","currentColor","viewBox","0 0 20 20",1,"w-5","h-5","ml-auto","transition-transform","duration-300",3,"ngClass"],["fill-rule","evenodd","d","M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule","evenodd"],[1,"ml-10","mt-1","space-y-2","transition-all"],[1,"flex","items-center","px-3","py-2","bg-gray-800","text-white","rounded-md","hover:bg-gray-700","transition"],["src","images/icons/baby-boy.png","alt","Add",1,"h-6","w-6","mr-2"]],template:function(n,r){n&1&&(te(0,"div",0)(1,"aside",1)(2,"div")(3,"div",2),et(4,JX,2,0,"h1",3),te(5,"button",4),Xt("click",function(){return r.toggleSidebar()}),Ve(6,"img",5),Y()(),te(7,"nav",6)(8,"a",7),Ve(9,"img",8),et(10,XX,2,0,"span",9),Y(),te(11,"a",10),Xt("click",function(){return r.toggleChildImmunization()}),Ve(12,"img",11),et(13,eee,2,0,"span",9)(14,tee,2,3,"svg",12),Y(),et(15,nee,5,1,"div",13),Y()(),te(16,"div",14)(17,"a",15),Ve(18,"img",16),et(19,ree,2,0,"span",9),Y(),te(20,"a",15),Ve(21,"img",17),et(22,iee,2,0,"span",9),Y(),te(23,"a",18),Xt("click",function(){return r.signOut()}),Ve(24,"img",19),et(25,see,2,0,"span",9),Y()()(),Ve(26,"router-outlet"),Y()),n&2&&(de(),oc("w-64",r.isOpen)("w-18",!r.isOpen),de(3),X("ngIf",r.isOpen),de(4),X("routerLink",U_(15,QX)),de(2),X("ngIf",r.isOpen),de(),X("routerLink",U_(16,YX)),de(2),X("ngIf",r.isOpen),de(),X("ngIf",r.isOpen),de(),X("ngIf",r.isChildImmunizationOpen),de(3),X("src",(r.user$==null?null:r.user$.photoURL)||"assets/default-profile.png",ic),de(),X("ngIf",r.isOpen),de(3),X("ngIf",r.isOpen),de(3),X("ngIf",r.isOpen))},dependencies:[Pn,uh,Ri,hl,zE,Cx],encapsulation:2,data:{animation:[dj("dropdownAnimation",[YC(":enter",[Om({height:"0px",opacity:0}),QC("300ms ease-out",Om({height:"*",opacity:1}))]),YC(":leave",[QC("200ms ease-in",Om({height:"0px",opacity:0}))])])]}})};function oee(t,e){t&1&&Ve(0,"app-login")}var Lm=class t{constructor(e){this.authService=e;this.user$=this.authService.user$}user$;phoneExists=null;ngOnInit(){return E(this,null,function*(){this.user$.subscribe(e=>E(this,null,function*(){e?this.phoneExists=yield this.authService.checkPhoneNumber(e.uid):this.phoneExists=!1}))})}static \u0275fac=function(n){return new(n||t)(J(Ji))};static \u0275cmp=kt({type:t,selectors:[["app-root"]],decls:2,vars:1,consts:[[4,"ngIf"]],template:function(n,r){n&1&&(et(0,oee,1,0,"app-login",0),Ve(1,"app-side-panel")),n&2&&X("ngIf",!r.phoneExists)},dependencies:[Pm,Pn,Ri,hl,Fm],encapsulation:2})};$N(Lm,qV).catch(t=>console.error(t));
